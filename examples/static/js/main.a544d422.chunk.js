/*! For license information please see main.a544d422.chunk.js.LICENSE.txt */
(this.webpackJsonpexamples=this.webpackJsonpexamples||[]).push([[0],{164:function(e,t,n){},165:function(e,t,n){},166:function(e,t,n){},181:function(e,t,n){},182:function(e,t,n){},183:function(e,t,n){},184:function(e,t,n){"use strict";n.r(t),t.default="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAABqUlEQVQ4T92Uv0tbURTHPyevUwc3qUshU/8DBzOYmwiFDlK6dHKwVHBwUKjUoleS4Ku0UkEHB6HSDp1cpHRwSnKz1KH/QaeAS0txcXDy5ciNL5LEF4k/oOBZHvfdcz/33O/53ivccUgvnrFaBAo95ksuFD9/Kf4LMOdCcb4UY9UAVeBWFd5XoHmnaQIKCOm21nnNko7c1LQZSp2IkvsgdT+86PLYoj6KUvzp8sGvIGCiXJLf/v9YQZ9EEd+A4fa8oMFQeVX+dgD9IG8134CvwGMV1morspDkteyyfhTlLXCYgslKKJVW3iUfxlV46Aiw40KZaocaq5+B18BBEDDZqv4CmLO6pnDS7vzxoj48PuWLwEuU7ymY8QsasIXwXGF34AGvfhTlpAUatfo0BRkxVhVwLpRc9/GM1U/AG4WfsT4ZYN2FMp+Q6w1vrgTGt2MW2IgBcy6UzSRdjdX+gH5xdlGf+W9tVfaTYPHG/QN7QbqadQ7MWj0S5ZiIXMuc/QA6YOeXoqrCgNfwqnfvuuxS04fZJd0W4QUweF1CnP9Plb3ae5nu+cDeEMwZu/TFGsleoRIAAAAASUVORK5CYII="},185:function(e,t,n){"use strict";n.r(t),t.default="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAB80lEQVQ4T62SP2hTURTGf997Qx1F1EFQ61DpWAcHhyY3zrpp0EEoaEGnuta80MSXttBRhw4W2iC6xEWdCsJ7qf/G6uCgg3TQRaE6OEmSI+/ZFBJjU9p804V7z+9+55xPDFgaMA+5wC5g3EcM7xP+AXiiXGCPDD4B9X0CncRk4jCSKEWhUqALzJlxOTlL1OKK4t18lNQBUQfQzdhBmkTAe8Fvg7P45OKyfvaD9gRmC3ZVHnNxqFMJIBtY1ROrUajH/YC5omXNiDsd3rExPNbNyEt8B57TYjye07s9AdMZFm0RYyIFiJU41K1esLRFn1dxWY3kvqfDduH4tB1Jzi/nlbjsUCawEQ8WgBHE5yGPidWyNncEZgp23BPX8VmKy/rSJrqi3cSYB576PgutJsst+GVwwxcn/pnhlvW8GRXgq8FpjNv1WdVcYDXgksRUFOpe8vZ8wU62xAowJDG9DQTK33zeHG2mrUxhFONZVVzBAkQI/ACa5pGv31USq225kh22BlXBMWAs3XIC5O9cDpm4Vg/1tl2RLdo5jBeCTYkrUajX3XN1M3aAJg/TDraADrEUh5r8XzxcwZ4hLgpGo4o+dr/rXsqD3YQ3U7Qza6HWe33aAaRFFY+NfuHd8b7FMB7LciUbpcEakGZvzzI2ULqcwWrgwD/S1/2fF41d/wAAAABJRU5ErkJggg=="},186:function(e,t,n){"use strict";n.r(t),t.default="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAABMUlEQVQ4T+XUsUrEQBCA4X8MCD6Cr6DPIOawFiy8gE9ga62BM7D6Aj6CYOHZnaAg6h62Yqed7dmKnUUYmbARDafZwBWCWyWb2W9nZ3cjzLjJjD2iwZVdXbw7lJe2BKLANNcUSOfg+MbJ82/oN7CX64nCVhjgvZNewG6tT+FhPmH9qpBJmqtanwgTVba9k/Pq/etsdRBQhOCRKvfAI7AcYsckbFCyE94HFu+d7P8EVh/XBrpUllwCb8AZMFAlE+EUYbTwSv/iSN5DEu1gmqvNuJkkZGVJZqB3Iqt72jfU8PGBDKNBS9+yvC7kKeAVaP2GGmbPncC6vk1wSt3bl9wYZMv/zPAfgKH4qXfim7ckZlOG3okdk6gWA0ZBjaDpuxwObX3FusB276tyRP1tush/H/wANP7LFUnxl7EAAAAASUVORK5CYII="},187:function(e,t,n){},188:function(e,t,n){},189:function(e,t,n){},190:function(e,t,n){},283:function(e,t,n){},290:function(e,t,n){},294:function(e,t,n){},295:function(e,t,n){"use strict";n.r(t);var r=n(1),o=n(0),i=n.n(o),a=n(26),c=n.n(a),u=n(115),s=(n(164),n(31)),l=n(8),f=n(3),p=n.n(f),d=(n(165),n(154)),h=n(153),y=n(304);n(166);function b(e){return Object(r.jsxs)("div",{className:"example-header",children:[Object(r.jsxs)("div",{className:"content",style:e.contentStyle,children:[Object(r.jsx)("span",{className:"content-text",children:e.content}),e.children]}),Object(r.jsx)("div",{className:"tools",children:e.githubPath?Object(r.jsx)(d.a,{arrowPointAtCenter:!0,placement:"bottomRight",title:"\u5728 Github \u4e2d\u67e5\u770b",children:Object(r.jsx)(h.a,{type:"text",shape:"circle",target:"_blank",href:"https://github.com/didi/LogicFlow/tree/master/examples/src/pages"+e.githubPath,icon:Object(r.jsx)(y.a,{})})}):null})]})}var v={stopScrollGraph:!0,stopZoomGraph:!0,grid:{type:"dot",size:20}},g={nodes:[{id:50,type:"rect",x:100,y:150,text:"\u4f60\u597d"},{id:21,type:"circle",x:300,y:150}],edges:[{type:"polyline",sourceNodeId:50,targetNodeId:21}]};var m=n(22),O=n(32),x=n(24),j=n(23),_=(n(181),function(e){Object(x.a)(n,e);var t=Object(j.a)(n);function n(e){var r;return Object(m.a)(this,n),(r=t.call(this,e)).state={shapeList:[{type:"rect",text:"\u77e9\u5f62"},{type:"circle",text:"\u5706\u5f62"}]},r}return Object(O.a)(n,[{key:"mouseDown",value:function(e){var t=e.type,n=e.text;(0,this.props.mouseDownHandle)({type:t,text:n})}},{key:"render",value:function(){var e=this,t=this.state.shapeList;return Object(r.jsx)("div",{className:"panel",children:t.map((function(t){var n=t.type,o=t.text;return Object(r.jsxs)("div",{className:"panel-item",children:[Object(r.jsx)("div",{className:"panel-".concat(n),onMouseDown:function(){e.mouseDown(t)}}),Object(r.jsx)("span",{children:o})]},n)}))})}}]),n}(o.Component)),w=(n(182),function(e){Object(x.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(m.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).lf=void 0,e.mouseDownHandle=function(t){e.lf.dnd.startDrag(t)},e}return Object(O.a)(n,[{key:"componentDidMount",value:function(){this.lf=new p.a({container:document.querySelector("#graph"),stopScrollGraph:!0,stopZoomGraph:!0}),this.lf.render()}},{key:"render",value:function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(b,{content:"\u62d6\u62fd\u9762\u677f\u4e0a\u7684\u56fe\u5f62\u751f\u6210\u8282\u70b9",githubPath:"/basic/dnd/index.tsx"}),Object(r.jsxs)("div",{className:"dnd-example-container",children:[Object(r.jsx)(_,{mouseDownHandle:this.mouseDownHandle}),Object(r.jsx)("div",{id:"graph",className:"viewport"})]})]})}}]),n}(o.Component)),E=(n(82),n(183),{isSilentMode:!0,stopScrollGraph:!0,stopZoomGraph:!0}),S={nodes:[{id:10,type:"rect",x:100,y:100,text:"\u4f60\u597d\uff01"},{id:20,type:"circle",x:400,y:100,text:"\u4f60\u597d\uff01"}],edges:[{type:"line",sourceNodeId:10,targetNodeId:20,endPoint:{id:"150-150",x:350,y:100}}]},P=function(e){Object(x.a)(n,e);var t=Object(j.a)(n);function n(e){var r;return Object(m.a)(this,n),(r=t.call(this,e)).dotlf=void 0,r.meshlf=void 0,r.handleClick=function(e){e!==r.state.currentGrid&&r.setState({currentGrid:e})},r.dotlf=null,r.meshlf=null,r.state={currentGrid:"dot"},r}return Object(O.a)(n,[{key:"componentDidMount",value:function(){this.dotlf=new p.a(Object(l.a)(Object(l.a)({},E),{},{grid:{size:10,type:"dot"},container:document.querySelector("#graphDot")})),this.meshlf=new p.a(Object(l.a)(Object(l.a)({},E),{},{grid:{size:10,type:"mesh"},container:document.querySelector("#graphMesh")})),this.dotlf.render(S),this.meshlf.render(S)}},{key:"render",value:function(){var e=this,t=this.state.currentGrid;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(b,{githubPath:"/basic/grid/index.tsx",children:["\u7f51\u683c\u7c7b\u578b\uff1a",Object(r.jsx)(h.a,{onClick:function(){e.handleClick("dot")},children:"Dot"}),Object(r.jsx)(h.a,{onClick:function(){e.handleClick("mesh")},children:"Mesh"})]}),Object(r.jsx)("div",{id:"graphDot",className:"viewport example-grid-".concat("dot"===t?"visible":"hidden")}),Object(r.jsx)("div",{id:"graphMesh",className:"viewport example-grid-".concat("mesh"===t?"visible":"hidden")})]})}}]),n}(o.Component),A={isSilentMode:!0,stopScrollGraph:!0,stopZoomGraph:!0,style:{rect:{width:100,height:50}}},k={nodes:[{id:10,type:"rect",x:150,y:70,text:"\u77e9\u5f62"}]};var D=n(37),N=n(94),M=new N.a([32,32,1]);function T(){return M.next()}var C=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),R=function(){return(R=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},I=function(e){function t(t,n){return t.id||(t.id="Event_"+T()),t.text||(t.text=""),t.text&&"string"===typeof t.text&&(t.text={value:t.text,x:t.x,y:t.y+40}),e.call(this,t,n)||this}return C(t,e),t.prototype.getConnectedTargetRules=function(){var t=e.prototype.getConnectedTargetRules.call(this);return t.push({message:"\u8d77\u59cb\u8282\u70b9\u4e0d\u80fd\u4f5c\u4e3a\u8fde\u7ebf\u7684\u7ec8\u70b9",validate:function(){return!1}}),t},t}(f.CircleNodeModel),L={type:"bpmn:startEvent",view:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return C(t,e),t.prototype.getAttributes=function(){var t=e.prototype.getAttributes.call(this);return R({},t)},t.extendKey="StartEventNode",t}(f.CircleNode),model:I},z=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),B=function(e){function t(t,n){return t.id||(t.id="Event_"+T()),t.text||(t.text=""),t.text&&"string"===typeof t.text&&(t.text={value:t.text,x:t.x,y:t.y+40}),e.call(this,t,n)||this}return z(t,e),t.prototype.getConnectedSourceRules=function(){var t=e.prototype.getConnectedSourceRules.call(this);return t.push({message:"\u7ed3\u675f\u8282\u70b9\u4e0d\u80fd\u4f5c\u4e3a\u8fde\u7ebf\u7684\u8d77\u70b9",validate:function(){return!1}}),t},t.extendKey="EndEventModel",t}(f.CircleNodeModel),F={type:"bpmn:endEvent",view:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return z(t,e),t.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},t.prototype.getShape=function(){var t=this.getAttributes(),n=t.x,r=t.y,o=t.fill,i=t.stroke,a=t.strokeWidth,c=t.r,u=e.prototype.getShape.call(this);return Object(f.h)("g",{},u,Object(f.h)("circle",{cx:n,cy:r,fill:o,stroke:i,strokeWidth:a,r:c-5}))},t}(f.CircleNode),model:B},U=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),G=function(e){function t(t,n){var r=this;return t.id||(t.id="Gateway_"+T()),t.text||(t.text=""),t.text&&"string"===typeof t.text&&(t.text={value:t.text,x:t.x,y:t.y+40}),(r=e.call(this,t,n)||this).points=[[25,0],[50,25],[25,50],[0,25]],r}return U(t,e),t.extendKey="ExclusiveGatewayModel",t}(f.PolygonNodeModel),X={type:"bpmn:exclusiveGateway",view:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return U(t,e),t.prototype.getShape=function(){var t=e.prototype.getAttributes.call(this),n=t.x,r=t.y,o=t.fill,i=t.stroke,a=t.strokeWidth,c=t.width,u=t.height,s=t.points;return Object(f.h)("g",{transform:"matrix(1 0 0 1 "+(n-c/2)+" "+(r-u/2)+")"},Object(f.h)("polygon",{fill:o,x:n,y:r,stroke:i,strokeWidth:a,points:s}),Object(f.h)("path",{fill:o,stroke:i,strokeWidth:a,d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"}))},t.extendKey="ExclusiveGatewayNode",t}(f.PolygonNode),model:G},Y=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),V=function(e){function t(t,n){return t.id||(t.id="Activity_"+T()),e.call(this,t,n)||this}return Y(t,e),t.extendKey="UserTaskModel",t}(f.RectNodeModel),H={type:"bpmn:userTask",view:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Y(t,e),t.prototype.getLabelShape=function(){var t=e.prototype.getAttributes.call(this),n=t.x,r=t.y,o=t.width,i=t.height,a=t.stroke;return Object(f.h)("svg",{x:n-o/2+5,y:r-i/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},Object(f.h)("path",{fill:a,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},t.prototype.getShape=function(){var t=e.prototype.getAttributes.call(this),n=t.x,r=t.y,o=t.width,i=t.height,a=t.fill,c=t.stroke,u=t.strokeWidth,s=t.radius;return Object(f.h)("g",{},[Object(f.h)("rect",{x:n-o/2,y:r-i/2,rx:s,ry:s,fill:a,stroke:c,strokeWidth:u,width:o,height:i}),this.getLabelShape()])},t.extendKey="UserTaskNode",t}(f.RectNode),model:V},W=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),K=function(e){function t(t,n){return t.id||(t.id="Activity_"+T()),e.call(this,t,n)||this}return W(t,e),t.extendKey="ServiceTaskModel",t}(f.RectNodeModel),q={type:"bpmn:serviceTask",view:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return W(t,e),t.prototype.getLabelShape=function(){var t=e.prototype.getAttributes.call(this),n=t.x,r=t.y,o=t.width,i=t.height,a=t.stroke;return Object(f.h)("svg",{x:n-o/2+5,y:r-i/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},Object(f.h)("path",{fill:a,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},t.prototype.getShape=function(){var t=e.prototype.getAttributes.call(this),n=t.x,r=t.y,o=t.width,i=t.height,a=t.fill,c=t.stroke,u=t.strokeWidth,s=t.radius;return Object(f.h)("g",{},[Object(f.h)("rect",{x:n-o/2,y:r-i/2,rx:s,ry:s,fill:a,stroke:c,strokeWidth:u,width:o,height:i}),this.getLabelShape()])},t.extendKey="ServiceTaskNode",t}(f.RectNode),model:K},Z=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Q=function(e){function t(t,n){return t.id||(t.id="Flow_"+T()),e.call(this,t,n)||this}return Z(t,e),t.extendKey="SequenceFlowModel",t}(f.PolylineEdgeModel),J={type:"bpmn:sequenceFlow",view:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Z(t,e),t.extendKey="SequenceFlowEdge",t}(f.PolylineEdge),model:Q},$=40,ee=40,te=40,ne=40,re=40,oe=40,ie=100,ae=80,ce=100,ue=80,se={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},le=function(e){var t=e.lf;t.setTheme(se),t.register(L),t.register(F),t.register(X),t.register(H),t.register(q),t.register(J),t.setDefaultEdgeType("bpmn:sequenceFlow")};var fe={name:"snapshot",install:function(e){var t=this;this.offsetX=Number.MAX_SAFE_INTEGER,this.offsetY=Number.MAX_SAFE_INTEGER,e.getSnapshot=function(n){t.fileName=n||"logic-flow."+Date.now()+".png",e.graphModel.nodes.forEach((function(e){var n=e.x-e.width/2,r=e.y-e.height/2;n<t.offsetX&&(t.offsetX=n-5),r<t.offsetY&&(t.offsetY=r-5)})),e.graphModel.edges.forEach((function(e){e.pointsList&&e.pointsList.forEach((function(e){var n=e.x,r=e.y;n<t.offsetX&&(t.offsetX=n-5),r<t.offsetY&&(t.offsetY=r-5)}))}));var r=e.container.querySelector("svg");t.downloadSvg(r,t.fileName)}},triggerDownload:function(e){var t=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),n=document.createElement("a");n.setAttribute("download",this.fileName),n.setAttribute("href",e),n.setAttribute("target","_blank"),n.dispatchEvent(t)},removeAnchor:function(e){for(var t=e.childNodes,n=e.childNodes&&e.childNodes.length,r=0;r<n;r++){var o=t[r];(o.classList&&Array.from(o.classList)||[]).indexOf("lf-anchor")>-1&&(e.removeChild(e.childNodes[r]),n--,r--)}},downloadSvg:function(e){var t=this,n=e.cloneNode(!0),r=window.devicePixelRatio||1,o=n.lastChild,i=o.childNodes&&o.childNodes.length;if(i)for(var a=0;a<i;a++){var c=o.childNodes[a],u=c.classList&&Array.from(c.classList);if(u&&u.indexOf("lf-base")<0)o.removeChild(o.childNodes[a]),i--,a--;else{var s=o.childNodes[a];s&&s.childNodes.forEach((function(e){var n=e;t.removeAnchor(n.firstChild)}))}}n.lastChild.style.transform="matrix(1, 0, 0, 1, "+(10-this.offsetX)+", "+(10-this.offsetY)+")";var l=document.createElement("canvas"),f=document.getElementsByClassName("lf-base")[0].getBoundingClientRect();l.style.width=f.width+"px",l.style.height=f.height+"px",l.width=f.width*r+80,l.height=f.height*r+80;var p=l.getContext("2d");p.scale(r,r),p.clearRect(0,0,f.width,f.height);var d=function(e){if(e.outerHTML)return e.outerHTML;var t=document.createElement("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML}(n),h=new Image,y=new Blob([d],{type:"image/svg+xml;charset=utf-8"}),b=window.URL.createObjectURL(y);h.onload=function(){p.drawImage(h,0,0),window.URL.revokeObjectURL(b);var e=l.toDataURL("image/png").replace("image/png","image/octet-stream");t.triggerDownload(e,t.fileName)},h.src=b}},pe=new N.a([32,32,1]);function de(){return pe.next()}var he=function(){};(he.ObjTree=function(){return this}).VERSION="0.23",he.ObjTree.prototype.xmlDecl='<?xml version="1.0" encoding="UTF-8" ?>\n',he.ObjTree.prototype.attr_prefix="-",he.ObjTree.prototype.parseXML=function(e){var t;if(window.DOMParser){var n=new DOMParser,r=n.parseFromString(e,"application/xml");if(!r)return;t=r.documentElement}else window.ActiveXObject&&((n=new ActiveXObject("Microsoft.XMLDOM")).async=!1,n.loadXML(e),t=n.documentElement);if(t)return this.parseDOM(t)},he.ObjTree.prototype.parseHTTP=function(e,t,n){var r,o={};for(var i in t)o[i]=t[i];if(o.method||("undefined"==typeof o.postBody&&"undefined"==typeof o.postbody&&"undefined"==typeof o.parameters?o.method="get":o.method="post"),n){o.asynchronous=!0;var a=this,c=n,u=o.onComplete;o.onComplete=function(e){var t;e&&e.responseXML&&e.responseXML.documentElement&&(t=a.parseDOM(e.responseXML.documentElement)),c(t,e),u&&u(e)}}else o.asynchronous=!1;if("undefined"!=typeof HTTP&&HTTP.Request)o.uri=e,(s=new HTTP.Request(o))&&(r=s.transport);else if("undefined"!=typeof Ajax&&Ajax.Request){var s;(s=new Ajax.Request(e,o))&&(r=s.transport)}return n?r:r&&r.responseXML&&r.responseXML.documentElement?this.parseDOM(r.responseXML.documentElement):void 0},he.ObjTree.prototype.parseDOM=function(e){if(e){if(this.__force_array={},this.force_array)for(var t=0;t<this.force_array.length;t++)this.__force_array[this.force_array[t]]=1;var n=this.parseElement(e);if(this.__force_array[e.nodeName]&&(n=[n]),11!=e.nodeType){var r={};r[e.nodeName]=n,n=r}return n}},he.ObjTree.prototype.parseElement=function(e){if(7!=e.nodeType){if(3==e.nodeType||4==e.nodeType){if(null==e.nodeValue.match(/[^\x00-\x20]/))return;return e.nodeValue}var t,n={};if(e.attributes&&e.attributes.length){t={};for(var r=0;r<e.attributes.length;r++){if("string"==typeof(a=e.attributes[r].nodeName))(c=e.attributes[r].nodeValue)&&("undefined"==typeof n[a=this.attr_prefix+a]&&(n[a]=0),n[a]++,this.addNode(t,a,n[a],c))}}if(e.childNodes&&e.childNodes.length){var o=!0;t&&(o=!1);for(r=0;r<e.childNodes.length&&o;r++){var i=e.childNodes[r].nodeType;3!=i&&4!=i&&(o=!1)}if(o){t||(t="");for(r=0;r<e.childNodes.length;r++)t+=e.childNodes[r].nodeValue}else{t||(t={});for(r=0;r<e.childNodes.length;r++){var a,c;if("string"==typeof(a=e.childNodes[r].nodeName))(c=this.parseElement(e.childNodes[r]))&&("undefined"==typeof n[a]&&(n[a]=0),n[a]++,this.addNode(t,a,n[a],c))}}}return t}},he.ObjTree.prototype.addNode=function(e,t,n,r){this.__force_array[t]?(1==n&&(e[t]=[]),e[t][e[t].length]=r):1==n?e[t]=r:2==n?e[t]=[e[t],r]:e[t][e[t].length]=r},he.ObjTree.prototype.writeXML=function(e){var t=this.hash_to_xml(null,e);return this.xmlDecl+t},he.ObjTree.prototype.hash_to_xml=function(e,t){var n=[],r=[];for(var o in t)if(t.hasOwnProperty(o)){var i=t[o];o.charAt(0)!=this.attr_prefix?"undefined"==typeof i||null==i?n[n.length]="<"+o+" />":"object"==typeof i&&i.constructor==Array?n[n.length]=this.array_to_xml(o,i):n[n.length]="object"==typeof i?this.hash_to_xml(o,i):this.scalar_to_xml(o,i):r[r.length]=" "+o.substring(1)+'="'+this.xml_escape(i)+'"'}var a=r.join(""),c=n.join("");return"undefined"==typeof e||null==e||(c=n.length>0?c.match(/\n/)?"<"+e+a+">\n"+c+"</"+e+">\n":"<"+e+a+">"+c+"</"+e+">\n":"<"+e+a+" />\n"),c},he.ObjTree.prototype.array_to_xml=function(e,t){for(var n=[],r=0;r<t.length;r++){var o=t[r];"undefined"==typeof o||null==o?n[n.length]="<"+e+" />":"object"==typeof o&&o.constructor==Array?n[n.length]=this.array_to_xml(e,o):n[n.length]="object"==typeof o?this.hash_to_xml(e,o):this.scalar_to_xml(e,o)}return n.join("")},he.ObjTree.prototype.scalar_to_xml=function(e,t){return"#text"==e?this.xml_escape(t):"<"+e+">"+this.xml_escape(t)+"</"+e+">\n"},he.ObjTree.prototype.xml_escape=function(e){return e.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var ye,be=he;!function(e){e.START="bpmn:startEvent",e.END="bpmn:endEvent",e.GATEWAY="bpmn:exclusiveGateway",e.USER="bpmn:userTask",e.SYSTEM="bpmn:serviceTask",e.FLOW="bpmn:sequenceFlow"}(ye||(ye={}));var ve=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"];function ge(e){var t={};return Object.entries(e).forEach((function(e){var n=e[0],r=e[1];"object"!==typeof r?0===n.indexOf("-")?t[n]=r:t["-"+n]=r:t[n]=ge(r)})),t}function me(e){var t={};return Object.entries(e).forEach((function(e){var n=e[0],r=e[1];"string"===typeof r?0===n.indexOf("-")?t[n.substr(1)]=r:t[n]=r:t[n]="object"===typeof r?me(r):r})),t}function Oe(e){var t=[],n=[],r=e["bpmn:definitions"];if(r){var o=r["bpmn:process"];Object.keys(o).forEach((function(e){if(0===e.indexOf("bpmn:")){var i=o[e];if(e===ye.FLOW){var a=r["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];n=function(e,t){var n=[];if(Array.isArray(e))e.forEach((function(e){var r;r=Array.isArray(t)?t.find((function(t){return t["-bpmnElement"]===e["-id"]})):t,n.push(je(r,e))}));else{var r=void 0;r=Array.isArray(t)?t.find((function(t){return t["-bpmnElement"]===e["-id"]})):t,n.push(je(r,e))}return n}(i,a)}else{var c=r["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];t=t.concat(function(e,t,n){var r=[];if(Array.isArray(e))e.forEach((function(e){var o=xe(Array.isArray(t)?t.find((function(t){return t["-bpmnElement"]===e["-id"]})):t,n,e);r.push(o)}));else{var o=xe(Array.isArray(t)?t.find((function(t){return t["-bpmnElement"]===e["-id"]})):t,n,e);r.push(o)}return r}(i,c,e))}}}))}return{nodes:t,edges:n}}function xe(e,t,n){var r,o,i=Number(e["dc:Bounds"]["-x"]),a=Number(e["dc:Bounds"]["-y"]),c=n["-name"],u=_e.shapeConfigMap.get(t);if(u&&(i+=u.width/2,a+=u.height/2),Object.entries(n).forEach((function(e){var t=e[0],n=e[1];-1===ve.indexOf(t)&&(r||(r={}),r[t]=n)})),r&&(r=me(r)),c&&(o={x:i,y:a,value:c},e["bpmndi:BPMNLabel"]&&e["bpmndi:BPMNLabel"]["dc:Bounds"])){var s=e["bpmndi:BPMNLabel"]["dc:Bounds"];o.x=Number(s["-x"])+Number(s["-width"])/2,o.y=Number(s["-y"])+Number(s["-height"])/2}var l={id:e["-bpmnElement"],type:t,x:i,y:a,properties:r};return o&&(l.text=o),l}function je(e,t){var n,r,o=t["-name"];if(o){var i=e["bpmndi:BPMNLabel"]["dc:Bounds"],a=0;o.split("\n").forEach((function(e){a<e.length&&(a=e.length)})),n={value:o,x:Number(i["-x"])+10*a/2,y:Number(i["-y"])+7}}Object.entries(t).forEach((function(e){var t=e[0],n=e[1];-1===ve.indexOf(t)&&(r||(r={}),r[t]=n)})),r&&(r=me(r));var c={id:t["-id"],type:ye.FLOW,pointsList:e["di:waypoint"].map((function(e){return{x:Number(e["-x"]),y:Number(e["-y"])}})),sourceNodeId:t["-sourceRef"],targetNodeId:t["-targetRef"],properties:r};return n&&(c.text=n),c}var _e={name:"bpmn-adapter",install:function(e){e.adapterIn=this.adapterIn,e.adapterOut=this.adapterOut},shapeConfigMap:new Map,setCustomShape:function(e,t){this.shapeConfigMap.set(e,t)},adapterOut:function(e){var t={"-id":"Process_"+de(),"-isExecutable":"false"};!function(e,t){var n=new Map;t.nodes.forEach((function(t){var r,o={"-id":t.id};if((null===(r=t.text)||void 0===r?void 0:r.value)&&(o["-name"]=t.text.value),t.properties){var i=ge(t.properties);Object.assign(o,i)}n.set(t.id,o),e[t.type]?Array.isArray(e[t.type])?e[t.type].push(o):e[t.type]=[e[t.type],o]:e[t.type]=o}));var r=t.edges.map((function(e){var t,r,o=n.get(e.sourceNodeId);o["bpmn:outgoing"]?Array.isArray(o["bpmn:outgoing"])?o["bpmn:outgoing"].push(e.id):o["bpmn:outgoing"]=[o["bpmn:outgoing"],e.id]:o["bpmn:outgoing"]=e.id;var i=n.get(e.targetNodeId);i["bpmn:incoming"]?Array.isArray(i["bpmn:incoming"])?i["bpmn:incoming"].push(e.id):i["bpmn:incoming"]=[i["bpmn:incoming"],e.id]:i["bpmn:incoming"]=e.id;var a={"-id":e.id,"-sourceRef":e.sourceNodeId,"-targetRef":e.targetNodeId};if((null===(t=e.text)||void 0===t?void 0:t.value)&&(a["-name"]=null===(r=e.text)||void 0===r?void 0:r.value),e.properties){var c=ge(e.properties);Object.assign(a,c)}return a}));e[ye.FLOW]=r}(t,e);var n={"-id":"BPMNPlane_1","-bpmnElement":t["-id"]};return function(e,t){e["bpmndi:BPMNEdge"]=t.edges.map((function(e){var t,n=e.id,r={"-id":n+"_di","-bpmnElement":n,"di:waypoint":e.pointsList.map((function(e){return{"-x":e.x,"-y":e.y}}))};return(null===(t=e.text)||void 0===t?void 0:t.value)&&(r["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":e.text.x-10*e.text.value.length/2,"-y":e.text.y-7,"-width":10*e.text.value.length,"-height":14}}),r})),e["bpmndi:BPMNShape"]=t.nodes.map((function(e){var t,n=e.id,r=100,o=80,i=e.x,a=e.y,c=_e.shapeConfigMap.get(e.type);c&&(r=c.width,o=c.height);var u={"-id":n+"_di","-bpmnElement":n,"dc:Bounds":{"-x":i-=r/2,"-y":a-=o/2,"-width":r,"-height":o}};return(null===(t=e.text)||void 0===t?void 0:t.value)&&(u["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":e.text.x-10*e.text.value.length/2,"-y":e.text.y-7,"-width":10*e.text.value.length,"-height":14}}),u}))}(n,e),{"bpmn:definitions":{"-id":"Definitions_"+de(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://bpmn.io/schema/bpmn","-exporter":"bpmn-js (https://demo.bpmn.io)","-exporterVersion":"7.3.0","bpmn:process":t,"bpmndi:BPMNDiagram":{"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":n}}}},adapterIn:function(e){if(e)return Oe(e)}};_e.shapeConfigMap.set(ye.START,{width:$,height:ee}),_e.shapeConfigMap.set(ye.END,{width:te,height:ne}),_e.shapeConfigMap.set(ye.GATEWAY,{width:re,height:oe}),_e.shapeConfigMap.set(ye.SYSTEM,{width:ie,height:ae}),_e.shapeConfigMap.set(ye.USER,{width:ce,height:ue});var we,Ee={name:"bpmn-xml-adapter",install:function(e){e.adapterIn=this.adapterXmlIn,e.adapterOut=this.adapterXmlOut},adapterXmlIn:function(e){var t=(new be.ObjTree).parseXML(e);return _e.adapterIn(t)},adapterXmlOut:function(e){return function(e,t){var n=function e(t,n,r){var o="";if(t instanceof Array)for(var i=0,a=t.length;i<a;i++)o+=r+e(t[i],n,r+"\t")+"\n";else if("object"==typeof t){var c=!1;for(var u in o+=r+"<"+n,t)"-"==u.charAt(0)?o+=" "+u.substr(1)+'="'+t[u].toString()+'"':c=!0;if(o+=c?">":"/>",c){for(var u in t)"#text"==u?o+=t[u]:"#cdata"==u?o+="<![CDATA["+t[u]+"]]>":"-"!=u.charAt(0)&&(o+=e(t[u],u,r+"\t"));o+=("\n"==o.charAt(o.length-1)?r:"")+"</"+n+">"}}else o+=r+"<"+n+">"+t.toString()+"</"+n+">";return o},r="";for(var o in e)r+=n(e[o],o,"");return t?r.replace(/\t/g,t):r.replace(/\t|\n/g,"")}(_e.adapterOut(e),"\n")}},Se=function(){return(Se=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Pe(e){switch(e){case"bpmn:sequenceFlow":return we.SEQUENCE_FLOW;case"bpmn:startEvent":return we.START_EVENT;case"bpmn:endEvent":return we.END_EVENT;case"bpmn:userTask":return we.USER_TASK;case"bpmn:exclusiveGateway":return we.EXCLUSIVE_GATEWAY;default:return e}}function Ae(e){var t=new Map,n={flowElementList:[]};return e.nodes.forEach((function(e){var r=function(e){var t=e.id,n=e.type,r=e.x,o=e.y,i=e.text,a=void 0===i?"":i,c=e.properties;return{incoming:[],outgoing:[],dockers:[],type:Pe(e.type),properties:Se(Se({},c),{name:a&&a.value||"",x:r,y:o,text:a,logicFlowType:n}),key:t}}(e);n.flowElementList.push(r),t.set(e.id,r)})),e.edges.forEach((function(e){var r=function(e){var t=e.id,n=e.type,r=e.sourceNodeId,o=e.targetNodeId,i=e.startPoint,a=e.endPoint,c=e.pointsList,u=e.text,s=void 0===u?"":u,l=e.properties;return{incoming:[r],outgoing:[o],type:Pe(n),dockers:[],properties:Se(Se({},l),{name:s&&s.value||"",text:s,startPoint:i,endPoint:a,pointsList:c,logicFlowType:n}),key:t}}(e);t.get(e.sourceNodeId).outgoing.push(r.key),t.get(e.targetNodeId).incoming.push(r.key),n.flowElementList.push(r)})),n}function ke(e){var t={nodes:[],edges:[]},n=e.flowElementList;return n&&n.length>0&&n.forEach((function(e){if(e.type===we.SEQUENCE_FLOW){var n=function(e){var t=e.incoming,n=e.outgoing,r=e.properties,o=e.key,i=r.text,a=r.startPoint,c=r.endPoint,u=r.pointsList,s={id:o,type:r.logicFlowType,sourceNodeId:t[0],targetNodeId:n[0],text:i,startPoint:a,endPoint:c,pointsList:u,properties:{}},l=["startPoint","endPoint","pointsList","text","logicFlowType"];return Object.keys(e.properties).forEach((function(t){-1===l.indexOf(t)&&(s.properties[t]=e.properties[t])})),s}(e);t.edges.push(n)}else{var r=function(e){var t=e.properties,n=e.key,r=t.x,o=t.y,i=t.text,a={id:n,type:t.logicFlowType,x:r,y:o,text:i,properties:{}},c=["x","y","text","logicFlowType"];return Object.keys(e.properties).forEach((function(t){-1===c.indexOf(t)&&(a.properties[t]=e.properties[t])})),a}(e);t.nodes.push(r)}})),t}!function(e){e[e.SEQUENCE_FLOW=1]="SEQUENCE_FLOW",e[e.START_EVENT=2]="START_EVENT",e[e.END_EVENT=3]="END_EVENT",e[e.USER_TASK=4]="USER_TASK",e[e.EXCLUSIVE_GATEWAY=6]="EXCLUSIVE_GATEWAY"}(we||(we={}));var De;new Map;!function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"}(De||(De={}));var Ne,Me={name:"control",__lf:null,__controlItems:[{key:"zoom-out",iconClass:"lf-control-zoomOut",title:"\u7f29\u5c0f\u6d41\u7a0b\u56fe",text:"\u7f29\u5c0f",onClick:function(){Me.__lf.zoom(!1)}},{key:"zoom-in",iconClass:"lf-control-zoomIn",title:"\u653e\u5927\u6d41\u7a0b\u56fe",text:"\u653e\u5927",onClick:function(){Me.__lf.zoom(!0)}},{key:"reset",iconClass:"lf-control-fit",title:"\u6062\u590d\u6d41\u7a0b\u539f\u6709\u5c3a\u5bf8",text:"\u9002\u5e94",onClick:function(){Me.__lf.resetZoom()}},{key:"undo",iconClass:"lf-control-undo",title:"\u56de\u5230\u4e0a\u4e00\u6b65",text:"\u4e0a\u4e00\u6b65",onClick:function(){Me.__lf.undo()}},{key:"redo",iconClass:"lf-control-redo",title:"\u79fb\u5230\u4e0b\u4e00\u6b65",text:"\u4e0b\u4e00\u6b65",onClick:function(){Me.__lf.redo()}}],addItem:function(e){Me.__controlItems.push(e)},removeItem:function(e){var t=Me.__controlItems.findIndex((function(t){return t.key===e}));return Me.__controlItems.splice(t,1)[0]},install:function(){},render:function(e,t){Me.__lf=e,this.__domContainer=t,this.__tool=this.__getControlTool(),t.appendChild(this.__tool)},destroy:function(){this.__domContainer.removeChild(this.__tool)},__getControlTool:function(){var e="lf-control-item",t="lf-control-item disabled",n=document.createElement("div"),r=[];return n.className="lf-control",Me.__controlItems.forEach((function(n){var o=document.createElement("div"),i=document.createElement("i"),a=document.createElement("span");switch(o.className=t,n.onClick&&(o.onclick=n.onClick.bind(null,Me.__lf)),n.onMouseEnter&&(o.onmouseenter=n.onMouseEnter.bind(null,Me.__lf)),n.onMouseLeave&&(o.onmouseleave=n.onMouseLeave.bind(null,Me.__lf)),i.className=n.iconClass,a.className="lf-control-text",a.title=n.title,a.innerText=n.text,o.append(i,a),n.text){case"\u4e0a\u4e00\u6b65":Me.__lf.on("history:change",(function(n){var r=n.data.undoAble;o.className=r?e:t}));break;case"\u4e0b\u4e00\u6b65":Me.__lf.on("history:change",(function(n){var r=n.data.redoAble;o.className=r?e:t}));break;default:o.className=e}r.push(o)})),n.append.apply(n,r),n}},Te={name:"menu",__items:{},__menuDOM:null,__menuItemDOM:null,__container:null,install:function(e){Te.__menuDOM=document.createElement("ul"),Te.__menuItemDOM=new Map,Te.__items={nodeMenu:[{text:"\u5220\u9664",callback:function(t){e.deleteNode(t.id)}},{text:"\u7f16\u8f91\u6587\u672c",callback:function(t){e.graphModel.setTextEditable(t.id)}},{text:"\u590d\u5236",callback:function(t){e.cloneNode(t.id)}}],edgeMenu:[{text:"\u5220\u9664",callback:function(t){e.deleteEdge(t.id)}},{text:"\u7f16\u8f91\u6587\u672c",callback:function(t){e.graphModel.setTextEditable(t.id)}}],graphMenu:[]},e.setMenuConfig=Te.resetMenuItem,e.addMenuConfig=Te.addMenuItem},render:function(e,t){Te.__container=t;var n=null,r=Te.__items;Te.__menuDOM.className="lf-menu",Object.keys(r).forEach((function(e){if(r[e].length){var n=Te.__getMenuDom(r[e]);Te.__menuItemDOM.set(e,n),t.appendChild(Te.__menuDOM)}})),Te.__menuDOM.addEventListener("click",(function(e){e.stopPropagation();for(var t=e.target;-1===Array.from(t.classList).indexOf("lf-menu-item")&&-1===Array.from(t.classList).indexOf("lf-menu");)t=t.parentElement;Array.from(t.classList).indexOf("lf-menu-item")>-1?(t.onclickCallback(n),Te.__menuDOM.style.display="none",n=null):console.warn("\u70b9\u51fb\u533a\u57df\u4e0d\u5728\u83dc\u5355\u9879\u5185\uff0c\u8bf7\u68c0\u67e5\u4ee3\u7801\uff01")}),!0),e.on("node:contextmenu",(function(t){var r=t.data,o=t.position.domOverlayPosition,i=o.x,a=o.y,c=Te.__menuDOM,u=Te.__menuItemDOM;c.innerHTML="";var s=r.id,l=e.graphModel.getNodeModel(s);if(l&&l.menu&&Array.isArray(l.menu)){var f=Te.__getMenuDom(l.menu);c.append.apply(c,f)}else c.append.apply(c,u.get("nodeMenu"));c.children.length&&(c.style.display="block",c.style.top=a+"px",c.style.left=i+"px",n=r)})),e.on("edge:contextmenu",(function(t){var r=t.data,o=t.position,i=Te.__menuDOM,a=Te.__menuItemDOM,c=o.domOverlayPosition,u=c.x,s=c.y;i.innerHTML="";var l=r.id,f=e.graphModel.getEdgeModel(l);if(f&&f.menu&&Array.isArray(f.menu)){var p=Te.__getMenuDom(f.menu);i.append.apply(i,p)}else i.append.apply(i,a.get("edgeMenu"));i.children.length&&(i.style.display="block",i.style.top=s+"px",i.style.left=u+"px",n=r)})),e.on("blank:contextmenu",(function(e){var t=e.e,r=e.position,o=Te.__menuDOM,i=Te.__menuItemDOM,a=r.domOverlayPosition,c=a.x,u=a.y;if(i.has("graphMenu")){if(o.innerHTML="",o.append.apply(o,i.get("graphMenu")),!o.children.length)return;o.style.display="block",o.style.top=u+"px",o.style.left=c+"px",n=t}})),e.on("node:mousedown",(function(){Te.__menuDOM.style.display="none"})),e.on("edge:click",(function(){Te.__menuDOM.style.display="none"})),e.on("blank:click",(function(){Te.__menuDOM.style.display="none"}))},destroy:function(){Te.__container.removeChild(Te.__menuDOM),Te.__menuDOM=null,Te.__menuItemDOM=null},__getMenuDom:function(e){var t=[];return e&&e.length>0&&e.forEach((function(e){var n=document.createElement("li");if(e.className?n.className="lf-menu-item "+e.className:n.className="lf-menu-item",!0===e.icon){var r=document.createElement("span");r.className="lf-menu-item-icon",n.appendChild(r)}var o=document.createElement("span");o.className="lf-menu-item-text",e.text&&(o.innerText=e.text),n.appendChild(o),n.onclickCallback=e.callback,t.push(n)})),t},resetMenuItem:function(e){e&&(!1===e.nodeMenu?Te.__items.nodeMenu=[]:e.nodeMenu&&(Te.__items.nodeMenu=e.nodeMenu),!1===e.edgeMenu?Te.__items.edgeMenu=[]:e.edgeMenu&&(Te.__items.edgeMenu=e.edgeMenu),!1===e.graphMenu?Te.__items.graphMenu=[]:e.graphMenu&&(Te.__items.graphMenu=e.graphMenu))},addMenuItem:function(e){var t,n,r;e&&(Array.isArray(e.nodeMenu)&&(t=Te.__items.nodeMenu).push.apply(t,e.nodeMenu),Array.isArray(e.edgeMenu)&&(n=Te.__items.edgeMenu).push.apply(n,e.edgeMenu),Array.isArray(e.graphMenu)&&(r=Te.__items.edgeMenu).push.apply(r,e.graphMenu))},changeMenuItem:function(e,t){if("add"===e)Te.addMenuItem(t);else{if("reset"!==e)throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'");Te.resetMenuItem(t)}}},Ce=function(){function e(e){var t=this,n=e.lf;this.lf=n,this.lf.setPatternItems=function(e){t.shapeList=e}}return e.prototype.render=function(e,t){var n=this;this.panelEl&&t.removeChild(this.panelEl),this.shapeList&&0!==this.shapeList.length&&(this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach((function(e){n.panelEl.appendChild(n.createDndItem(e))})),t.appendChild(this.panelEl))},e.prototype.createDndItem=function(e){var t=this,n=document.createElement("div");n.className=e.className?"lf-dnd-item "+e.className:"lf-dnd-item";var r=document.createElement("div");if(r.className="lf-dnd-shape",e.icon&&(r.style.backgroundImage="url("+e.icon+")"),n.appendChild(r),e.text){var o=document.createElement("div");o.innerText=e.text,o.className="lf-dnd-text",n.appendChild(o)}return n.onmousedown=function(){e.type&&t.lf.dnd.startDrag({type:e.type,properties:e.properties}),e.callback&&e.callback()},n},e}(),Re={name:"selection-select",__domContainer:null,wrapper:null,lf:null,startPoint:{x:0,y:0},endPoint:{x:0,y:0},__disabled:!1,install:function(){},render:function(e,t){Re.__domContainer=t,Re.lf=e,e.on("blank:mousedown",(function(n){var r=n.e;if(e.getEditConfig().stopMoveGraph&&!Re.__disabled){var o=e.getPointByClient(r.clientX,r.clientY).domOverlayPosition,i=o.x,a=o.y;Re.startPoint={x:i,y:a},Re.endPoint={x:i,y:a};var c=document.createElement("div");c.className="lf-selection-select",c.style.top=Re.startPoint.y+"px",c.style.left=Re.startPoint.x+"px",t.appendChild(c),Re.wrapper=c,document.addEventListener("mousemove",Re.__draw),document.addEventListener("mouseup",Re.__drawOff)}}))},__draw:function(e){var t=Re.lf.getPointByClient(e.clientX,e.clientY).domOverlayPosition,n=t.x,r=t.y;Re.endPoint={x:n,y:r};var o=Re.startPoint,i=o.x,a=o.y,c=Re.wrapper.style,u=i,s=a,l=n-i,f=r-a;n<i&&(u=n,l=i-n),r<a&&(s=r,f=a-r),c.left=u+"px",c.top=s+"px",c.width=l+"px",c.height=f+"px"},__drawOff:function(){document.removeEventListener("mousemove",Re.__draw),document.removeEventListener("mouseup",Re.__drawOff),Re.__domContainer.removeChild(Re.wrapper);var e=Re.startPoint,t=e.x,n=e.y,r=Re.endPoint,o=r.x,i=r.y,a=[Math.min(t,o),Math.min(n,i)],c=[Math.max(t,o),Math.max(n,i)],u=Re.lf.getAreaElement(a,c);u.forEach((function(e){Re.lf.select(e.id,!0)})),Re.lf.emit("selection:selected",u)},open:function(){Re.__disabled=!1},close:function(){Re.__disabled=!0}},Ie={name:"minimap",__lf:null,__container:null,__miniMapWrap:null,__miniMapContainer:null,__lfMap:null,__viewport:null,__width:150,__height:220,__miniMapWidth:450,__miniMapHeight:660,__isShow:!1,__viewPortTop:0,__viewPortLeft:0,__startPosition:null,__viewPortScale:1,__viewPortWidth:150,__viewPortHeight:75,__resetDataX:0,__resetDataY:0,__LogicFlow:null,__disabledPlugins:["minimap","control","selection-select"],install:function(e,t){Ie.__lf=e,Ie.__miniMapWidth=e.width,Ie.__miniMapHeight=220*e.width/150,Ie.__LogicFlow=t,this.__init()},init:function(e){this.__disabledPlugins=this.__disabledPlugins.concat(e.disabledPlugins||[])},render:function(e,t){Ie.__container=t;["node:add","node:delete","edge:add","edge:delete","node:drop","blank:drop"].forEach((function(e){Ie.__lf.on(e,(function(){Ie.__setView()}))}))},show:function(e,t){Ie.__setView(),Ie.__isShow||Ie.__createMiniMap(e,t),Ie.__isShow=!0},hide:function(){Ie.__isShow&&Ie.__removeMiniMap(),Ie.__isShow=!1},__init:function(){var e=document.createElement("div");e.className="lf-mini-map-graph",e.style.width=Ie.__width+"px",e.style.height=Ie.__height+"px",Ie.__lfMap=new Ie.__LogicFlow({width:Ie.__lf.width,height:220*Ie.__lf.width/150,container:e,isSilentMode:!0,stopZoomGraph:!0,stopScrollGraph:!0,stopMoveGraph:!0,hideAnchors:!0,hoverOutline:!1,disabledPlugins:Ie.__disabledPlugins}),Ie.__lfMap.adapterIn=function(e){return e},Ie.__lfMap.adapterOut=function(e){return e},Ie.__miniMapWrap=e,Ie.__createViewPort()},__createMiniMap:function(e,t){var n=document.createElement("div"),r=Ie.__miniMapWrap;n.appendChild(r),"undefined"!==typeof e&&"undefined"!==typeof t&&(n.style.left=e+"px",n.style.top=t+"px"),n.style.position="absolute",n.className="lf-mini-map",Ie.__container.appendChild(n),Ie.__miniMapWrap.appendChild(Ie.__viewport);var o=document.createElement("div");o.className="lf-mini-map-header",o.innerText="\u5bfc\u822a",n.appendChild(o);var i=document.createElement("span");i.className="lf-mini-map-close",i.addEventListener("click",Ie.hide),n.appendChild(i),Ie.__miniMapContainer=n},__removeMiniMap:function(){Ie.__container.removeChild(Ie.__miniMapContainer)},__getBounds:function(e){var t=0,n=Ie.__miniMapWidth,r=0,o=Ie.__miniMapHeight,i=e.nodes;return i&&i.length>0&&i.forEach((function(e){var i=e.x,a=e.y,c=e.width,u=void 0===c?200:c,s=e.height,l=void 0===s?200:s,f=i-u/2,p=i+u/2,d=a-l/2,h=a+l/2;t=f<t?f:t,n=p>n?p:n,r=d<r?d:r,o=h>o?h:o})),{left:t,top:r,bottom:o,right:n}},__resetData:function(e){var t=e.nodes,n=e.edges,r=0,o=0;return t&&t.length>0&&(t.forEach((function(e){var t=e.x,n=e.y,i=e.width,a=void 0===i?200:i,c=e.height,u=t-a/2,s=n-(void 0===c?200:c)/2;r=u<r?u:r,o=s<o?s:o})),(r<0||o<0)&&(Ie.__resetDataX=r,Ie.__resetDataY=o,t.forEach((function(e){e.x=e.x-r,e.y=e.y-o,e.text&&(e.text.x=e.text.x-r,e.text.y=e.text.y-o)})),n.forEach((function(e){e.startPoint&&(e.startPoint.x=e.startPoint.x-r,e.startPoint.y=e.startPoint.y-o),e.endPoint&&(e.endPoint.x=e.endPoint.x-r,e.endPoint.y=e.endPoint.y-o),e.text&&(e.text.x=e.text.x-r,e.text.y=e.text.y-o),e.pointsList&&e.pointsList.forEach((function(e){e.x=e.x-r,e.y=e.y-o}))})))),e},__setView:function(){for(var e=Ie.__resetData(Ie.__lf.getGraphRawData()),t=Ie.__lf.viewMap,n=Ie.__lf.graphModel.modelMap,r=Ie.__lfMap.viewMap,o=0,i=t.keys();o<i.length;o++){var a=i[o];r.has(a)||(Ie.__lfMap.setView(a,t.get(a)),Ie.__lfMap.graphModel.modelMap.set(a,n.get(a)))}Ie.__lfMap.render(e);var c=Ie.__getBounds(e),u=c.left,s=c.top,l=c.right,f=c.bottom,p=Ie.__width/(l-u),d=Ie.__height/(f-s),h=Ie.__miniMapWrap.firstChild.style,y=Math.min(p,d);h.transform="matrix("+y+", 0, 0, "+y+", 0, 0)",h.transformOrigin="left top",h.height=f-Math.min(s,0)+"px",h.width=l-Math.min(u,0)+"px",Ie.__viewPortScale=y,Ie.__setViewPort(y,{left:u,top:s,right:l,bottom:f})},__setViewPort:function(e,t){var n=t.left,r=t.right,o=Ie.__viewport.style;o.width=Ie.__width-4+"px",o.height=(Ie.__width-4)/(Ie.__lf.width/Ie.__lf.height)+"px";var i=Ie.__lf.getTransform(),a=i.TRANSLATE_X,c=i.TRANSLATE_Y,u=r-n,s=(Ie.__width-4)/(u/Ie.__lf.width),l=s/(Ie.__lf.width/Ie.__lf.height);Ie.__viewPortTop=c>0?0:-c*e,Ie.__viewPortLeft=-a*e,Ie.__viewPortWidth=s,Ie.__viewPortHeight=l,o.top=Ie.__viewPortTop+"px",o.left=Ie.__viewPortLeft+"px",o.width=s+"px",o.height=l+"px"},__createViewPort:function(){var e=document.createElement("div");e.className="lf-minimap-viewport",e.addEventListener("mousedown",Ie.__startDrag),Ie.__viewport=e},__startDrag:function(e){document.addEventListener("mousemove",Ie.__drag),document.addEventListener("mouseup",Ie.__drop),Ie.__startPosition={x:e.x,y:e.y}},__drag:function(e){var t=Ie.__viewport.style;Ie.__viewPortTop+=e.y-Ie.__startPosition.y,Ie.__viewPortLeft+=e.x-Ie.__startPosition.x,t.top=Ie.__viewPortTop+"px",t.left=Ie.__viewPortLeft+"px",Ie.__startPosition={x:e.x,y:e.y};var n=(Ie.__viewPortLeft+Ie.__viewPortWidth/2)/Ie.__viewPortScale,r=(Ie.__viewPortTop+Ie.__viewPortHeight/2)/Ie.__viewPortScale;Ie.__lf.focusOn({coordinate:{x:n+Ie.__resetDataX,y:r+Ie.__resetDataY}})},__drop:function(){document.removeEventListener("mousemove",Ie.__drag),document.removeEventListener("mouseup",Ie.__drop)}},Le=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ze=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Le(t,e),t.prototype.getEdge=function(){for(var e=this.getAttributes(),t=e.points,n=e.strokeWidth,r=e.stroke,o=e.strokeDashArray,i=t.split(" ").map((function(e){return e.split(",").map((function(e){return Number(e)}))})),a=i[0],c="M"+a[0]+" "+a[1],u=1;u<i.length-1;u++){var s=i[u-1],l=s[0],p=s[1],d=i[u],h=d[0],y=d[1],b=i[u+1],v=b[0],g=b[1];if(h===l&&y!==p)c=c+" L "+h+" "+(y>p?y-5:y+5);if(y===p&&h!==l)c=c+" L "+(h>l?h-5:h+5)+" "+y;if(c=c+" Q "+h+" "+y,h===v&&y!==g)c=c+" "+h+" "+(y>g?y-5:y+5);if(y===g&&h!==v)c=c+" "+(h>v?h-5:h+5)+" "+y}var m=i[i.length-1];return c=c+" L "+m[0]+" "+m[1],Object(f.h)("path",{d:c,strokeWidth:n,stroke:r,fill:"none",strokeDashArray:o})},t.extendKey="CurvedEdge",t}(f.PolylineEdge),Be=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Le(t,e),t}(f.PolylineEdgeModel),Fe={name:"curved-edge",curvedSpace:5,init:function(e){var t=e.curvedSpace;Fe.curvedSpace=t},install:function(e){e.register({type:"curved-edge",view:ze,model:Be})}},Ue=n(57),Ge=function(){return(Ge=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Xe(e){var t=e.x,n=e.y,r=e.width,o=e.height,i=e.radius,a=e.className,c=t-r/2,u=n-o/2,s=Ge(Ge({width:10,height:10,cx:0,cy:0,rx:i||0,ry:i||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+a},e),{x:c,y:u});return Object(f.h)("rect",Ge({},s))}function Ye(e){var t=e.x,n=e.y,r=e.width,o=e.height;return{minX:t-r/2,minY:n-o/2,maxX:t+r/2,maxY:n+o/2}}function Ve(e){var t=Ye(e),n=e.radius,r=t.minX,o=t.minY,i=t.maxX,a=t.maxY;return[{x:r+n,y:o+n},{x:i-n,y:o+n},{x:i-n,y:a-n},{x:r+n,y:a-n}]}function He(e){var t=e.point,n=e.beforeNode,r=e.afterNode,o=t.x,i=t.y,a={x:o,y:i},c=n.radius,u=Ye(n),s=Ye(r);if(o===u.minX){a.x=s.minX;var l=(i-n.y)/(n.height/2-c);a.y=l?r.y+(r.height/2-c)*l:r.y}else if(o===u.maxX){a.x=s.maxX;l=(i-n.y)/(n.height/2-c);a.y=l?r.y+(r.height/2-c)*l:r.y}else if(i===u.minY){a.y=s.minY;l=(o-n.x)/(n.width/2-c);a.x=l?r.x+(r.width/2-c)*l:r.x}else if(i===u.maxY){a.y=s.maxY;l=(o-n.x)/(n.width/2-c);a.x=l?r.x+(r.width/2-c)*l:r.x}else{var f=Ve(n),p=Ve(r),d=Ye(n),h=d.minX,y=d.minY,b=d.maxX,v=d.maxY,g=-1;if(o-h<c&&i-y<c?g=0:b-o<c&&i-y<c?g=1:b-o<c&&v-i<c?g=2:o-h<c&&y-i<c&&(g=3),g>-1){var m=Math.atan2(i-f[g].y,o-f[g].x);a.x=p[g].x+c*Math.cos(m),a.y=p[g].y+c*Math.sin(m)}}return a}function We(e){var t,n,r=e.point,o=e.beforeNode,i=e.afterNode,a=i.rx,c=i.ry,u=(r.y-o.y)/(r.x-o.x),s=a,l=c;return u>=1/0?(t=0,n=l):u<=-1/0?(t=0,n=-l):r.x-o.x>0?(t=s*l/Math.sqrt(l*l+s*s*u*u),n=s*l*u/Math.sqrt(l*l+s*s*u*u)):(t=-s*l/Math.sqrt(l*l+s*s*u*u),n=-s*l*u/Math.sqrt(l*l+s*s*u*u)),{x:t+i.x,y:n+i.y}}function Ke(e){var t,n=e.point,r=e.beforeNode,o=e.afterNode,i=n.x-r.x,a=n.y-r.y,c=r.rx,u=r.ry,s=Math.sqrt((c-Math.abs(i))*(c-Math.abs(i))+a*a)/Math.sqrt(c*c+u*u),l=o.rx,f=o.ry,p=Math.sqrt((l*l+f*f)*s*s*(l*l/(l*l+f*f))),d=p*(f/l);return t=a>0?d:-d,{x:(i>=0?l-p:p-l)+o.x,y:t+o.y}}Xe.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""},function(e){e.NODE="node",e.CIRCLE_NODE="circle-node",e.POLYGON_NODE="polygon-node",e.RECT_NODE="rect-node",e.TEXT_NODE="text-node",e.ELLIPSE_NODE="ellipse-node",e.DIAMOND_NODE="diamond-node",e.EDGE="edge",e.LINE_EDGE="line-edge",e.POLYLINE_EDGE="polyline-edge",e.BEZIER_EDGE="bezier-edge",e.GRAPH="graph"}(Ne||(Ne={}));var qe=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ze=function(){return(Ze=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Qe=f.LogicFlowUtil.createDrag,Je=function(e){function t(t){var n=e.call(this)||this;return n.updatePosition=function(e){var t=e.deltaX,r=e.deltaY,o=n.nodeModel,i=o.x,a=o.y;n.nodeModel.x=i+t/2,n.nodeModel.y=a+r/2,n.nodeModel.moveText(t/2,r/2)},n.getResize=function(e){var t=e.index,n=e.deltaX,r=e.deltaY,o=e.width,i=e.height,a=e.pct,c=void 0===a?1:a,u={width:o,height:i};switch(t){case 0:u.width=o-n*c,u.height=i-r*c;break;case 1:u.width=o+n*c,u.height=i-r*c;break;case 2:u.width=o+n,u.height=i+r*c;break;case 3:u.width=o-n*c,u.height=i+r*c}return u},n.updateRect=function(e){var t=e.deltaX,r=e.deltaY,o=n.nodeModel,i=o.id,a=o.x,c=o.y,u=o.width,s=o.height,l=o.radius,f=n.index,p=n.getResize({index:f,deltaX:t,deltaY:r,width:u,height:s,pct:1}),d=mt.sizeRange.rect,h=d.minWidth,y=d.minHeight,b=d.maxWidth,v=d.maxHeight;if(!(p.width<h||p.width>b||p.height<y||p.height>v)){n.updatePosition({deltaX:t,deltaY:r}),n.nodeModel.width=p.width,n.nodeModel.height=p.height,n.nodeModel.setProperties({nodeSize:{width:p.width,height:p.height}});var g,m=n.getNodeEdges(i),O={point:"",beforeNode:{x:a,y:c,width:u,height:s,radius:l},afterNode:{x:n.nodeModel.x,y:n.nodeModel.y,width:n.nodeModel.width,height:n.nodeModel.height,radius:l}};m.sourceEdges.forEach((function(e){O.point=e.startPoint,g=He(O),e.updateStartPoint(g)})),m.targetEdges.forEach((function(e){O.point=e.endPoint,g=He(O),e.updateEndPoint(g)}))}},n.updateEllipse=function(e){var t=e.deltaX,r=e.deltaY,o=n.nodeModel,i=o.id,a=o.rx,c=o.ry,u=o.x,s=o.y,l=n.index,f=a,p=c,d=n.getResize({index:l,deltaX:t,deltaY:r,width:f,height:p,pct:.5}),h=mt.sizeRange.ellipse,y=h.minRx,b=h.minRy,v=h.maxRx,g=h.maxRy;if(!(d.width<y||d.width>v||d.height<b||d.height>g)){n.updatePosition({deltaX:t,deltaY:r}),n.nodeModel.rx=d.width,n.nodeModel.ry=d.height,n.nodeModel.setProperties({nodeSize:{rx:d.width,ry:d.height}});var m,O=n.getNodeEdges(i),x={point:{},beforeNode:{x:u,y:s},afterNode:{rx:d.width,ry:d.height,x:n.nodeModel.x,y:n.nodeModel.y}};O.sourceEdges.forEach((function(e){x.point=e.startPoint,m=We(x),e.updateStartPoint(m)})),O.targetEdges.forEach((function(e){x.point=e.endPoint,m=We(x),e.updateEndPoint(m)}))}},n.updateDiamond=function(e){var t=e.deltaX,r=e.deltaY,o=n.nodeModel,i=o.id,a=o.rx,c=o.ry,u=o.x,s=o.y,l=n.index,f=a,p=c,d=n.getResize({index:l,deltaX:t,deltaY:r,width:f,height:p,pct:.5}),h=mt.sizeRange.ellipse,y=h.minRx,b=h.minRy,v=h.maxRx,g=h.maxRy;if(!(d.width<y||d.width>v||d.height<b||d.height>g)){n.updatePosition({deltaX:t,deltaY:r}),n.nodeModel.rx=d.width,n.nodeModel.ry=d.height,n.nodeModel.setProperties({nodeSize:{rx:d.width,ry:d.height}});var m,O={point:{},beforeNode:{x:u,y:s,rx:a,ry:c},afterNode:{rx:d.width,ry:d.height,x:n.nodeModel.x,y:n.nodeModel.y}},x=n.getNodeEdges(i);x.sourceEdges.forEach((function(e){O.point=e.startPoint,m=Ke(O),e.updateStartPoint(m)})),x.targetEdges.forEach((function(e){O.point=e.endPoint,m=Ke(O),e.updateEndPoint(m)}))}},n.onDraging=function(e){var t=e.deltaX,r=e.deltaY,o=n.nodeModel.modelType;o===Ne.RECT_NODE?n.updateRect({deltaX:t,deltaY:r}):o===Ne.ELLIPSE_NODE?n.updateEllipse({deltaX:t,deltaY:r}):o===Ne.DIAMOND_NODE&&n.updateDiamond({deltaX:t,deltaY:r})},n.index=t.index,n.nodeModel=t.nodeModel,n.graphModel=t.graphModel,n.state={},n.dragHandler=Qe({onDraging:n.onDraging,step:mt.step}),n}return qe(t,e),t.prototype.getNodeEdges=function(e){for(var t=this.graphModel.edges,n=[],r=[],o=0;o<t.length;o++){var i=t[o];i.sourceNodeId===e?n.push(i):t[o].targetNodeId===e&&r.push(i)}return{sourceEdges:n,targetEdges:r}},t.prototype.render=function(){var e=this.props,t=e.x,n=e.y,r=e.style,o=e.index,i=mt.style.controlPoint,a=i.width,c=i.height,u=i.fill,s=i.stroke;return Object(Ue.b)("g",{className:"lf-resize-control-"+o},Object(Ue.b)(Xe,Ze({className:"lf-node-control"},{x:t,y:n},r,{width:a,height:c,fill:u,stroke:s,onMouseDown:this.dragHandler})))},t}(Ue.a),$e=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),et=function(){return(et=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},tt=function(e){function t(){var t=e.call(this)||this;return t.state={},t}return $e(t,e),t.prototype.getResizeControl=function(){var e=this.props,t=e.x,n=e.y,r=e.width,o=e.height,i=e.nodeModel,a=e.graphModel,c={minX:t-r/2,minY:n-o/2,maxX:t+r/2,maxY:n+o/2},u=c.minX,s=c.minY,l=c.maxX,f=c.maxY;return[{x:u,y:s},{x:l,y:s},{x:l,y:f},{x:u,y:f}].map((function(e,t){return Object(Ue.b)(Je,et({index:t},e,{nodeModel:i,graphModel:a}))}))},t.prototype.getGroupSolid=function(){var e=this.props,t=e.x,n=e.y,r=e.width,o=e.height,i=mt.style.outline,a=i.stroke,c=i.strokeWidth,u=i.strokeDasharray;return Object(Ue.b)(Xe,{fill:"none",x:t,y:n,width:r,height:o,stroke:a,strokeWidth:c,strokeDasharray:u})},t.prototype.render=function(){return Object(Ue.b)("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},t}(Ue.a),nt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rt=function(){return(rt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ot=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nt(t,e),t.prototype.setAttributes=function(){var e=this.properties.nodeSize;e&&(this.width=e.width,this.height=e.height)},t}(f.RectNodeModel),it={type:"rect",view:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nt(t,e),t.prototype.getControlGroup=function(e){var t=this.props,n=t.model,r=t.graphModel;return Object(f.h)(tt,rt({},e,{nodeModel:n,graphModel:r}))},t.prototype.getRect=function(e){return Object(f.h)("g",null,Object(f.h)(Xe,rt({},e)))},t.prototype.getShape=function(){var t=e.prototype.getAttributes.call(this),n=this.props.model.isSelected;return Object(f.h)("g",null,this.getRect(t),n?this.getControlGroup(t):"")},t}(f.RectNode),model:ot},at=function(){return(at=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function ct(e){var t=e.x,n=void 0===t?0:t,r=e.y,o=void 0===r?0:r,i=e.rx,a=void 0===i?4:i,c=e.ry,u=at({cx:n,cy:o,rx:a,ry:void 0===c?4:c,fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1},e);return Object(f.h)("ellipse",at({},u))}var ut=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),st=function(){return(st=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},lt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ut(t,e),t.prototype.setAttributes=function(){var e=this.properties.nodeSize;e&&(this.rx=e.rx,this.ry=e.ry)},t}(f.EllipseNodeModel),ft={type:"ellipse",view:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ut(t,e),t.prototype.getControlGroup=function(e){var t=this.props,n=t.model,r=t.graphModel;return Object(f.h)(tt,st({},e,{nodeModel:n,graphModel:r}))},t.prototype.getShape=function(){var t=e.prototype.getAttributes.call(this),n=this.props.model.isSelected;return Object(f.h)("g",null,Object(f.h)(ct,st({},t)),n?this.getControlGroup(t):"")},t}(f.EllipseNode),model:lt},pt=function(){return(pt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function dt(e){var t=e.fillOpacity,n=void 0===t?1:t,r=e.strokeWidth,o=void 0===r?1:r,i=e.strokeOpacity,a=void 0===i?1:i,c=e.fill,u=void 0===c?"transparent":c,s=e.stroke,l=void 0===s?"#000":s,p=e.points,d=e.className,h={fill:u,fillOpacity:n,strokeWidth:o,stroke:l,strokeOpacity:a,points:"",className:void 0===d?"lf-basic-shape":d};return h.points=p.map((function(e){return e.join(",")})).join(" "),Object(f.h)("polygon",pt({},h))}var ht=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yt=function(){return(yt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},bt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ht(t,e),t.prototype.setAttributes=function(){var e=this.properties.nodeSize;e&&(this.rx=e.rx,this.ry=e.ry)},t}(f.DiamondNodeModel),vt={type:"diamond",view:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ht(t,e),t.prototype.getControlGroup=function(e){var t=this.props,n=t.model,r=t.graphModel;return Object(f.h)(tt,yt({},e,{nodeModel:n,graphModel:r}))},t.prototype.getShape=function(){var t=e.prototype.getAttributes.call(this),n=this.props.model.isSelected;return Object(f.h)("g",null,Object(f.h)(dt,yt({},t)),n?this.getControlGroup(t):"")},t}(f.DiamondNode),model:bt},gt={name:"node-resize",step:0,style:{outline:{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"},controlPoint:{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},sizeRange:{rect:{minWidth:30,minHeight:30,maxWidth:300,maxHeight:300},ellipse:{minRx:15,minRy:15,maxRx:150,maxRy:150},diamond:{minRx:15,minRy:15,maxRx:150,maxRy:150}},install:function(e){if(0===this.step){var t=e.options.grid;t.size&&t.size>1?this.step=2*t.size:this.step=2}e.setTheme({rect:{strokeWidth:2,outlineColor:"transparent"},ellipse:{strokeWidth:2,outlineColor:"transparent"},diamond:{strokeWidth:2,outlineColor:"transparent"}}),e.register({type:it.type,view:it.view,model:it.model}),e.register({type:ft.type,view:ft.view,model:ft.model}),e.register({type:vt.type,view:vt.view,model:vt.model})}},mt=gt,Ot=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,c=i.length;a<c;a++,o++)r[o]=i[a];return r},xt=(function(){function e(e){var t=this,n=e.lf;this.lf=n,this.pathes=[],n.getPathes=function(){if(!t.startNodeType)throw new Error("\u9700\u8981\u9884\u5148\u6307\u5b9a\u5f00\u59cb\u8282\u70b9\u7c7b\u578b");return t.getPathes()},n.setRawPathes=function(e){t.setPathes(e)},n.getRawPathes=function(){return t.pathes},n.setStartNodeType=function(e){t.startNodeType=e}}e.prototype.setPathes=function(e){this.pathes=e.map((function(e){return{routeId:e.routeId,name:e.name,elements:e.elements,type:e.type,similarElement:null,weight:0}}))},e.prototype.getPathes=function(){var e=this,t=this.lf.getGraphRawData(),n=new Map,r=[];t.nodes.forEach((function(t){n.set(t.id,{id:t.id,data:t,nextNodes:[]}),t.type===e.startNodeType&&r.push(t.id)})),t.edges.forEach((function(e){n.get(e.sourceNodeId).nextNodes.push(e.targetNodeId)}));var o=[];return r.forEach((function(t){o=o.concat(e.findPathElements(n.get(t),n,[]))})),this.getNewPathes(o)},e.prototype.findPathElements=function(e,t,n){void 0===n&&(n=[]);var r=Ot(n);if(r.push(e.id),0===e.nextNodes.length)return[r];for(var o=[],i=0;i<e.nextNodes.length;i++){var a=t.get(e.nextNodes[i]),c=void 0,u=r.indexOf(a.id);c=-1!==u?[Ot(r.slice(u),[a.id])]:this.findPathElements(a,t,Ot(r)),o=o.concat(c)}return o},e.prototype.getNewPathes=function(e){var t=this,n=[],r=new Set;e.forEach((function(e){var o=t.getNewId("path"),i=t.getNewId("\u8def\u5f84"),a=t.isLoopPath(e),c=e.join(",");r.has(c)||(r.add(c),n.push({routeId:o,name:i,elements:e,type:a,weight:0,similarElement:""}))}));var o=JSON.parse(JSON.stringify(this.pathes));return n.forEach((function(e){for(var n=0;n<o.length;n++){var r=o[n],i=t.similar2Path(Ot(e.elements),Ot(r.elements));i>e.weight&&r.weight<=i&&(e.weight=i,e.similarElement=r,i===r.weight&&r.similarElement?(r.similarElement.similarElement=null,r.similarElement.weight=0,r.similarElement=null,r.weight=0):(r.similarElement=e,r.weight=i))}})),n.forEach((function(e){e.similarElement&&e.similarElement.similarElement===e&&(e.routeId=e.similarElement.routeId,e.name=e.similarElement.name),delete e.similarElement,delete e.weight})),this.setPathes(n),n},e.prototype.similar2Path=function(e,t){var n=0,r=e.length+t.length;e.sort(),t.sort();for(var o=e.shift(),i=t.shift();void 0!==o&&void 0!==i;)o===i?(n++,o=e.shift(),i=t.shift()):o<i?o=e.shift():o>i&&(i=t.shift());return n/r*200},e.prototype.getNewId=function(e){return e+"_"+T()},e.prototype.isLoopPath=function(e){var t=e.length;return e.indexOf(e[t-1])!==t-1?1:0}}(),function(){return(xt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)}),jt=-1,_t=0,wt=1,Et=(function(){function e(e){var t=this,n=e.lf;this.lf=n,n.layout=function(e){var n=t.lf.getGraphRawData();t.lf.setStartNodeType(e);var r=t.lf.getPathes();return t.levelHeight=[],t.newNodeMap=new Map,t.layout(n,r)}}e.prototype.layout=function(e,t){var n=[];t.forEach((function(e){e.elements.length>n.length&&(n=e.elements)}));for(var r=this.formatData(e),o={nodes:[],edges:[]},i=n.length-1;i>=0;i--)this.setNodePosition(n[i],r,o,i,1);this.lf.graphModel.graphDataToModel(o)},e.prototype.setNodePosition=function(e,t,n,r,o){var i=this,a=t[e],c=a.text,u=a.type,s=a.next,l=a.properties,f=160*r+40,p=120*o,d={id:e,x:f,text:c,y:p,type:u,properties:l};return c&&"object"===typeof c&&(d.text=xt(xt({},c),{x:f+c.x,y:p+c.y})),this.newNodeMap.set(d.id,{x:d.x,y:d.y,type:u}),n.nodes.push(d),a.isFixed=!0,this.addLevelHeight(r,1),s&&s.length>0&&s.forEach((function(o){if(!t[o.nodeId].isFixed){var a=i.getLevelHeight(r+1);i.addLevelHeight(r,1),i.setNodePosition(o.nodeId,t,n,r+1,a+1)}n.edges.push(xt({id:o.edgeId,type:o.edgeType,sourceNodeId:e,targetNodeId:o.nodeId,properties:o.properties,text:o.text},i.getEdgeDataPoints(e,o.nodeId)))})),d},e.prototype.getEdgeDataPoints=function(e,t){var n=this.newNodeMap.get(e),r=this.newNodeMap.get(t),o=this.getShape(e),i=o.width,a=o.height,c=this.getShape(t),u=c.width,s=c.height,l=this.getRelativePosition(n,r),f={x:n.x,y:n.y},p={x:r.x,y:r.y};switch(l){case _t:f.x=n.x+i/2,p.x=r.x-u/2;break;case jt:f.y=n.y+a/2,p.x=r.x-u/2;break;case wt:f.x=n.x+i/2,p.y=r.y+s/2}return{startPoint:f,endPoint:p}},e.prototype.getRelativePosition=function(e,t){var n=e.y,r=t.y;return n<r?-1:n===r?0:1},e.prototype.getShape=function(e){var t=this.lf.getNodeModel(e);return{height:t.height,width:t.width}},e.prototype.formatData=function(e){var t=e.nodes.reduce((function(e,t){var n=t.type,r=t.properties,o=t.text,i=t.x,a=t.y;return o&&"object"===typeof o&&(o.x=o.x-i,o.y=o.y-a),e[t.id]={type:n,properties:r,text:o,prev:[],next:[]},e}),{});return e.edges.forEach((function(e){var n=e.sourceNodeId,r=e.targetNodeId,o=e.id,i=e.properties,a=e.text,c=a;"object"===typeof a&&(c=a.value),t[n].next.push({edgeId:o,nodeId:r,edgeType:e.type,properties:i,text:c}),t[r].prev.push({edgeId:o,nodeId:n,properties:i,text:c})})),t},e.prototype.addLevelHeight=function(e,t,n){void 0===t&&(t=1),void 0===n&&(n=!1);var r=this.levelHeight[e];r||(r={positiveHeight:0,negativeHeight:0},this.levelHeight[e]=r),n?r.negativeHeight-=t:r.positiveHeight+=t},e.prototype.getLevelHeight=function(e,t){void 0===t&&(t=!1);var n=this.levelHeight[e];return n?t?n.negativeHeight:n.positiveHeight:0}}(),{stopScrollGraph:!0,stopZoomGraph:!0}),St={nodes:[{id:10,type:"rect",x:150,y:100,text:"\u77e9\u5f62"},{id:20,type:"circle",x:400,y:100,text:"\u5706\u5f62"},{id:30,type:"diamond",x:300,y:300,text:"\u83f1\u5f62"},{id:33,type:"diamond",x:600,y:250,text:"\u83f1\u5f622"}],edges:[{type:"polyline",sourceNodeId:10,targetNodeId:20,text:"\u76f4\u89d2\u6298\u7ebf",startPoint:{id:"150-60",x:150,y:60}},{type:"line",sourceNodeId:10,targetNodeId:20,text:"\u76f4\u7ebf",endPoint:{id:"150-60",x:350,y:100}},{type:"bezier",sourceNodeId:10,targetNodeId:30,text:"\u66f2\u7ebf",endPoint:{id:"150-60",x:300,y:250}},{type:"curved-edge",sourceNodeId:30,targetNodeId:33,text:"\u5706\u89d2\u66f2\u7ebf"}]};function Pt(e){var t=e.lf;return t&&t.on("selection:selected",(function(){t.updateEditConfig({stopMoveGraph:!1})})),Object(r.jsxs)("div",{className:"pattern",children:[Object(r.jsx)("div",{className:"pattern-selection",onMouseDown:function(){t.updateEditConfig({stopMoveGraph:!0})}}),Object(r.jsx)("div",{children:"\u9009\u533a"}),Object(r.jsx)("div",{className:"pattern-start",onMouseDown:function(){t.dnd.startDrag({type:"bpmn:startEvent",text:"\u5f00\u59cb"})}}),Object(r.jsx)("div",{children:"\u5f00\u59cb"}),Object(r.jsx)("div",{className:"pattern-user",onMouseDown:function(){t.dnd.startDrag({type:"bpmn:userTask"})}}),Object(r.jsx)("div",{children:"\u7528\u6237\u4efb\u52a1"}),Object(r.jsx)("div",{className:"pattern-user",onMouseDown:function(){t.dnd.startDrag({type:"bpmn:serviceTask"})}}),Object(r.jsx)("div",{children:"\u7cfb\u7edf\u4efb\u52a1"}),Object(r.jsx)("div",{className:"pattern-condition",onMouseDown:function(){t.dnd.startDrag({type:"bpmn:exclusiveGateway"})}}),Object(r.jsx)("div",{children:"\u6761\u4ef6\u5224\u65ad"}),Object(r.jsx)("div",{className:"pattern-end",onMouseDown:function(){t.dnd.startDrag({type:"bpmn:endEvent",text:"\u7ed3\u675f"})}}),Object(r.jsx)("div",{children:"\u7ed3\u675f"})]})}var At=n(184).default,kt=n(185).default,Dt=n(186).default;function Nt(e){var t=e.lf;function n(){var e=t.getGraphData();console.log(e),function(e,t){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}("logic-flow.xml",e)}return Object(r.jsxs)("div",{className:"graph-io",children:[Object(r.jsx)("span",{title:"\u4e0b\u8f7d XML",onMouseDown:function(){return n()},children:Object(r.jsx)("img",{src:At,alt:"\u4e0b\u8f7dXML"})}),Object(r.jsx)("span",{id:"download-img",title:"\u4e0b\u8f7d\u56fe\u7247",onMouseDown:function(){e.lf.getSnapshot()},children:Object(r.jsx)("img",{src:kt,alt:"\u4e0b\u8f7d\u56fe\u7247"})}),Object(r.jsxs)("span",{id:"upload-xml",title:"\u4e0a\u4f20 XML",children:[Object(r.jsx)("input",{type:"file",className:"upload",onChange:function(e){return function(e){var n=e.target.files[0],r=new FileReader;r.onload=function(e){if(e.target){var n=e.target.result;t.render(n)}},r.readAsText(n)}(e)}}),Object(r.jsx)("img",{src:Dt,alt:"\u4e0a\u4f20XML"})]})]})}n(187),n(83);var Mt={stopScrollGraph:!0,stopZoomGraph:!0,metaKeyMultipleSelected:!0,grid:{size:10,type:"dot"},keyboard:{enabled:!0},snapline:!0},Tt=function(e){Object(x.a)(n,e);var t=Object(j.a)(n);function n(e){var r;return Object(m.a)(this,n),(r=t.call(this,e)).lf=void 0,r.state={rendered:!0},r}return Object(O.a)(n,[{key:"componentDidMount",value:function(){p.a.use(le),p.a.use(Ee),p.a.use(fe),p.a.use(Me),p.a.use(Te),p.a.use(Re);var e=new p.a(Object(l.a)(Object(l.a)({},Mt),{},{container:document.querySelector("#graph")}));e.render(),this.lf=e,this.setState({rendered:!0})}},{key:"render",value:function(){var e;return this.state.rendered&&(e=Object(r.jsxs)("div",{children:[Object(r.jsx)(Pt,{lf:this.lf}),Object(r.jsx)(Nt,{lf:this.lf})]})),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(b,{children:Object(r.jsxs)("div",{children:["\u70b9\u51fb\u5de6\u4e0b\u89d2\u4e0b\u8f7d XML\uff0c\u5c06\u6587\u4ef6\u4e0a\u4f20\u5230",Object(r.jsx)(h.a,{type:"link",href:"https://demo.bpmn.io/",target:"_blank",children:"BPMN Demo"}),"\u5373\u53ef\u4f7f\u7528"]})}),Object(r.jsxs)("div",{className:"bpmn-example-container",children:[Object(r.jsx)("div",{id:"graph",className:"viewport"}),e]})]})}}]),n}(o.Component),Ct=(n(188),{stopScrollGraph:!0,stopZoomGraph:!0,textEdit:!1,keyboard:{enabled:!0},style:{rect:{width:100,height:60}}}),Rt={nodes:[{id:10,type:"rect",x:150,y:70,text:"\u77e9\u5f62"}]};var It={stopScrollGraph:!0,stopZoomGraph:!0},Lt={nodes:[{id:10,type:"rect",x:200,y:90,text:"\u4f60\u597d\uff01"},{id:20,type:"circle",x:200,y:250,text:"\u4f60\u597d\uff01",r:50}]};var zt={stopScrollGraph:!0,stopZoomGraph:!0,grid:{size:10,type:"dot"}},Bt={nodes:[{id:10,type:"rect",x:170,y:150,text:"\u4f60\u597d\uff01"},{id:20,type:"circle",x:380,y:60,text:"\u4f60\u597d\uff01",r:50}]};var Ft={isSilentMode:!0,stopScrollGraph:!0,stopZoomGraph:!0,style:{rect:{height:60},nodeText:{fontSize:16},edgeText:{fontSize:17}}},Ut={nodes:[{id:10,type:"rect",x:170,y:100,text:"I"},{id:20,type:"circle",x:380,y:180,text:"LogicFlow"}],edges:[{type:"polyline",sourceNodeId:10,targetNodeId:20,text:"Like",endPoint:{id:"330-180",x:330,y:180}}]};var Gt={stopScrollGraph:!0,stopZoomGraph:!0,textEdit:!1,grid:{size:10,type:"mesh"},tool:{menu:!1,control:!1},style:{rect:{width:100,height:50,radius:6,fill:"#3eaf7c",strokeWidth:2},circle:{r:40,fill:"#3eaf7c",strokeWidth:2},nodeText:{fontSize:16,color:"#000000"},edgeText:{fontSize:16,color:"#000000"}}},Xt={nodes:[{id:10,type:"circle",x:250,y:100,text:"circle"},{id:20,type:"rect",x:180,y:260,text:"rect"},{id:30,type:"rect",x:320,y:260,text:"rect"}],edges:[{type:"line",sourceNodeId:10,targetNodeId:20,startPoint:{id:"250-140",x:250,y:140}},{type:"line",sourceNodeId:10,targetNodeId:30,startPoint:{id:"250-140",x:250,y:140}}]};var Yt,Vt=n(305),Ht={stopScrollGraph:!0,stopZoomGraph:!0},Wt={nodes:[{id:10,type:"rect",x:150,y:70,text:"\u77e9\u5f62"},{id:20,type:"circle",x:400,y:70,text:"\u5706\u5f62"}],edges:[{type:"line",sourceNodeId:10,targetNodeId:20,text:"\u76f4\u7ebf",endPoint:{id:"150-60",x:350,y:70}}]},Kt={display:"flex",alignItems:"center"};var qt={stopScrollGraph:!0,stopZoomGraph:!0};var Zt={stopScrollGraph:!0,stopZoomGraph:!0},Qt={nodes:[{id:10,type:"rect",x:150,y:80,text:"\u53f3\u952e\u83dc\u5355"}]};var Jt={stopScrollGraph:!0,stopZoomGraph:!0};var $t=n(303),en={stopScrollGraph:!0,stopZoomGraph:!0,stopMoveGraph:!0},tn={nodes:[{id:10,type:"rect",x:100,y:100,text:"\u4f60\u597d\uff01"},{id:20,type:"circle",x:400,y:100,text:"\u4f60\u597d\uff01"}],edges:[{type:"line",sourceNodeId:10,targetNodeId:20,endPoint:{id:"150-150",x:350,y:100}}]};n(189);var nn={stopScrollGraph:!0,stopZoomGraph:!0},rn={nodes:[{id:10,type:"rect",x:100,y:100,text:"\u4f60\u597d\uff01"},{id:20,type:"circle",x:400,y:100,text:"\u4f60\u597d\uff01"}],edges:[{type:"line",sourceNodeId:10,targetNodeId:20,endPoint:{id:"150-150",x:350,y:100}}]};var on,an={stopScrollGraph:!0,stopZoomGraph:!0,textEdit:!1},cn={nodes:[{id:10,type:"rect",x:150,y:80,text:"\u53f3\u952e\u8282\u70b9"},{id:20,type:"rect",x:400,y:80,text:"\u53f3\u952e\u8282\u70b9"}],edges:[{type:"line",sourceNodeId:10,targetNodeId:20,text:"\u53f3\u952e\u8fde\u7ebf",endPoint:{id:"150-60",x:350,y:80}}]};var un=[{type:"circle",text:"\u5706\u5f62"},{type:"rect",text:"\u77e9\u5f62"}];function sn(e){return Object(r.jsx)("div",{className:"panel",children:un.map((function(t,n){var o=t.type,i=t.text;return Object(r.jsxs)("div",{className:"panel-item",children:[Object(r.jsx)("div",{className:"panel-".concat(o),onMouseDown:function(){!function(t){e.lf.dnd.startDrag(t)}(t)}}),Object(r.jsx)("span",{children:i})]},n)}))})}var ln={name:"dnd",install:function(){},render:function(e,t){c.a.render(Object(r.jsx)(sn,{lf:e}),t)}},fn={stopScrollGraph:!0,stopZoomGraph:!0};n(190);var pn,dn={background:{color:"#f7f9ff"},grid:{type:"dot",size:5,visible:!1},keyboard:{enabled:!0}},hn={nodes:[{id:10,type:"rect",x:100,y:100},{id:20,type:"rect",x:400,y:100}],edges:[{type:"polyline",sourceNodeId:10,targetNodeId:20}]},yn={display:"flex",alignItems:"center"};var bn=function(e){Object(x.a)(n,e);var t=Object(j.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"setAttributes",value:function(){this.width=80,this.height=80,this.anchorsOffset=[[40,0],[-40,0]],this.sourceRules.push({message:"\u6b63\u65b9\u5f62\u8282\u70b9\u4e0b\u4e00\u4e2a\u8282\u70b9\u53ea\u80fd\u662f\u5706\u5f62\u8282\u70b9",validate:function(e,t){return"circle"===t.type}})}}]),n}(f.RectNodeModel),vn={type:"square",view:function(e){Object(x.a)(n,e);var t=Object(j.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"getShape",value:function(){var e=this.getAttributes(),t=e.x,n=e.y,r=e.width,o=e.height,i=e.fill,a=e.stroke,c=e.strokeWidth,u=e.properties,s={x:t-r/2,y:n-o/2,width:r,height:o,stroke:a,fill:i,strokeWidth:c},p=Object(f.h)("svg",{x:t-r/2+5,y:n-o/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},Object(f.h)("path",{fill:a,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}));return Object(f.h)("g",{},[Object(f.h)("rect",Object(l.a)({},s)),u.isUser?p:null])}}]),n}(f.RectNode),model:bn},gn={hideAnchors:!0,stopScrollGraph:!0,stopZoomGraph:!0,style:{circle:{r:40}}},mn={nodes:[{id:10,type:"square",x:150,y:90,text:"\u6b63\u65b9\u5f62"}]};var On={stopScrollGraph:!0,stopZoomGraph:!0,style:{circle:{r:40}}},xn={nodes:[{id:10,type:"square",x:150,y:90,text:"\u6b63\u65b9\u5f62"}]};var jn=function(e){Object(x.a)(n,e);var t=Object(j.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"setAttributes",value:function(){this.points=[[50,0],[100,80],[0,80]]}}]),n}(f.PolygonNodeModel),_n={type:"triangle",view:f.PolygonNode,model:jn},wn={isSilentMode:!0,stopScrollGraph:!0,stopZoomGraph:!0},En={nodes:[{id:10,type:"triangle",x:150,y:70,text:"triangle"}]};var Sn={stopScrollGraph:!0,stopZoomGraph:!0,style:{circle:{r:40}}},Pn={nodes:[{id:10,type:"square",x:150,y:150,text:"\u6b63\u65b9\u5f62"},{id:20,type:"circle",x:380,y:70,text:"\u5706\u5f62"},{id:30,type:"diamond",x:380,y:230,text:"\u5176\u4ed6\u8282\u70b9"}]};var An={hideAnchors:!0,stopScrollGraph:!0,stopZoomGraph:!0},kn={nodes:[{id:10,type:"square",x:150,y:90,text:"\u6b63\u65b9\u5f62",properties:{isUser:!0}}]};var Dn=function(e){return{type:"process",view:e.LineEdge,model:function(e){Object(x.a)(n,e);var t=Object(j.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"setAttributes",value:function(){this.properties.isExecuted&&(this.stroke="green")}}]),n}(e.LineEdgeModel)}},Nn={stopScrollGraph:!0,stopZoomGraph:!0},Mn={nodes:[{id:10,type:"rect",x:100,y:110,text:"\u5ba1\u6279\u901a\u8fc7"},{id:20,type:"rect",x:300,y:110,text:"\u5ba1\u6279\u4e2d"},{id:30,type:"rect",x:500,y:110,text:"\u672a\u5f00\u59cb"}],edges:[{type:"process",sourceNodeId:10,targetNodeId:20,startPoint:{id:"150-110",x:150,y:110},endPoint:{id:"250-110",x:250,y:110},properties:{isExecuted:!0}},{type:"process",sourceNodeId:20,targetNodeId:30,startPoint:{id:"350-110",x:350,y:110},endPoint:{id:"450-110",x:450,y:110},properties:{isExecuted:!1}}]};var Tn,Cn={stopScrollGraph:!0,stopZoomGraph:!0,textEdit:!1},Rn={nodes:[{id:10,type:"rect",x:150,y:80,text:"\u77e9\u5f62"},{id:20,type:"circle",x:400,y:80,text:"\u5706\u5f62"}],edges:[{type:"line",sourceNodeId:10,targetNodeId:20,text:"\u8fde\u7ebf",endPoint:{id:"150-60",x:350,y:80}}]};var In=n(302),Ln=n(300),zn=n(298),Bn=n(301),Fn=n(306),Un=[{type:"apply",label:"\u7533\u8bf7",style:{width:"30px",height:"30px",borderRadius:"15px",border:"2px solid #FF6347"},property:{username:"",time:"",startTime:"",endTime:""}},{type:"approver",label:"\u5ba1\u6279",style:{width:"50px",height:"40px",borderRadius:"4px",border:"2px solid #3CB371"}},{type:"jugement",label:"\u5224\u65ad",style:{width:"30px",height:"30px",border:"2px solid #6495ED",transform:"rotate(45deg)"}},{type:"finsh",label:"\u7ed3\u675f",style:{width:"30px",height:"30px",borderRadius:"15px",border:"2px solid #FF6347"}}],Gn=[{label:"\u76f4\u63a5\u4e0a\u7ea7",value:"leader"},{label:"T3\u9886\u5bfc",value:"t3Leader"},{label:"T2\u9886\u5bfc",value:"t2Leader"},{label:"T1\u9886\u5bfc",value:"t1Leader"}],Xn={nodes:[{id:"28df2fbe-f32b-4a9b-b544-7e70d7187b33",type:"apply",x:210,y:210,text:{x:210,y:210,value:"\u7533\u8bf7"},properties:{}},{id:"64179bd7-c60e-433c-8df7-97c8e98f855d",type:"approver",x:350,y:210,text:{x:350,y:210,value:"\u5ba1\u6279"},properties:{labelColor:"#000000",approveTypeLabel:"\u76f4\u63a5\u4e0a\u7ea7",approveType:"leader"}},{id:"fcb96f10-720e-40e5-8ed0-ebdd0a46f234",type:"jugement",x:510,y:210,text:{x:510,y:210,value:"\u5224\u65ad\u62a5\u9500\u662f\u5426\n\u5927\u4e8e1000\u5143"},properties:{api:""}},{id:"9f119df3-c449-4e5d-a67a-cb351b9cbdb5",type:"approver",x:670,y:210,text:{x:670,y:210,value:"\u5ba1\u6279"},properties:{labelColor:"#000000",approveTypeLabel:"T2\u9886\u5bfc",approveType:"t2Leader"}},{id:"ef34f09c-38ea-4ad4-acd2-cc2f464a2be6",type:"finsh",x:850,y:210,text:{x:850,y:210,value:"\u7ed3\u675f"},properties:{}}],edges:[{id:"0d87b1eb-2389-445a-9f34-6227940b2072",type:"polyline",sourceNodeId:"28df2fbe-f32b-4a9b-b544-7e70d7187b33",targetNodeId:"64179bd7-c60e-433c-8df7-97c8e98f855d",startPoint:{x:235,y:210},endPoint:{x:300,y:210},text:{x:51.25,y:0,value:""},properties:{},pointsList:[{x:235,y:210},{x:300,y:210}]},{id:"d99e7451-b379-411e-b0da-df11be8be20a",type:"polyline",sourceNodeId:"64179bd7-c60e-433c-8df7-97c8e98f855d",targetNodeId:"fcb96f10-720e-40e5-8ed0-ebdd0a46f234",startPoint:{x:400,y:210},endPoint:{x:475,y:210},text:{x:437.5,y:210,value:"\u901a\u8fc7"},properties:{},pointsList:[{x:400,y:210},{x:475,y:210}]},{id:"4c615802-15d8-442c-be22-b65430286123",type:"polyline",sourceNodeId:"fcb96f10-720e-40e5-8ed0-ebdd0a46f234",targetNodeId:"9f119df3-c449-4e5d-a67a-cb351b9cbdb5",startPoint:{x:545,y:210},endPoint:{x:620,y:210},text:{x:582.5,y:210,value:"\u662f"},properties:{},pointsList:[{x:545,y:210},{x:620,y:210}]},{id:"934ae03a-6ee0-4568-a2b4-8bcede565e0b",type:"polyline",sourceNodeId:"9f119df3-c449-4e5d-a67a-cb351b9cbdb5",targetNodeId:"ef34f09c-38ea-4ad4-acd2-cc2f464a2be6",startPoint:{x:720,y:210},endPoint:{x:825,y:210},text:{x:-10,y:0,value:""},properties:{},pointsList:[{x:720,y:210},{x:825,y:210}]},{id:"bd5e1dd0-1978-46f7-851b-d31c03aebee9",type:"polyline",sourceNodeId:"64179bd7-c60e-433c-8df7-97c8e98f855d",targetNodeId:"ef34f09c-38ea-4ad4-acd2-cc2f464a2be6",startPoint:{x:350,y:170},endPoint:{x:850,y:185},text:{x:600,y:140,value:"\u9a73\u56de"},properties:{},pointsList:[{x:350,y:170},{x:350,y:140},{x:850,y:140},{x:850,y:185}]},{id:"453139c3-faa1-4e3a-a413-38f251243baa",type:"polyline",sourceNodeId:"fcb96f10-720e-40e5-8ed0-ebdd0a46f234",targetNodeId:"ef34f09c-38ea-4ad4-acd2-cc2f464a2be6",startPoint:{x:510,y:245},endPoint:{x:850,y:235},text:{x:680,y:275,value:"\u5426"},properties:{},pointsList:[{x:510,y:245},{x:510,y:275},{x:850,y:275},{x:850,y:235}]}]};n(191);function Yn(e,t,n){var o;console.log(e.properties);return Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"\u5c5e\u6027\u9762\u677f"}),Object(r.jsxs)(zn.a,{layout:"inline",initialValues:e.properties,onValuesChange:function(n,r){Gn.forEach((function(e){e.value===n.approveType&&(n.approveTypeLabel=e.label)})),t(e.id,n)},children:[Object(r.jsxs)("span",{className:"form-property",children:["\u7c7b\u578b\uff1a",Object(r.jsx)("span",{children:e.type})]}),Object(r.jsxs)("span",{className:"form-property",children:["\u6587\u6848\uff1a",Object(r.jsx)("span",{children:null===(o=e.text)||void 0===o?void 0:o.value})]}),"approver"===e.type?function(){var e=[];return Gn.forEach((function(t){e.push(Object(r.jsx)(Ln.a.Option,{value:t.value,children:t.label}))})),Object(r.jsx)(zn.a.Item,{className:"form-property",label:"\u5ba1\u6838\u8282\u70b9\u7c7b\u578b",name:"approveType",children:Object(r.jsx)(Ln.a,{children:e})})}():"","jugement"===e.type?Object(r.jsx)(zn.a.Item,{label:"API",name:"api",children:Object(r.jsx)(Bn.a,{})}):""]},e.id),Object(r.jsxs)("div",{children:[Object(r.jsx)("h3",{children:"......"}),Object(r.jsx)("h3",{children:"\u4e1a\u52a1\u5c5e\u6027\u53ef\u6839\u636e\u9700\u8981\u8fdb\u884c\u81ea\u5b9a\u4e49\u6269\u5c55"})]}),Object(r.jsx)("div",{className:"property-panel-footer",children:Object(r.jsx)(h.a,{className:"property-panel-footer-hide",type:"primary",icon:Object(r.jsx)(Fn.a,{}),onClick:n,children:"\u6536\u8d77"})})]})}function Vn(e){return function(){var t=[];return Un.forEach((function(n,o){t.push(Object(r.jsxs)("div",{className:"approve-node node-".concat(n.type),children:[Object(r.jsx)("div",{className:"node-shape",style:Object(l.a)({},n.style),onMouseDown:function(){return function(t){e.dnd.startDrag({type:t.type,text:t.label})}(n)}}),Object(r.jsx)("div",{className:"node-label",children:n.label})]},o))})),t}()}var Hn=n(65),Wn=n(43);n(283);var Kn={stopScrollGraph:!0,stopZoomGraph:!0,grid:{size:10,visible:!0,type:"mesh",config:{color:"#DCDCDC"}},keyboard:{enabled:!0},style:{rect:{radius:8,stroke:"#3CB371"},circle:{r:25,stroke:"#FF6347"},polygon:{stroke:"#6495ED"},polyline:{strokeWidth:1},edgeText:{background:{fill:"white"}}}};var qn={0:"grey",1:"green",2:"red"};var Zn=n(299),Qn=n(307),Jn=n(308),$n={apply:"\u7533\u8bf7",approver:"\u5ba1\u6838",jugement:"\u5224\u65ad",finsh:"\u7ed3\u675f"},er={nodes:[{id:"28df2fbe-f32b-4a9b-b544-7e70d7187b33",type:"apply",x:210,y:210,text:{x:210,y:210,value:"\u5f20\u4e09"},properties:{usernameZh:"\u5f20\u4e09",username:"zhangsan",time:"2020-12-01 10:23:34",result:"",desc:"\u6d3b\u52a8\u8d39\u7528",status:1}},{id:"64179bd7-c60e-433c-8df7-97c8e98f855d",type:"approver",x:350,y:210,text:{x:350,y:210,value:"\u674e\u56db"},properties:{labelColor:"#000000",approveTypeLabel:"\u76f4\u63a5\u4e0a\u7ea7",approveType:"leader",usernameZh:"\u674e\u56db",username:"zhangsan",time:"2020-12-01 11:23:34",result:"\u901a\u8fc7",desc:"",status:1}},{id:"fcb96f10-720e-40e5-8ed0-ebdd0a46f234",type:"jugement",x:510,y:210,text:{x:510,y:210,value:"\u5224\u65ad\u62a5\u9500\u662f\u5426\n\u5927\u4e8e1000\u5143"},properties:{api:"",status:1,usenameZh:"\u7cfb\u7edf",desc:"\u5224\u65ad\u62a5\u9500\u662f\u5426\u5927\u4e8e1000\u5143"}},{id:"9f119df3-c449-4e5d-a67a-cb351b9cbdb5",type:"approver",x:670,y:210,text:{x:670,y:210,value:"\u738b\u4e94"},properties:{labelColor:"#000000",approveTypeLabel:"T2\u9886\u5bfc",approveType:"t2Leader",usernameZh:"\u738b\u4e94",username:"wangwu",time:"2020-12-01 12:23:34",result:"\u9a73\u56de",desc:"",status:2}},{id:"ef34f09c-38ea-4ad4-acd2-cc2f464a2be6",type:"finsh",x:850,y:210,text:{x:850,y:210,value:"\u7ed3\u675f"},properties:{status:2}}],edges:[{id:"0d87b1eb-2389-445a-9f34-6227940b2072",type:"action",sourceNodeId:"28df2fbe-f32b-4a9b-b544-7e70d7187b33",targetNodeId:"64179bd7-c60e-433c-8df7-97c8e98f855d",startPoint:{x:235,y:210},endPoint:{x:300,y:210},text:{x:51.25,y:0,value:""},properties:{status:1},pointsList:[{x:235,y:210},{x:300,y:210}]},{id:"d99e7451-b379-411e-b0da-df11be8be20a",type:"action",sourceNodeId:"64179bd7-c60e-433c-8df7-97c8e98f855d",targetNodeId:"fcb96f10-720e-40e5-8ed0-ebdd0a46f234",startPoint:{x:400,y:210},endPoint:{x:475,y:210},text:{x:437.5,y:210,value:"\u901a\u8fc7"},properties:{status:1},pointsList:[{x:400,y:210},{x:475,y:210}]},{id:"4c615802-15d8-442c-be22-b65430286123",type:"action",sourceNodeId:"fcb96f10-720e-40e5-8ed0-ebdd0a46f234",targetNodeId:"9f119df3-c449-4e5d-a67a-cb351b9cbdb5",startPoint:{x:545,y:210},endPoint:{x:620,y:210},text:{x:582.5,y:210,value:"\u662f"},properties:{status:1},pointsList:[{x:545,y:210},{x:620,y:210}]},{id:"934ae03a-6ee0-4568-a2b4-8bcede565e0b",type:"action",sourceNodeId:"9f119df3-c449-4e5d-a67a-cb351b9cbdb5",targetNodeId:"ef34f09c-38ea-4ad4-acd2-cc2f464a2be6",startPoint:{x:720,y:210},endPoint:{x:825,y:210},text:{x:-10,y:0,value:"\u9a73\u56de"},properties:{status:2},pointsList:[{x:720,y:210},{x:825,y:210}]}]};function tr(e,t){return Object(r.jsx)("div",{className:"hover-panel",style:Object(l.a)({},e),children:function(e){if(e){var n=t.properties;return Object(r.jsxs)(Zn.a,{title:$n[t.type],style:{width:300},children:[Object(r.jsxs)("p",{children:[n.usernameZh,n.username?Object(r.jsxs)("span",{children:["(",n.username,")"]}):""]}),Object(r.jsx)("p",{children:n.time}),n.result?Object(r.jsxs)("p",{children:["\u901a\u8fc7"===n.result?Object(r.jsx)(Qn.a,{style:{color:"green"}}):Object(r.jsx)(Jn.a,{style:{color:"red"}}),Object(r.jsx)("span",{style:{marginLeft:"10px"},children:n.result})]}):"",n.desc?Object(r.jsxs)("p",{children:["\u8bf4\u660e: ",n.desc]}):""]})}}(t)})}n(290);var nr={grid:{size:10,type:"mesh",config:{color:"#DCDCDC"}},isSilentMode:!0,keyboard:{enabled:!0},style:{rect:{radius:8},circle:{r:25},edgeText:{background:{fill:"white"}}}};var rr={stopScrollGraph:!0,stopZoomGraph:!0},or={nodes:[{id:10,type:"bpmn:startEvent",x:76,y:178,properties:{},baseType:"node",text:{x:76,y:213,value:"StartEvent"}},{id:11,type:"bpmn:endEvent",x:567,y:176,properties:{},baseType:"node",text:{x:567,y:211,value:"EndEvent"}},{id:12,type:"bpmn:userTask",x:386,y:59,properties:{},baseType:"node",text:{x:386,y:59,value:"UserTask"}},{id:13,type:"bpmn:serviceTask",x:385,y:286,properties:{},baseType:"node",text:{x:385,y:286,value:"ServiceTask"}},{id:14,type:"bpmn:exclusiveGateway",x:206,y:178,properties:{},baseType:"node"}],edges:[{id:"Flow_2fs3ivm",type:"bpmn:sequenceFlow",sourceNodeId:10,targetNodeId:14,startPoint:{x:94,y:178},endPoint:{x:181,y:178},properties:{},pointsList:[{x:94,y:178},{x:181,y:178}]},{id:"Flow_2mtbh4v",type:"bpmn:sequenceFlow",sourceNodeId:14,targetNodeId:12,startPoint:{x:231,y:178},endPoint:{x:336,y:59},properties:{},pointsList:[{x:231,y:178},{x:306,y:178},{x:306,y:59},{x:336,y:59}]},{id:"Flow_1hm4ecl",type:"bpmn:sequenceFlow",sourceNodeId:14,targetNodeId:13,startPoint:{x:231,y:178},endPoint:{x:335,y:286},properties:{},pointsList:[{x:231,y:178},{x:305,y:178},{x:305,y:286},{x:335,y:286}]},{id:"Flow_1vo95qa",type:"bpmn:sequenceFlow",sourceNodeId:12,targetNodeId:11,startPoint:{x:436,y:59},endPoint:{x:549,y:176},properties:{},pointsList:[{x:436,y:59},{x:519,y:59},{x:519,y:176},{x:549,y:176}]},{id:"Flow_3o5b4v0",type:"bpmn:sequenceFlow",sourceNodeId:13,targetNodeId:11,startPoint:{x:435,y:286},endPoint:{x:549,y:176},properties:{},pointsList:[{x:435,y:286},{x:519,y:286},{x:519,y:176},{x:549,y:176}]}]};var ir,ar=n(309),cr=[{type:"rect",text:"\u77e9\u5f62"},{type:"circle",text:"\u5706\u5f62"}];var ur=Object(r.jsxs)(s.c,{children:[Object(r.jsx)(s.a,{path:"/basic/node",exact:!0,component:function(){return Object(o.useEffect)((function(){new p.a(Object(l.a)(Object(l.a)({},A),{},{container:document.querySelector("#graph")})).render(k)}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(b,{githubPath:"/basic/node/index.tsx"}),Object(r.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(r.jsx)(s.a,{path:"/basic/edge",exact:!0,component:function(){var e=Object(o.useState)("\u6298\u7ebf"),t=Object(D.a)(e,2),n=t[0],i=t[1],a=Object(o.useState)(),c=Object(D.a)(a,2),u=c[0],s=c[1];Object(o.useEffect)((function(){p.a.use(Fe);var e=new p.a(Object(l.a)(Object(l.a)({},Et),{},{container:document.querySelector("#graph")}));e.render(St),s(e)}),[]);var f=function(e,t){u.setDefaultEdgeType(e),i(t)};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(b,{content:"\u5c1d\u8bd5\u4e3a\u77e9\u5f62\u548c\u5706\u5f62\u624b\u52a8\u6dfb\u52a0\u8fde\u7ebf",githubPath:"/basic/dege/index.tsx"}),Object(r.jsxs)("div",{children:["\u5f53\u524d\uff1a",n]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("button",{onClick:function(){return f("line","\u76f4\u7ebf")},children:"\u76f4\u7ebf"}),Object(r.jsx)("button",{onClick:function(){return f("polyline","\u6298\u7ebf")},children:"\u6298\u7ebf"}),Object(r.jsx)("button",{onClick:function(){return f("curved-edge","\u5706\u89d2\u6298\u7ebf")},children:"\u5706\u89d2\u6298\u7ebf"}),Object(r.jsx)("button",{onClick:function(){return f("bezier","\u66f2\u7ebf")},children:"\u66f2\u7ebf"})]}),Object(r.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(r.jsx)(s.a,{path:"/basic/dnd",exact:!0,component:w}),Object(r.jsx)(s.a,{path:"/basic/keyboard",exact:!0,component:function(){return Object(o.useEffect)((function(){new p.a(Object(l.a)(Object(l.a)({},Ct),{},{container:document.querySelector("#graph")})).render(Rt)}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(b,{githubPath:"/basic/keyboard/index.tsx",children:[Object(r.jsx)("div",{className:"keyboard-example-code",children:"Ctrl + C"}),Object(r.jsx)("div",{className:"keyboard-example-code",children:"Ctrl + V"})]}),Object(r.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(r.jsx)(s.a,{path:"/basic/grid",exact:!0,component:P}),Object(r.jsx)(s.a,{path:"/basic/redoundo",exact:!0,component:function(){return Object(o.useEffect)((function(){p.a.use(Me),new p.a(Object(l.a)(Object(l.a)({},It),{},{container:document.querySelector("#graph")})).render(Lt)}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(b,{content:"\u5c1d\u8bd5\u8fde\u7ebf\u540e\u70b9\u51fb\u201c\u4e0a\u4e00\u6b65\u201d\u64a4\u9500",githubPath:"/basic/redoundo/index.tsx"}),Object(r.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(r.jsx)(s.a,{path:"/basic/snapline",exact:!0,component:function(){return Object(o.useEffect)((function(){new p.a(Object(l.a)(Object(l.a)({},zt),{},{container:document.querySelector("#graph")})).render(Bt)}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(b,{content:"\u5c1d\u8bd5\u62d6\u62fd\u5706\u5f62\u4f7f\u4e24\u4e2a\u8282\u70b9\u5bf9\u9f50",githubPath:"/basic/snapline/index.tsx"}),Object(r.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(r.jsx)(s.a,{path:"/basic/silent-mode",exact:!0,component:function(){return Object(o.useEffect)((function(){new p.a(Object(l.a)(Object(l.a)({},Ft),{},{container:document.querySelector("#graph")})).render(Ut)}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(b,{content:"\u9759\u9ed8\u6a21\u5f0f\u4e0b\u4e0d\u53ef\u7f16\u8f91",githubPath:"/basic/silent-mode/index.tsx"}),Object(r.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(r.jsx)(s.a,{path:"/advance/theme",exact:!0,component:function(){return Object(o.useEffect)((function(){new p.a(Object(l.a)(Object(l.a)({},Gt),{},{container:document.querySelector("#graph")})).render(Xt)}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(b,{githubPath:"/advance/theme/index.tsx"}),Object(r.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(r.jsx)(s.a,{path:"/advance/event",exact:!0,component:function(){var e=Object(o.useState)(""),t=Object(D.a)(e,2),n=t[0],i=t[1],a=Object(o.useState)(""),c=Object(D.a)(a,2),u=c[0],s=c[1];return Object(o.useEffect)((function(){var e,t;Tn=new p.a(Object(l.a)(Object(l.a)({},Cn),{},{container:document.querySelector("#graph")})),t=function(e){var t=e.data,n=e.e;i(n.type),s(t.type)},(e=Tn).on("node:mousedown",(function(e){var n=e.data,r=e.e;return t({data:n,e:r})})),e.on("node:mouseup",(function(e){var n=e.data,r=e.e;return t({data:n,e:r})})),e.on("node:mousemove",(function(e){var n=e.data,r=e.e;return t({data:n,e:r})})),e.on("node:contextmenu",(function(e){var n=e.data,r=e.e;return t({data:n,e:r})})),e.on("edge:click",(function(e){var n=e.data,r=e.e;return t({data:n,e:r})})),e.on("edge:dbclick",(function(e){var n=e.data,r=e.e;return t({data:n,e:r})})),e.on("edge:contextmenu",(function(e){var n=e.data,r=e.e;return t({data:n,e:r})})),Tn.render(Rn)}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(b,{githubPath:"/advance/event/index.tsx",children:["\u62d6\u62fd\u6216\u70b9\u51fb\u5143\u7d20\u67e5\u770b\u89e6\u53d1\u4e8b\u4ef6\uff1a",n?"".concat(n,"-").concat(u):""]}),Object(r.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(r.jsx)(s.a,{path:"/advance/custom-node/style",exact:!0,component:function(){return Object(o.useEffect)((function(){var e=new p.a(Object(l.a)(Object(l.a)({},gn),{},{container:document.querySelector("#graph")}));e.register(vn),e.render(mn)}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(b,{content:"\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u8282\u70b9\u7684 width \u548c height",githubPath:"/advance/custom-node/style/index.tsx"}),Object(r.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(r.jsx)(s.a,{path:"/advance/custom-node/anchor",exact:!0,component:function(){return Object(o.useEffect)((function(){var e=new p.a(Object(l.a)(Object(l.a)({},On),{},{container:document.querySelector("#graph")}));e.register(vn),e.render(xn)}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(b,{content:"\u53ea\u4fdd\u7559\u6c34\u5e73\u65b9\u5411\u4e0a\u7684\u951a\u70b9",githubPath:"/advance/custom-node/anchor/index.tsx"}),Object(r.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(r.jsx)(s.a,{path:"/advance/custom-node/triangle",exact:!0,component:function(){return Object(o.useEffect)((function(){var e=new p.a(Object(l.a)(Object(l.a)({},wn),{},{container:document.querySelector("#graph")}));e.register(_n),e.render(En)}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(b,{content:"\u8bbe\u7f6e\u591a\u8fb9\u5f62\u7684\u9876\u70b9\u6765\u5b9e\u73b0\u4e09\u89d2\u5f62",githubPath:"/advance/custom-node/triangle/index.tsx"}),Object(r.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(r.jsx)(s.a,{path:"/advance/custom-node/rule",exact:!0,component:function(){return Object(o.useEffect)((function(){var e=new p.a(Object(l.a)(Object(l.a)({},Sn),{},{container:document.querySelector("#graph")}));e.register(vn),e.render(Pn)}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(b,{content:"\u6b63\u65b9\u5f62\u7684\u4e0b\u4e00\u4e2a\u8282\u70b9\u53ea\u80fd\u662f\u5706\u5f62\u8282\u70b9",githubPath:"/advance/custom-node/rule/index.tsx"}),Object(r.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(r.jsx)(s.a,{path:"/advance/custom-node/shape",exact:!0,component:function(){return Object(o.useEffect)((function(){var e=new p.a(Object(l.a)(Object(l.a)({},An),{},{container:document.querySelector("#graph")}));e.register(vn),e.render(kn)}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(b,{content:"\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u8282\u70b9\u7684 SVG \u5143\u7d20",githubPath:"/advance/custom-node/shape/index.tsx"}),Object(r.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(r.jsx)(s.a,{path:"/advance/custom-edge/process",exact:!0,component:function(){return Object(o.useEffect)((function(){var e=new p.a(Object(l.a)(Object(l.a)({},Nn),{},{container:document.querySelector("#graph")}));e.register(Dn),e.render(Mn)}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(b,{githubPath:"/advance/custom-edge/index.tsx"}),Object(r.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(r.jsx)(s.a,{path:"/extension/snapshot",exact:!0,component:function(){return Object(o.useEffect)((function(){p.a.use(fe),(Yt=new p.a(Object(l.a)(Object(l.a)({},Ht),{},{container:document.querySelector("#graph")}))).render(Wt)}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(b,{contentStyle:Kt,githubPath:"/extension/snapshot/index.tsx",children:["\u5bfc\u51fa\u56fe\u7247\uff1a",Object(r.jsx)(h.a,{shape:"round",icon:Object(r.jsx)(Vt.a,{}),onClick:function(){Yt.getSnapshot()}})]}),Object(r.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(r.jsx)(s.a,{path:"/extension/components/control",exact:!0,component:function(){return Object(o.useEffect)((function(){p.a.use(Me),new p.a(Object(l.a)(Object(l.a)({},qt),{},{grid:{size:10,type:"dot"},container:document.querySelector("#graph")})).render()}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(b,{githubPath:"/extension/components/control/index.tsx"}),Object(r.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(r.jsx)(s.a,{path:"/extension/components/menu",exact:!0,component:function(){return Object(o.useEffect)((function(){p.a.use(Te),new p.a(Object(l.a)(Object(l.a)({},Zt),{},{grid:{size:10,type:"dot"},container:document.querySelector("#graph")})).render(Qt)}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(b,{content:"\u53f3\u952e\u8282\u70b9\u5c55\u793a\u83dc\u5355",githubPath:"/extension/components/menu/index.tsx"}),Object(r.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(r.jsx)(s.a,{path:"/extension/components/dnd-panel",exact:!0,component:function(){return Object(o.useEffect)((function(){p.a.use(Ce),p.a.use(Re);var e=new p.a(Object(l.a)(Object(l.a)({},Jt),{},{grid:{size:10,type:"dot"},container:document.querySelector("#graph")}));e.setPatternItems([{text:"\u9009\u533a",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAOVJREFUOBGtVMENwzAIjKP++2026ETdpv10iy7WFbqFyyW6GBywLCv5gI+Dw2Bluj1znuSjhb99Gkn6QILDY2imo60p8nsnc9bEo3+QJ+AKHfMdZHnl78wyTnyHZD53Zzx73MRSgYvnqgCUHj6gwdck7Zsp1VOrz0Uz8NbKunzAW+Gu4fYW28bUYutYlzSa7B84Fh7d1kjLwhcSdYAYrdkMQVpsBr5XgDGuXwQfQr0y9zwLda+DUYXLaGKdd2ZTtvbolaO87pdo24hP7ov16N0zArH1ur3iwJpXxm+v7oAJNR4JEP8DoAuSFEkYH7cAAAAASUVORK5CYII=",callback:function(){e.updateEditConfig({stopMoveGraph:!0})}},{type:"circle",text:"\u5f00\u59cb",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAnBJREFUOBGdVL1rU1EcPfdGBddmaZLiEhdx1MHZQXApraCzQ7GKLgoRBxMfcRELuihWKcXFRcEWF8HBf0DdDCKYRZpnl7p0svLe9Zzbd29eQhTbC8nv+9zf130AT63jvooOGS8Vf9Nt5zxba7sXQwODfkWpkbjTQfCGUd9gIp3uuPP8bZ946g56dYQvnBg+b1HB8VIQmMFrazKcKSvFW2dQTxJnJdQ77urmXWOMBCmXM2Rke4S7UAW+/8ywwFoewmBps2tu7mbTdp8VMOkIRAkKfrVawalJTtIliclFbaOBqa0M2xImHeVIfd/nKAfVq/LGnPss5Kh00VEdSzfwnBXPUpmykNss4lUI9C1ga+8PNrBD5YeqRY2Zz8PhjooIbfJXjowvQJBqkmEkVnktWhwu2SM7SMx7Cj0N9IC0oQXRo8xwAGzQms+xrB/nNSUWVveI48ayrFGyC2+E2C+aWrZHXvOuz+CiV6iycWe1Rd1Q6+QUG07nb5SbPrL4426d+9E1axKjY3AoRrlEeSQo2Eu0T6BWAAr6COhTcWjRaYfKG5csnvytvUr/WY4rrPMB53Uo7jZRjXaG6/CFfNMaXEu75nG47X+oepU7PKJvvzGDY1YLSKHJrK7vFUwXKkaxwhCW3u+sDFMVrIju54RYYbFKpALZAo7sB6wcKyyrd+aBMryMT2gPyD6GsQoRFkGHr14TthZni9ck0z+Pnmee460mHXbRAypKNy3nuMdrWgVKj8YVV8E7PSzp1BZ9SJnJAsXdryw/h5ctboUVi4AFiCd+lQaYMw5z3LGTBKjLQOeUF35k89f58Vv/tGh+l+PE/wG0rgfIUbZK5AAAAABJRU5ErkJggg=="},{type:"rect",text:"\u7528\u6237\u4efb\u52a1",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",className:"important-node"},{type:"rect",text:"\u7cfb\u7edf\u4efb\u52a1",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",cls:"import_icon"},{type:"diamond",text:"\u6761\u4ef6\u5224\u65ad",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAAHeEJUAAAAABGdBTUEAALGPC/xhBQAAAvVJREFUOBGNVEFrE0EU/mY3bQoiFlOkaUJrQUQoWMGePLX24EH0IIoHKQiCV0G8iE1covgLiqA/QTzVm1JPogc9tIJYFaQtlhQxqYjSpunu+L7JvmUTU3AgmTfvffPNN++9WSA1DO182f6xwILzD5btfAoQmwL5KJEwiQyVbSVZ0IgRyV6PTpIJ81E5ZvqfHQR0HUOBHW4L5Et2kQ6Zf7iAOhTFAA8s0pEP7AXO1uAA52SbqGk6h/6J45LaLhO64ByfcUzM39V7ZiAdS2yCePPEIQYvTUHqM/n7dgQNfBKWPjpF4ISk8q3J4nB11qw6X8l+FsF3EhlkEMfrjIer3wJTLwS2aCNcj4DbGxXTw00JmAuO+Ni6bBxVUCvS5d9aa04+so4pHW5jLTywuXAL7jJ+D06sl82Sgl2JuVBQn498zkc2bGKxULHjCnSMadBKYDYYHAtsby1EQ5lNGrQd4Y3v4Zo0XdGEmDno46yCM9Tk+RiJmUYHS/aXHPNTcjxcbTFna000PFJHIVZ5lFRqRpJWk9/+QtlOUYJj9HG5pVFEU7zqIYDVsw2s+AJaD8wTd2umgSCCyUxgGsS1Y6TBwXQQTFuZaHcd8gAGioE90hlsY+wMcs30RduYtxanjMGal8H5dMW67dmT1JFtYUEe8LiQLRsPZ6IIc7A4J5tqco3T0pnv/4u0kyzrYUq7gASuEyI8VXKvB9Odytv6jS/PNaZBln0nioJG/AVQRZvApOdhjj3Jt8QC8Im09SafwdBdvIpztpxWxpeKCC+EsFdS8DCyuCn2munFpL7ctHKp+Xc5cMybeIyMAN33SPL3ZR9QV1XVwLyzHm6Iv0/yeUuUb7PPlZC4D4HZkeu6dpF4v9j9MreGtMbxMMRLIcjJic9yHi7WQ3yVKzZVWUr5UrViJvn1FfUlwe/KYVfYyWRLSGNu16hR01U9IacajXPei0wx/5BqgInvJN+MMNtNme7ReU9SBbgntovn0kKHpFg7UogZvaZiOue/q1SBo9ktHzQAAAAASUVORK5CYII="},{type:"circle",text:"\u7ed3\u675f",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAA1BJREFUOBFtVE1IVUEYPXOf+tq40Y3vPcmFIdSjIorWoRG0ERWUgnb5FwVhYQSl72oUoZAboxKNFtWiwKRN0M+jpfSzqJAQclHo001tKkjl3emc8V69igP3znzfnO/M9zcDcKT67azmjYWTwl9Vn7Vumeqzj1DVb6cleQY4oAVnIOPb+mKAGxQmKI5CWNJ2aLPatxWa3aB9K7/fB+/Z0jUF6TmMlFLQqrkECWQzOZxYGjTlOl8eeKaIY5yHnFn486xBustDjWT6dG7pmjHOJd+33t0iitTPkK6tEvjxq4h2MozQ6WFSX/LkDUGfFwfhEZj1Auz/U4pyAi5Sznd7uKzznXeVHlI/Aywmk6j7fsUsEuCGADrWARXXwjxWQsUbIupDHJI7kF5dRktg0eN81IbiZXiTESic50iwS+t1oJgL83jAiBupLDCQqwziaWSoAFSeIR3P5Xv5az00wyIn35QRYTwdSYbz8pH8fxUUAtxnFvYmEmgI0wYXUXcCCSpeEVpXlsRhBnCEATxWylL9+EKCAYhe1NGstUa6356kS9NVvt3DU2fd+Wtbm/+lSbylJqsqkSm9CRhvoJVlvKPvF1RKY/FcPn5j4UfIMLn8D4UYb54BNsilTDXKnF4CfTobA0FpoW/LSp306wkXM+XaOJhZaFkcNM82ASNAWMrhrUbRfmyeI1FvRBTpN06WKxa9BK0o2E4Pd3zfBBEwPsv9sQBnmLVbLEIZ/Xe9LYwJu/Er17W6HYVBc7vmuk0xUQ+pqxdom5Fnp55SiytXLPYoMXNM4u4SNSCFWnrVIzKG3EGyMXo6n/BQOe+bX3FClY4PwydVhthOZ9NnS+ntiLh0fxtlUJHAuGaFoVmttpVMeum0p3WEXbcll94l1wM/gZ0Ccczop77VvN2I7TlsZCsuXf1WHvWEhjO8DPtyOVg2/mvK9QqboEth+7pD6NUQC1HN/TwvydGBARi9MZSzLE4b8Ru3XhX2PBxf8E1er2A6516o0w4sIA+lwURhAON82Kwe2iDAC1Watq4XHaGQ7skLcFOtI5lDxuM2gZe6WFIotPAhbaeYlU4to5cuarF1QrcZ/lwrLaCJl66JBocYZnrNlvm2+MBCTmUymPrYZVbjdlr/BxlMjmNmNI3SAAAAAElFTkSuQmCC"}]),e.render()}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(b,{githubPath:"/extension/components/dnd-panel/index.tsx"}),Object(r.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(r.jsx)(s.a,{path:"/extension/components/selection",exact:!0,component:function(){var e=Object(o.useState)(!0),t=Object(D.a)(e,2),n=t[0],i=t[1];return Object(o.useEffect)((function(){p.a.use(Re),new p.a(Object(l.a)(Object(l.a)({},en),{},{grid:{size:10,type:"dot"},container:document.querySelector("#graph")})).render(tn)}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(b,{content:"\u5f00\u542f\u591a\u9009\u529f\u80fd",githubPath:"/extension/components/selection/index.tsx",children:Object(r.jsx)($t.a,{defaultChecked:!0,onChange:function(){n?Re.close():Re.open(),i(!n)}})}),Object(r.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(r.jsx)(s.a,{path:"/extension/components/mini-map",exact:!0,component:function(){var e=Object(o.useState)(!1),t=Object(D.a)(e,2),n=t[0],i=t[1];return Object(o.useEffect)((function(){p.a.use(Ie),new p.a(Object(l.a)(Object(l.a)({},nn),{},{grid:{size:10,type:"dot"},container:document.querySelector("#graph")})).render(rn)}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(b,{content:"\u663e\u793a mini-map",githubPath:"/extension/components/mini-map/index.tsx",children:Object(r.jsx)($t.a,{onChange:function(){n?(Ie.hide(),i(!1)):(Ie.show(),i(!0))}})}),Object(r.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(r.jsx)(s.a,{path:"/extension/components/custom-menu",exact:!0,component:function(){return Object(o.useEffect)((function(){p.a.use(Te),(on=new p.a(Object(l.a)(Object(l.a)({},an),{},{grid:{size:10,type:"dot"},container:document.querySelector("#graph")}))).addMenuConfig({nodeMenu:[{text:"\u5206\u4eab",callback:function(){alert("\u5206\u4eab\u6210\u529f\uff01")}},{text:"\u5c5e\u6027",callback:function(e){alert("\n              \u8282\u70b9id\uff1a".concat(e.id,"\n              \u8282\u70b9\u7c7b\u578b\uff1a").concat(e.type,"\n              \u8282\u70b9\u5750\u6807\uff1a(x: ").concat(e.x,", y: ").concat(e.y,")"))}}],edgeMenu:[{text:"\u5c5e\u6027",callback:function(e){console.log(e),alert("\n              \u8fb9id\uff1a".concat(e.id,"\n              \u8fb9\u7c7b\u578b\uff1a").concat(e.type,"\n              \u6e90\u8282\u70b9id\uff1a").concat(e.sourceNodeId,"\n              \u76ee\u6807\u8282\u70b9id\uff1a").concat(e.targetNodeId))}}],graphMenu:[{text:"\u5206\u4eab",callback:function(){alert("\u5206\u4eab\u6210\u529f\uff01")}}]}),on.render(cn)}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(b,{content:"\u5206\u522b\u53f3\u952e\u8282\u70b9\u548c\u753b\u5e03\u6765\u5c55\u793a\u83dc\u5355"}),Object(r.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(r.jsx)(s.a,{path:"/extension/components/custom-dnd",exact:!0,component:function(){return Object(o.useEffect)((function(){p.a.use(ln),new p.a(Object(l.a)(Object(l.a)({},fn),{},{container:document.querySelector("#graph")})).render()}),[]),Object(r.jsx)("div",{id:"graph",className:"viewport"})}}),Object(r.jsx)(s.a,{path:"/extension/bpmn-elements",exact:!0,component:function(){return Object(o.useEffect)((function(){p.a.use(le);var e=new p.a(Object(l.a)(Object(l.a)({},rr),{},{container:document.querySelector("#graph")}));window.lf=e,e.render(or)}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(b,{githubPath:"/extension/bpmn/Elements.tsx"}),Object(r.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(r.jsx)(s.a,{path:"/extension/adapter",exact:!0,component:function(){return Object(o.useEffect)((function(){p.a.use(_e),p.a.use(Me),p.a.use(Ce),(ir=new p.a({container:document.querySelector("#graph"),stopScrollGraph:!0,stopZoomGraph:!0})).setShapeList(cr),ir.render()}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(b,{githubPath:"/extension/adapter/index.tsx",children:["\u5bfc\u51fa bpmnAdapter \u8f6c\u6362\u540e\u7684\u6570\u636e\u683c\u5f0f\uff1a",Object(r.jsx)(h.a,{shape:"round",icon:Object(r.jsx)(ar.a,{}),onClick:function(){var e=ir.getGraphData();!function(e,t){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}("logic-flow.json",JSON.stringify(e))}})]}),Object(r.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(r.jsx)(s.a,{path:"/extension/node-resize",exact:!0,component:function(){Object(o.useEffect)((function(){gt.style.outline=Object(l.a)(Object(l.a)({},gt.style.outline),{},{stroke:"#1E90FF",strokeDasharray:""}),p.a.use(gt),(pn=new p.a(Object(l.a)(Object(l.a)({},dn),{},{container:document.querySelector("#graph")}))).render(hn)}),[]);var e=function(e){pn.dnd.startDrag({type:e})};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(b,{contentStyle:yn,githubPath:"/extension/NodeResize/index.tsx",children:"\u8282\u70b9\u7f29\u653e"}),Object(r.jsxs)("div",{className:"node-resize-list",children:[Object(r.jsx)("div",{children:"\u62d6\u62fd\u6dfb\u52a0\u8282\u70b9"}),Object(r.jsx)("div",{className:"node-resize-rect",onMouseDown:function(){return e("rect")}}),Object(r.jsx)("div",{className:"node-resize-ellipse",onMouseDown:function(){return e("ellipse")}}),Object(r.jsx)("div",{className:"node-resize-diamond",onMouseDown:function(){return e("diamond")}})]}),Object(r.jsx)("div",{id:"graph",className:"viewport"})]})}}),Object(r.jsx)(s.a,{path:"/usage/bpmn",exact:!0,component:Tt}),Object(r.jsx)(s.a,{path:"/usage/approve",exact:!0,component:function(){var e=Object(o.useState)({}),t=Object(D.a)(e,2),n=t[0],i=t[1],a=Object(o.useState)(),c=Object(D.a)(a,2),u=c[0],s=c[1];Object(o.useEffect)((function(){var e=new p.a(Object(l.a)(Object(l.a)({},Kn),{},{container:document.querySelector("#graph")}));i(e),function(e){var t=function(e){Object(x.a)(n,e);var t=Object(j.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"getConnectedTargetRules",value:function(){var e=Object(Hn.a)(Object(Wn.a)(n.prototype),"getConnectedTargetRules",this).call(this);return e.push({message:"\u5f00\u59cb\u8282\u70b9\u53ea\u80fd\u8fde\u51fa\uff0c\u4e0d\u80fd\u8fde\u5165\uff01",validate:function(e,t){var n=!0;return t&&(n=!1),n}}),e}}]),n}(f.CircleNodeModel);e.register({type:"apply",view:f.CircleNode,model:t});var n=function(e){Object(x.a)(n,e);var t=Object(j.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"getLabelShape",value:function(){var e=Object(Hn.a)(Object(Wn.a)(n.prototype),"getAttributes",this).call(this),t=e.x,r=e.y,o=e.width,i=e.height,a=e.properties,c=a.labelColor,u=a.approveTypeLabel;return Object(f.h)("text",{fill:c,fontSize:12,x:t-o/2+5,y:r-i/2+15,width:50,height:25},u)}},{key:"getShape",value:function(){var e=Object(Hn.a)(Object(Wn.a)(n.prototype),"getAttributes",this).call(this),t=e.x,r=e.y,o=e.width,i=e.height,a=e.fill,c=e.stroke,u=e.strokeWidth,s=e.radius;return Object(f.h)("g",{},[Object(f.h)("rect",{x:t-o/2,y:r-i/2,rx:s,ry:s,fill:a,stroke:c,strokeWidth:u,width:o,height:i}),this.getLabelShape()])}}]),n}(f.RectNode);n.extendKey="UserTaskNode";var r=function(e){Object(x.a)(n,e);var t=Object(j.a)(n);function n(e,r){var o;return Object(m.a)(this,n),(o=t.call(this,e,r)).properties={labelColor:"#000000",approveTypeLabel:"",approveType:""},o}return n}(f.RectNodeModel);e.register({type:"approver",view:n,model:r});var o=function(e){Object(x.a)(n,e);var t=Object(j.a)(n);function n(e,r){var o;return Object(m.a)(this,n),(o=t.call(this,e,r)).points=[[35,0],[70,35],[35,70],[0,35]],o.properties={api:""},o}return n}(f.PolygonNodeModel);e.register({type:"jugement",view:f.PolygonNode,model:o});var i=function(e){Object(x.a)(n,e);var t=Object(j.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"getConnectedSourceRules",value:function(){var e=Object(Hn.a)(Object(Wn.a)(n.prototype),"getConnectedSourceRules",this).call(this);return e.push({message:"\u7ed3\u675f\u8282\u70b9\u53ea\u80fd\u8fde\u5165\uff0c\u4e0d\u80fd\u8fde\u51fa\uff01",validate:function(e){var t=!0;return e&&(t=!1),t}}),e}}]),n}(f.CircleNodeModel);e.register({type:"finsh",view:f.CircleNode,model:i})}(e),e.render(Xn),d(e)}),[]);var d=function(e){e.on("element:click",(function(t){var n=t.data;s(n),console.log(JSON.stringify(e.getGraphData()))})),e.on("connection:not-allowed",(function(e){In.b.error(e.msg)}))};return Object(r.jsxs)("div",{className:"approve-example-container",children:[Object(r.jsx)("div",{className:"node-panel",children:Vn(n)}),Object(r.jsx)("div",{id:"graph",className:"viewport"}),u?Object(r.jsx)("div",{className:"property-panel",children:Yn(u,(function(e,t){var r=n.graphModel.nodesMap[e],o=n.graphModel.edgesMap[e];r?r.model.setProperties(Object.assign(r.model.properties,t)):o&&o.model.setProperties(Object.assign(o.model.properties,t))}),(function(){s(void 0)}))}):""]})}}),Object(r.jsx)(s.a,{path:"/usage/approve/preview",exact:!0,component:function(){var e=Object(o.useState)(),t=Object(D.a)(e,2),n=t[0],i=t[1],a=Object(o.useState)(Boolean),c=Object(D.a)(a,2),u=c[0],s=c[1],d=Object(o.useState)({}),h=Object(D.a)(d,2),y=h[0],b=h[1];Object(o.useEffect)((function(){var e=new p.a(Object(l.a)(Object(l.a)({},nr),{},{container:document.querySelector("#graph")}));!function(e){var t=function(e){Object(x.a)(n,e);var t=Object(j.a)(n);function n(e,r){var o;Object(m.a)(this,n),o=t.call(this,e,r);var i=e.properties;return o.stroke=qn[i.status],o}return n}(f.CircleNodeModel);e.register({type:"apply",model:t,view:f.CircleNode});var n=function(e){Object(x.a)(n,e);var t=Object(j.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"getLabelShape",value:function(){var e=Object(Hn.a)(Object(Wn.a)(n.prototype),"getAttributes",this).call(this),t=e.x,r=e.y,o=e.width,i=e.height,a=e.properties,c=a.labelColor,u=a.approveTypeLabel;return Object(f.h)("text",{fill:c,fontSize:12,x:t-o/2+5,y:r-i/2+15,width:50,height:25},u)}},{key:"getShape",value:function(){var e=Object(Hn.a)(Object(Wn.a)(n.prototype),"getAttributes",this).call(this),t=e.x,r=e.y,o=e.width,i=e.height,a=e.fill,c=e.stroke,u=e.strokeWidth,s=e.radius;return Object(f.h)("g",{},[Object(f.h)("rect",{x:t-o/2,y:r-i/2,rx:s,ry:s,fill:a,stroke:c,strokeWidth:u,width:o,height:i}),this.getLabelShape()])}}]),n}(f.RectNode);n.extendKey="UserTaskNode";var r=function(e){Object(x.a)(n,e);var t=Object(j.a)(n);function n(e,r){var o;Object(m.a)(this,n),o=t.call(this,e,r);var i=e.properties;return o.stroke=qn[i.status],o}return n}(f.RectNodeModel);e.register({type:"approver",view:n,model:r});var o=function(e){Object(x.a)(n,e);var t=Object(j.a)(n);function n(e,r){var o;Object(m.a)(this,n),(o=t.call(this,e,r)).points=[[35,0],[70,35],[35,70],[0,35]];var i=e.properties;return o.stroke=qn[i.status],o.properties={api:""},o}return n}(f.PolygonNodeModel);e.register({type:"jugement",view:f.PolygonNode,model:o});var i=function(e){Object(x.a)(n,e);var t=Object(j.a)(n);function n(e,r){var o;Object(m.a)(this,n),o=t.call(this,e,r);var i=e.properties;return o.stroke=qn[i.status],o}return n}(f.CircleNodeModel);e.register({type:"finsh",view:f.CircleNode,model:i});var a=function(e){Object(x.a)(n,e);var t=Object(j.a)(n);function n(e,r){var o;Object(m.a)(this,n),o=t.call(this,e,r);var i=e.properties;return o.stroke=qn[i.status],o.hoverStroke=qn[i.status],o.selectedStroke=qn[i.status],o}return n}(f.PolylineEdgeModel);e.register({type:"action",view:f.PolylineEdge,model:a})}(e),e.render(er),v(e)}),[]);var v=function(e){e.on("node:mouseenter",(function(e){var t=e.e,n=e.data;i(n),s(!0),n.id?b({top:t.clientY,left:t.clientX}):b({display:"none"})})),e.on("node:mouseleave",(function(){i(void 0),s(!0)})),e.on("blank:mousemove",(function(e){var t=e.e;b({top:t.clientY,left:t.clientX})}))};return Object(r.jsxs)("div",{className:"approve-example-container",children:[Object(r.jsx)("div",{id:"graph",className:"viewport"}),u?tr(y,n):""]})}}),Object(r.jsx)(s.a,{path:"/",component:function(){return Object(o.useEffect)((function(){new p.a(Object(l.a)(Object(l.a)({},v),{},{container:document.querySelector("#container")})).render(g)}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(b,{githubPath:"/start/index.tsx"}),Object(r.jsx)("div",{id:"container",className:"viewport"})]})}})]});n(294);var sr=function(){return Object(r.jsx)("div",{className:"App",children:ur})},lr=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,310)).then((function(t){var n=t.getCLS,r=t.getFID,o=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),r(e),o(e),i(e),a(e)}))};c.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(u.a,{children:Object(r.jsx)(sr,{})})}),document.getElementById("root")),lr()},3:function(e,t,n){window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=15)}([function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return Tn})),n.d(t,"b",(function(){return pn})),n.d(t,"c",(function(){return Ke})),n.d(t,"d",(function(){return De})),n.d(t,"e",(function(){return ke})),n.d(t,"f",(function(){return Pn})),n.d(t,"g",(function(){return de})),n.d(t,"h",(function(){return Ae})),n.d(t,"i",(function(){return st})),n.d(t,"j",(function(){return dt})),n.d(t,"k",(function(){return se})),n.d(t,"l",(function(){return mt})),n.d(t,"m",(function(){return N})),n.d(t,"n",(function(){return Tt})),n.d(t,"o",(function(){return Ot})),n.d(t,"p",(function(){return wt})),n.d(t,"q",(function(){return Sn})),n.d(t,"r",(function(){return An})),n.d(t,"s",(function(){return ft})),n.d(t,"t",(function(){return Pt})),n.d(t,"u",(function(){return At})),n.d(t,"v",(function(){return Dt})),n.d(t,"w",(function(){return ln})),n.d(t,"x",(function(){return hn})),n.d(t,"y",(function(){return En})),n.d(t,"z",(function(){return Nt})),n.d(t,"A",(function(){return re})),n.d(t,"B",(function(){return Ct})),n.d(t,"C",(function(){return vt})),n.d(t,"D",(function(){return bt})),n.d(t,"E",(function(){return lt})),n.d(t,"F",(function(){return it})),n.d(t,"G",(function(){return Lt})),n.d(t,"H",(function(){return Bt})),n.d(t,"I",(function(){return ve})),n.d(t,"J",(function(){return Mt})),n.d(t,"K",(function(){return Ft}));var o=[];Object.freeze(o);var i={};Object.freeze(i);var a={};function c(){return"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:a}function u(){return++Fe.mobxGuid}function s(e){throw l(!1,e),"X"}function l(e,t){if(!e)throw new Error("[mobx] "+(t||"An invariant failed, however the error is obfuscated because this is an production build."))}function f(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var p=function(){};function d(e){return null!==e&&"object"==typeof e}function h(e){if(null===e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}function y(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function b(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function v(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return d(e)&&!0===e[n]}}function g(e){return void 0!==c().Map&&e instanceof c().Map}function m(e){return e instanceof Set}function O(e){for(var t=[];;){var n=e.next();if(n.done)break;t.push(n.value)}return t}function x(){return"function"==typeof Symbol&&Symbol.toPrimitive||"@@toPrimitive"}function j(e){return null===e?null:"object"==typeof e?""+e:e}function _(e,t){for(var n=e.next();!n.done;)t(n.value),n=e.next()}function w(){return"function"==typeof Symbol&&Symbol.iterator||"@@iterator"}function E(e,t){b(e,w(),t)}function S(e){return e[w()]=A,e}function P(){return"function"==typeof Symbol&&Symbol.toStringTag||"@@toStringTag"}function A(){return this}var k=function(){function e(e){void 0===e&&(e="Atom@"+u()),this.name=e,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=ie.NOT_TRACKING}return e.prototype.onBecomeUnobserved=function(){},e.prototype.onBecomeObserved=function(){},e.prototype.reportObserved=function(){return He(this)},e.prototype.reportChanged=function(){Ye(),function(e){if(e.lowestObserverState!==ie.STALE){e.lowestObserverState=ie.STALE;for(var t=e.observers,n=t.length;n--;){var r=t[n];r.dependenciesState===ie.UP_TO_DATE&&(r.isTracing!==ae.NONE&&We(r,e),r.onBecomeStale()),r.dependenciesState=ie.STALE}}}(this),Ve()},e.prototype.toString=function(){return this.name},e}(),D=v("Atom",k);function N(e,t,n){void 0===t&&(t=p),void 0===n&&(n=p);var r,o=new k(e);return gt("onBecomeObserved",o,t,r),vt(o,n),o}function M(e,t){return e===t}var T={identity:M,structural:function(e,t){return Dn(e,t)},default:function(e,t){return function(e,t){return"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}(e,t)||M(e,t)},shallow:function(e,t){return Dn(e,t,1)}},C=function(e,t){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function R(e,t){function n(){this.constructor=e}C(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var I=function(){return(I=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function L(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function z(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(L(arguments[t]));return e}var B={},F={};function U(e,t){var n=t?B:F;return n[e]||(n[e]={configurable:!0,enumerable:t,get:function(){return G(this),this[e]},set:function(t){G(this),this[e]=t}})}function G(e){if(!0!==e.__mobxDidRunLazyInitializers){var t=e.__mobxDecorators;if(t)for(var n in y(e,"__mobxDidRunLazyInitializers",!0),t){var r=t[n];r.propertyCreator(e,r.prop,r.descriptor,r.decoratorTarget,r.decoratorArguments)}}}function X(e,t){return function(){var n,r=function(r,o,i,a){if(!0===a)return t(r,o,i,r,n),null;if(!Object.prototype.hasOwnProperty.call(r,"__mobxDecorators")){var c=r.__mobxDecorators;y(r,"__mobxDecorators",I({},c))}return r.__mobxDecorators[o]={prop:o,propertyCreator:t,descriptor:i,decoratorTarget:r,decoratorArguments:n},U(o,e)};return Y(arguments)?(n=o,r.apply(null,arguments)):(n=Array.prototype.slice.call(arguments),r)}}function Y(e){return(2===e.length||3===e.length)&&"string"==typeof e[1]||4===e.length&&!0===e[3]}function V(e,t,n){return Dt(e)?e:Array.isArray(e)?re.array(e,{name:n}):h(e)?re.object(e,void 0,{name:n}):g(e)?re.map(e,{name:n}):m(e)?re.set(e,{name:n}):e}function H(e){return e}function W(e){l(e);var t=X(!0,(function(t,n,r,o,i){On(t,n,r?r.initializer?r.initializer.call(t):r.value:void 0,e)})),n=(void 0!==r&&r.env,t);return n.enhancer=e,n}var K={deep:!0,name:void 0,defaultDecorator:void 0},q={deep:!1,name:void 0,defaultDecorator:void 0};function Z(e){return null==e?K:"string"==typeof e?{name:e,deep:!0}:e}function Q(e){return e.defaultDecorator?e.defaultDecorator.enhancer:!1===e.deep?H:V}Object.freeze(K),Object.freeze(q);var J=W(V),$=W((function(e,t,n){return null==e||En(e)||ln(e)||hn(e)||vn(e)?e:Array.isArray(e)?re.array(e,{name:n,deep:!1}):h(e)?re.object(e,void 0,{name:n,deep:!1}):g(e)?re.map(e,{name:n,deep:!1}):m(e)?re.set(e,{name:n,deep:!1}):s(!1)})),ee=W(H),te=W((function(e,t,n){return Dn(e,t)?t:e})),ne={box:function(e,t){arguments.length>2&&oe("box");var n=Z(t);return new Te(e,Q(n),n.name,!0,n.equals)},shallowBox:function(e,t){return arguments.length>2&&oe("shallowBox"),re.box(e,{name:t,deep:!1})},array:function(e,t){arguments.length>2&&oe("array");var n=Z(t);return new rn(e,Q(n),n.name)},shallowArray:function(e,t){return arguments.length>2&&oe("shallowArray"),re.array(e,{name:t,deep:!1})},map:function(e,t){arguments.length>2&&oe("map");var n=Z(t);return new pn(e,Q(n),n.name)},shallowMap:function(e,t){return arguments.length>2&&oe("shallowMap"),re.map(e,{name:t,deep:!1})},set:function(e,t){arguments.length>2&&oe("set");var n=Z(t);return new bn(e,Q(n),n.name)},object:function(e,t,n){return"string"==typeof arguments[1]&&oe("object"),Ot({},e,t,Z(n))},shallowObject:function(e,t){return"string"==typeof arguments[1]&&oe("shallowObject"),re.object(e,{},{name:t,deep:!1})},ref:ee,shallow:$,deep:J,struct:te},re=function e(t,n,r){if("string"==typeof arguments[1])return J.apply(null,arguments);if(Dt(t))return t;var o=h(t)?e.object(t,n,r):Array.isArray(t)?e.array(t,n):g(t)?e.map(t,n):m(t)?e.set(t,n):t;if(o!==t)return o;s(!1)};function oe(e){s("Expected one or two arguments to observable."+e+". Did you accidentally try to use observable."+e+" as decorator?")}Object.keys(ne).forEach((function(e){return re[e]=ne[e]}));var ie,ae,ce=X(!1,(function(e,t,n,r,o){var i=n.get,a=n.set,c=o[0]||{};!function(e,t,n){var r=mn(e);n.name=r.name+"."+t,n.context=e,r.values[t]=new Re(n),Object.defineProperty(e,t,function(e){return jn[e]||(jn[e]={configurable:Fe.computedConfigurable,enumerable:!1,get:function(){return _n(this).read(this,e)},set:function(t){_n(this).write(this,e,t)}})}(t))}(e,t,I({get:i,set:a},c))})),ue=ce({equals:T.structural}),se=function(e,t,n){if("string"==typeof t)return ce.apply(null,arguments);if(null!==e&&"object"==typeof e&&1===arguments.length)return ce.apply(null,arguments);var r="object"==typeof t?t:{};return r.get=e,r.set="function"==typeof t?t:r.set,r.name=r.name||e.name||"",new Re(r)};se.struct=ue,function(e){e[e.NOT_TRACKING=-1]="NOT_TRACKING",e[e.UP_TO_DATE=0]="UP_TO_DATE",e[e.POSSIBLY_STALE=1]="POSSIBLY_STALE",e[e.STALE=2]="STALE"}(ie||(ie={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(ae||(ae={}));var le=function(e){this.cause=e};function fe(e){return e instanceof le}function pe(e){switch(e.dependenciesState){case ie.UP_TO_DATE:return!1;case ie.NOT_TRACKING:case ie.STALE:return!0;case ie.POSSIBLY_STALE:for(var t=Oe(!0),n=ge(),r=e.observing,o=r.length,i=0;i<o;i++){var a=r[i];if(Ie(a)){if(Fe.disableErrorBoundaries)a.get();else try{a.get()}catch(e){return me(n),xe(t),!0}if(e.dependenciesState===ie.STALE)return me(n),xe(t),!0}}return je(e),me(n),xe(t),!1}}function de(){return null!==Fe.trackingDerivation}function he(e){var t=e.observers.length>0;Fe.computationDepth>0&&t&&s(!1),Fe.allowStateChanges||!t&&"strict"!==Fe.enforceActions||s(!1)}function ye(e,t,n){var r=Oe(!0);je(e),e.newObserving=new Array(e.observing.length+100),e.unboundDepsCount=0,e.runId=++Fe.runId;var o,i=Fe.trackingDerivation;if(Fe.trackingDerivation=e,!0===Fe.disableErrorBoundaries)o=t.call(n);else try{o=t.call(n)}catch(e){o=new le(e)}return Fe.trackingDerivation=i,function(e){for(var t=e.observing,n=e.observing=e.newObserving,r=ie.UP_TO_DATE,o=0,i=e.unboundDepsCount,a=0;a<i;a++)0===(c=n[a]).diffValue&&(c.diffValue=1,o!==a&&(n[o]=c),o++),c.dependenciesState>r&&(r=c.dependenciesState);for(n.length=o,e.newObserving=null,i=t.length;i--;)0===(c=t[i]).diffValue&&Ge(c,e),c.diffValue=0;for(;o--;){var c;1===(c=n[o]).diffValue&&(c.diffValue=0,Ue(c,e))}r!==ie.UP_TO_DATE&&(e.dependenciesState=r,e.onBecomeStale())}(e),e.observing.length,xe(r),o}function be(e){var t=e.observing;e.observing=[];for(var n=t.length;n--;)Ge(t[n],e);e.dependenciesState=ie.NOT_TRACKING}function ve(e){var t=ge(),n=e();return me(t),n}function ge(){var e=Fe.trackingDerivation;return Fe.trackingDerivation=null,e}function me(e){Fe.trackingDerivation=e}function Oe(e){var t=Fe.allowStateReads;return Fe.allowStateReads=e,t}function xe(e){Fe.allowStateReads=e}function je(e){if(e.dependenciesState!==ie.UP_TO_DATE){e.dependenciesState=ie.UP_TO_DATE;for(var t=e.observing,n=t.length;n--;)t[n].lowestObserverState=ie.UP_TO_DATE}}var _e=0,we=1,Ee=Object.getOwnPropertyDescriptor((function(){}),"name");function Se(e,t){var n=function(){return Pe(e,t,this,arguments)};return n.isMobxAction=!0,n}function Pe(e,t,n,r){var o=Ae(e,n,r);try{return t.apply(n,r)}catch(e){throw o.error=e,e}finally{ke(o)}}function Ae(e,t,n){var r=et()&&!!e,o=0;if(r){o=Date.now();var i=n&&n.length||0,a=new Array(i);if(i>0)for(var c=0;c<i;c++)a[c]=n[c];nt({type:"action",name:e,object:t,arguments:a})}var u=ge();Ye();var s={prevDerivation:u,prevAllowStateChanges:Ne(!0),prevAllowStateReads:Oe(!0),notifySpy:r,startTime:o,actionId:we++,parentActionId:_e};return _e=s.actionId,s}function ke(e){_e!==e.actionId&&s("invalid action stack. did you forget to finish an action?"),_e=e.parentActionId,void 0!==e.error&&(Fe.suppressReactionErrors=!0),Me(e.prevAllowStateChanges),xe(e.prevAllowStateReads),Ve(),me(e.prevDerivation),e.notifySpy&&ot({time:Date.now()-e.startTime}),Fe.suppressReactionErrors=!1}function De(e,t){var n,r=Ne(e);try{n=t()}finally{Me(r)}return n}function Ne(e){var t=Fe.allowStateChanges;return Fe.allowStateChanges=e,t}function Me(e){Fe.allowStateChanges=e}Ee&&Ee.configurable;var Te=function(e){function t(t,n,r,o,i){void 0===r&&(r="ObservableValue@"+u()),void 0===o&&(o=!0),void 0===i&&(i=T.default);var a=e.call(this,r)||this;return a.enhancer=n,a.name=r,a.equals=i,a.hasUnreportedChange=!1,a.value=n(t,void 0,r),o&&et()&&tt({type:"create",name:a.name,newValue:""+a.value}),a}return R(t,e),t.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.prototype.set=function(e){var t=this.value;if((e=this.prepareNewValue(e))!==Fe.UNCHANGED){var n=et();n&&nt({type:"update",name:this.name,newValue:e,oldValue:t}),this.setNewValue(e),n&&ot()}},t.prototype.prepareNewValue=function(e){if(he(this),Xt(this)){var t=Vt(this,{object:this,type:"update",newValue:e});if(!t)return Fe.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value,this.name),this.equals(this.value,e)?Fe.UNCHANGED:e},t.prototype.setNewValue=function(e){var t=this.value;this.value=e,this.reportChanged(),Ht(this)&&Kt(this,{type:"update",object:this,newValue:e,oldValue:t})},t.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},t.prototype.intercept=function(e){return Yt(this,e)},t.prototype.observe=function(e,t){return t&&e({object:this,type:"update",newValue:this.value,oldValue:void 0}),Wt(this,e)},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.value+"]"},t.prototype.valueOf=function(){return j(this.get())},t}(k);Te.prototype[x()]=Te.prototype.valueOf;var Ce=v("ObservableValue",Te),Re=function(){function e(e){this.dependenciesState=ie.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=ie.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+u(),this.value=new le(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=ae.NONE,l(e.get,"missing option for computed: get"),this.derivation=e.get,this.name=e.name||"ComputedValue@"+u(),e.set&&(this.setter=Se(this.name+"-setter",e.set)),this.equals=e.equals||(e.compareStructural||e.struct?T.structural:T.default),this.scope=e.context,this.requiresReaction=!!e.requiresReaction,this.keepAlive=!!e.keepAlive}return e.prototype.onBecomeStale=function(){!function(e){if(e.lowestObserverState===ie.UP_TO_DATE){e.lowestObserverState=ie.POSSIBLY_STALE;for(var t=e.observers,n=t.length;n--;){var r=t[n];r.dependenciesState===ie.UP_TO_DATE&&(r.dependenciesState=ie.POSSIBLY_STALE,r.isTracing!==ae.NONE&&We(r,e),r.onBecomeStale())}}}(this)},e.prototype.onBecomeUnobserved=function(){},e.prototype.onBecomeObserved=function(){},e.prototype.get=function(){this.isComputing&&s("Cycle detected in computation "+this.name+": "+this.derivation),0!==Fe.inBatch||0!==this.observers.length||this.keepAlive?(He(this),pe(this)&&this.trackAndCompute()&&function(e){if(e.lowestObserverState!==ie.STALE){e.lowestObserverState=ie.STALE;for(var t=e.observers,n=t.length;n--;){var r=t[n];r.dependenciesState===ie.POSSIBLY_STALE?r.dependenciesState=ie.STALE:r.dependenciesState===ie.UP_TO_DATE&&(e.lowestObserverState=ie.UP_TO_DATE)}}}(this)):pe(this)&&(this.warnAboutUntrackedRead(),Ye(),this.value=this.computeValue(!1),Ve());var e=this.value;if(fe(e))throw e.cause;return e},e.prototype.peek=function(){var e=this.computeValue(!1);if(fe(e))throw e.cause;return e},e.prototype.set=function(e){if(this.setter){l(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,e)}finally{this.isRunningSetter=!1}}else l(!1,!1)},e.prototype.trackAndCompute=function(){et()&&tt({object:this.scope,type:"compute",name:this.name});var e=this.value,t=this.dependenciesState===ie.NOT_TRACKING,n=this.computeValue(!0),r=t||fe(e)||fe(n)||!this.equals(e,n);return r&&(this.value=n),r},e.prototype.computeValue=function(e){var t;if(this.isComputing=!0,Fe.computationDepth++,e)t=ye(this,this.derivation,this.scope);else if(!0===Fe.disableErrorBoundaries)t=this.derivation.call(this.scope);else try{t=this.derivation.call(this.scope)}catch(e){t=new le(e)}return Fe.computationDepth--,this.isComputing=!1,t},e.prototype.suspend=function(){this.keepAlive||(be(this),this.value=void 0)},e.prototype.observe=function(e,t){var n=this,r=!0,o=void 0;return dt((function(){var i=n.get();if(!r||t){var a=ge();e({type:"update",object:n,newValue:i,oldValue:o}),me(a)}r=!1,o=i}))},e.prototype.warnAboutUntrackedRead=function(){},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},e.prototype.valueOf=function(){return j(this.get())},e}();Re.prototype[x()]=Re.prototype.valueOf;var Ie=v("ComputedValue",Re),Le=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},ze=!0,Be=!1,Fe=function(){var e=c();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(ze=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new Le).version&&(ze=!1),ze?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new Le):(setTimeout((function(){Be||s("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")}),1),new Le)}();function Ue(e,t){var n=e.observers.length;n&&(e.observersIndexes[t.__mapid]=n),e.observers[n]=t,e.lowestObserverState>t.dependenciesState&&(e.lowestObserverState=t.dependenciesState)}function Ge(e,t){if(1===e.observers.length)e.observers.length=0,Xe(e);else{var n=e.observers,r=e.observersIndexes,o=n.pop();if(o!==t){var i=r[t.__mapid]||0;i?r[o.__mapid]=i:delete r[o.__mapid],n[i]=o}delete r[t.__mapid]}}function Xe(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,Fe.pendingUnobservations.push(e))}function Ye(){Fe.inBatch++}function Ve(){if(0==--Fe.inBatch){Ze();for(var e=Fe.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,0===n.observers.length&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof Re&&n.suspend())}Fe.pendingUnobservations=[]}}function He(e){var t=Fe.trackingDerivation;return null!==t?(t.runId!==e.lastAccessedBy&&(e.lastAccessedBy=t.runId,t.newObserving[t.unboundDepsCount++]=e,e.isBeingObserved||(e.isBeingObserved=!0,e.onBecomeObserved())),!0):(0===e.observers.length&&Fe.inBatch>0&&Xe(e),!1)}function We(e,t){if(console.log("[mobx.trace] '"+e.name+"' is invalidated due to a change in: '"+t.name+"'"),e.isTracing===ae.BREAK){var n=[];!function e(t,n,r){n.length>=1e3?n.push("(and many more)"):(n.push(""+new Array(r).join("\t")+t.name),t.dependencies&&t.dependencies.forEach((function(t){return e(t,n,r+1)})))}((r=e,xt(Sn(r,o))),n,1),new Function("debugger;\n/*\nTracing '"+e.name+"'\n\nYou are entering this break point because derivation '"+e.name+"' is being traced and '"+t.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(e instanceof Re?e.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}var r,o}var Ke=function(){function e(e,t,n,r){void 0===e&&(e="Reaction@"+u()),void 0===r&&(r=!1),this.name=e,this.onInvalidate=t,this.errorHandler=n,this.requiresObservable=r,this.observing=[],this.newObserving=[],this.dependenciesState=ie.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+u(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=ae.NONE}return e.prototype.onBecomeStale=function(){this.schedule()},e.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Fe.pendingReactions.push(this),Ze())},e.prototype.isScheduled=function(){return this._isScheduled},e.prototype.runReaction=function(){if(!this.isDisposed){if(Ye(),this._isScheduled=!1,pe(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&et()&&tt({name:this.name,type:"scheduled-reaction"})}catch(e){this.reportExceptionInDerivation(e)}}Ve()}},e.prototype.track=function(e){Ye();var t,n=et();n&&(t=Date.now(),nt({name:this.name,type:"reaction"})),this._isRunning=!0;var r=ye(this,e,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&be(this),fe(r)&&this.reportExceptionInDerivation(r.cause),n&&ot({time:Date.now()-t}),Ve()},e.prototype.reportExceptionInDerivation=function(e){var t=this;if(this.errorHandler)this.errorHandler(e,this);else{if(Fe.disableErrorBoundaries)throw e;var n="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";Fe.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(n,e),et()&&tt({type:"error",name:this.name,message:n,error:""+e}),Fe.globalReactionErrorHandlers.forEach((function(n){return n(e,t)}))}},e.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Ye(),be(this),Ve()))},e.prototype.getDisposer=function(){var e=this.dispose.bind(this);return e.$mobx=this,e},e.prototype.toString=function(){return"Reaction["+this.name+"]"},e.prototype.trace=function(e){void 0===e&&(e=!1),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=!1;"boolean"==typeof e[e.length-1]&&(n=e.pop());var r=zt(e);if(!r)return s(!1);r.isTracing===ae.NONE&&console.log("[mobx.trace] '"+r.name+"' tracing enabled"),r.isTracing=n?ae.BREAK:ae.LOG}(this,e)},e}(),qe=function(e){return e()};function Ze(){Fe.inBatch>0||Fe.isRunningReactions||qe(Qe)}function Qe(){Fe.isRunningReactions=!0;for(var e=Fe.pendingReactions,t=0;e.length>0;){100==++t&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,o=n.length;r<o;r++)n[r].runReaction()}Fe.isRunningReactions=!1}var Je=v("Reaction",Ke);function $e(e){var t=qe;qe=function(n){return e((function(){return t(n)}))}}function et(){return!!Fe.spyListeners.length}function tt(e){if(Fe.spyListeners.length)for(var t=Fe.spyListeners,n=0,r=t.length;n<r;n++)t[n](e)}function nt(e){tt(I(I({},e),{spyReportStart:!0}))}var rt={spyReportEnd:!0};function ot(e){tt(e?I(I({},e),{spyReportEnd:!0}):rt)}function it(e){return Fe.spyListeners.push(e),f((function(){Fe.spyListeners=Fe.spyListeners.filter((function(t){return t!==e}))}))}function at(){s(!1)}function ct(e){return function(t,n,r){if(r){if(r.value)return{value:Se(e,r.value),enumerable:!1,configurable:!0,writable:!0};var o=r.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Se(e,o.call(this))}}}return ut(e).apply(this,arguments)}}function ut(e){return function(t,n,r){Object.defineProperty(t,n,{configurable:!0,enumerable:!1,get:function(){},set:function(t){y(this,n,st(e,t))}})}}var st=function(e,t,n,r){return 1===arguments.length&&"function"==typeof e?Se(e.name||"<unnamed action>",e):2===arguments.length&&"function"==typeof t?Se(e,t):1===arguments.length&&"string"==typeof e?ct(e):!0!==r?ct(t).apply(null,arguments):void(e[t]=Se(e.name||t,n.value))};function lt(e,t){return Pe("string"==typeof e?e:e.name||"<unnamed action>","function"==typeof e?e:t,this,void 0)}function ft(e){return"function"==typeof e&&!0===e.isMobxAction}function pt(e,t,n){y(e,t,Se(t,n.bind(e)))}function dt(e,t){void 0===t&&(t=i);var n,r=t&&t.name||e.name||"Autorun@"+u();if(t.scheduler||t.delay){var o=yt(t),a=!1;n=new Ke(r,(function(){a||(a=!0,o((function(){a=!1,n.isDisposed||n.track(c)})))}),t.onError,t.requiresObservable)}else n=new Ke(r,(function(){this.track(c)}),t.onError,t.requiresObservable);function c(){e(n)}return n.schedule(),n.getDisposer()}st.bound=function(e,t,n,r){return!0===r?(pt(e,t,n.value),null):n?{configurable:!0,enumerable:!1,get:function(){return pt(this,t,n.value||n.initializer.call(this)),this[t]},set:at}:{enumerable:!1,configurable:!0,set:function(e){pt(this,t,e)},get:function(){}}};var ht=function(e){return e()};function yt(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:ht}function bt(e,t,n){void 0===n&&(n=i),"boolean"==typeof n&&(n={fireImmediately:n});var r,o,a,c=n.name||"Reaction@"+u(),s=st(c,n.onError?(r=n.onError,o=t,function(){try{return o.apply(this,arguments)}catch(e){r.call(this,e)}}):t),l=!n.scheduler&&!n.delay,f=yt(n),p=!0,d=!1,h=n.compareStructural?T.structural:n.equals||T.default,y=new Ke(c,(function(){p||l?b():d||(d=!0,f(b))}),n.onError,n.requiresObservable);function b(){if(d=!1,!y.isDisposed){var t=!1;y.track((function(){var n=e(y);t=p||!h(a,n),a=n})),p&&n.fireImmediately&&s(a,y),p||!0!==t||s(a,y),p&&(p=!1)}}return y.schedule(),y.getDisposer()}function vt(e,t,n){return gt("onBecomeUnobserved",e,t,n)}function gt(e,t,n,r){var o="function"==typeof r?Sn(t,n):Sn(t),i="function"==typeof r?r:n,a=o[e];return"function"!=typeof a?s(!1):(o[e]=function(){a.call(this),i.call(this)},function(){o[e]=a})}function mt(e){var t=e.enforceActions,n=e.computedRequiresReaction,r=e.computedConfigurable,o=e.disableErrorBoundaries,i=e.arrayBuffer,a=e.reactionScheduler,u=e.reactionRequiresObservable,l=e.observableRequiresReaction;if(!0===e.isolateGlobalState&&((Fe.pendingReactions.length||Fe.inBatch||Fe.isRunningReactions)&&s("isolateGlobalState should be called before MobX is running any reactions"),Be=!0,ze&&(0==--c().__mobxInstanceCount&&(c().__mobxGlobals=void 0),Fe=new Le)),void 0!==t){var f=void 0;switch(t){case!0:case"observed":f=!0;break;case!1:case"never":f=!1;break;case"strict":case"always":f="strict";break;default:s("Invalid value for 'enforceActions': '"+t+"', expected 'never', 'always' or 'observed'")}Fe.enforceActions=f,Fe.allowStateChanges=!0!==f&&"strict"!==f}void 0!==n&&(Fe.computedRequiresReaction=!!n),void 0!==u&&(Fe.reactionRequiresObservable=!!u),void 0!==l&&(Fe.observableRequiresReaction=!!l,Fe.allowStateReads=!Fe.observableRequiresReaction),void 0!==r&&(Fe.computedConfigurable=!!r),void 0!==o&&(!0===o&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors if this is on."),Fe.disableErrorBoundaries=!!o),"number"==typeof i&&un(i),a&&$e(a)}function Ot(e,t,n,r){var o=(r=Z(r)).defaultDecorator||(!1===r.deep?ee:J);G(e),mn(e,r.name,o.enhancer),Ye();try{for(var i=Object.getOwnPropertyNames(t),a=0,c=i.length;a<c;a++){var u=i[a],s=Object.getOwnPropertyDescriptor(t,u),l=(n&&u in n?n[u]:s.get?ce:o)(e,u,s,!0);l&&Object.defineProperty(e,u,l)}}finally{Ve()}return e}function xt(e){var t,n,r={name:e.name};return e.observing&&e.observing.length>0&&(r.dependencies=(t=e.observing,n=[],t.forEach((function(e){-1===n.indexOf(e)&&n.push(e)})),n).map(xt)),r}var jt=0;function _t(){this.message="FLOW_CANCELLED"}function wt(e){1!==arguments.length&&s("Flow expects one 1 argument and cannot be used as decorator");var t=e.name||"<unnamed flow>";return function(){var n,r=this,o=arguments,i=++jt,a=st(t+" - runid: "+i+" - init",e).apply(r,o),c=void 0,u=new Promise((function(e,r){var o=0;function u(e){var n;c=void 0;try{n=st(t+" - runid: "+i+" - yield "+o++,a.next).call(a,e)}catch(e){return r(e)}l(n)}function s(e){var n;c=void 0;try{n=st(t+" - runid: "+i+" - yield "+o++,a.throw).call(a,e)}catch(e){return r(e)}l(n)}function l(t){if(!t||"function"!=typeof t.then)return t.done?e(t.value):(c=Promise.resolve(t.value)).then(u,s);t.then(l,r)}n=r,u(void 0)}));return u.cancel=st(t+" - runid: "+i+" - cancel",(function(){try{c&&Et(c);var e=a.return(void 0),t=Promise.resolve(e.value);t.then(p,p),Et(t),n(new _t)}catch(e){n(e)}})),u}}function Et(e){"function"==typeof e.cancel&&e.cancel()}function St(e,t){if(null==e)return!1;if(void 0!==t){if(!1===En(e))return!1;if(!e.$mobx.values[t])return!1;var n=Sn(e,t);return Ie(n)}return Ie(e)}function Pt(e){return arguments.length>1?s(!1):St(e)}function At(e,t){return"string"!=typeof t?s(!1):St(e,t)}function kt(e,t){if(null==e)return!1;if(void 0!==t){if(En(e)){var n=e.$mobx;return n.values&&!!n.values[t]}return!1}return En(e)||!!e.$mobx||D(e)||Je(e)||Ie(e)}function Dt(e){return 1!==arguments.length&&s(!1),kt(e)}function Nt(e){return En(e)?e.$mobx.getKeys():hn(e)||vn(e)?O(e.keys()):ln(e)?e.map((function(e,t){return t})):s(!1)}function Mt(e){return En(e)?Nt(e).map((function(t){return e[t]})):hn(e)?Nt(e).map((function(t){return e.get(t)})):vn(e)?O(e.values()):ln(e)?e.slice():s(!1)}function Tt(e){return En(e)?Nt(e).map((function(t){return[t,e[t]]})):hn(e)?Nt(e).map((function(t){return[t,e.get(t)]})):vn(e)?O(e.entries()):ln(e)?e.map((function(e,t){return[t,e]})):s(!1)}function Ct(e,t,n,r){return"function"==typeof n?function(e,t,n,r){return Pn(e,t).observe(n,r)}(e,t,n,r):function(e,t,n){return Pn(e).observe(t,n)}(e,t,n)}_t.prototype=Object.create(Error.prototype);var Rt={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function It(e,t,n,r){return r.detectCycles&&e.set(t,n),n}function Lt(e,t){var n;return"boolean"==typeof t&&(t={detectCycles:t}),t||(t=Rt),t.detectCycles=void 0===t.detectCycles?!0===t.recurseEverything:!0===t.detectCycles,t.detectCycles&&(n=new Map),function e(t,n,r){if(!n.recurseEverything&&!Dt(t))return t;if("object"!=typeof t)return t;if(null===t)return null;if(t instanceof Date)return t;if(Ce(t))return e(t.get(),n,r);if(Dt(t)&&Nt(t),!0===n.detectCycles&&null!==t&&r.has(t))return r.get(t);if(ln(t)||Array.isArray(t)){var o=It(r,t,[],n),i=t.map((function(t){return e(t,n,r)}));o.length=i.length;for(var a=0,c=i.length;a<c;a++)o[a]=i[a];return o}if(vn(t)||Object.getPrototypeOf(t)===Set.prototype){if(!1===n.exportMapsAsObjects){var u=It(r,t,new Set,n);return t.forEach((function(t){u.add(e(t,n,r))})),u}var s=It(r,t,[],n);return t.forEach((function(t){s.push(e(t,n,r))})),s}if(hn(t)||Object.getPrototypeOf(t)===Map.prototype){if(!1===n.exportMapsAsObjects){var l=It(r,t,new Map,n);return t.forEach((function(t,o){l.set(o,e(t,n,r))})),l}var f=It(r,t,{},n);return t.forEach((function(t,o){f[o]=e(t,n,r)})),f}var p=It(r,t,{},n);for(var d in t)p[d]=e(t[d],n,r);return p}(e,t,n)}function zt(e){switch(e.length){case 0:return Fe.trackingDerivation;case 1:return Sn(e[0]);case 2:return Sn(e[0],e[1])}}function Bt(e,t){void 0===t&&(t=void 0),Ye();try{return e.apply(t)}finally{Ve()}}function Ft(e,t,n){return 1===arguments.length||t&&"object"==typeof t?Gt(e,t):Ut(e,t,n||{})}function Ut(e,t,n){var r;"number"==typeof n.timeout&&(r=setTimeout((function(){if(!i.$mobx.isDisposed){i();var e=new Error("WHEN_TIMEOUT");if(!n.onError)throw e;n.onError(e)}}),n.timeout)),n.name=n.name||"When@"+u();var o=Se(n.name+"-effect",t),i=dt((function(t){e()&&(t.dispose(),r&&clearTimeout(r),o())}),n);return i}function Gt(e,t){var n,r=new Promise((function(r,o){var i=Ut(e,r,I(I({},t),{onError:o}));n=function(){i(),o("WHEN_CANCELLED")}}));return r.cancel=n,r}function Xt(e){return void 0!==e.interceptors&&e.interceptors.length>0}function Yt(e,t){var n=e.interceptors||(e.interceptors=[]);return n.push(t),f((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Vt(e,t){var n=ge();try{var r=e.interceptors;if(r)for(var o=0,i=r.length;o<i&&(l(!(t=r[o](t))||t.type,"Intercept handlers should return nothing or a change object"),t);o++);return t}finally{me(n)}}function Ht(e){return void 0!==e.changeListeners&&e.changeListeners.length>0}function Wt(e,t){var n=e.changeListeners||(e.changeListeners=[]);return n.push(t),f((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Kt(e,t){var n=ge(),r=e.changeListeners;if(r){for(var o=0,i=(r=r.slice()).length;o<i;o++)r[o](t);me(n)}}var qt,Zt,Qt,Jt,$t=(qt=!1,Zt={},Object.defineProperty(Zt,"0",{set:function(){qt=!0}}),Object.create(Zt)[0]=1,!1===qt),en=0,tn=function(){};Qt=tn,Jt=Array.prototype,void 0!==Object.setPrototypeOf?Object.setPrototypeOf(Qt.prototype,Jt):void 0!==Qt.prototype.__proto__?Qt.prototype.__proto__=Jt:Qt.prototype=Jt,Object.isFrozen(Array)&&["constructor","push","shift","concat","pop","unshift","replace","find","findIndex","splice","reverse","sort"].forEach((function(e){Object.defineProperty(tn.prototype,e,{configurable:!0,writable:!0,value:Array.prototype[e]})}));var nn=function(){function e(e,t,n,r){this.array=n,this.owned=r,this.values=[],this.lastKnownLength=0,this.atom=new k(e||"ObservableArray@"+u()),this.enhancer=function(n,r){return t(n,r,e+"[..]")}}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.dehanceValues=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},e.prototype.intercept=function(e){return Yt(this,e)},e.prototype.observe=function(e,t){return void 0===t&&(t=!1),t&&e({object:this.array,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Wt(this,e)},e.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},e.prototype.setArrayLength=function(e){if("number"!=typeof e||e<0)throw new Error("[mobx.array] Out of range: "+e);var t=this.values.length;if(e!==t)if(e>t){for(var n=new Array(e-t),r=0;r<e-t;r++)n[r]=void 0;this.spliceWithArray(t,0,n)}else this.spliceWithArray(e,t-e)},e.prototype.updateArrayLength=function(e,t){if(e!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed. Did you use peek() to change it?");this.lastKnownLength+=t,t>0&&e+t+1>en&&un(e+t+1)},e.prototype.spliceWithArray=function(e,t,n){var r=this;he(this.atom);var i=this.values.length;if(void 0===e?e=0:e>i?e=i:e<0&&(e=Math.max(0,i+e)),t=1===arguments.length?i-e:null==t?0:Math.max(0,Math.min(t,i-e)),void 0===n&&(n=o),Xt(this)){var a=Vt(this,{object:this.array,type:"splice",index:e,removedCount:t,added:n});if(!a)return o;t=a.removedCount,n=a.added}var c=(n=0===n.length?n:n.map((function(e){return r.enhancer(e,void 0)}))).length-t;this.updateArrayLength(i,c);var u=this.spliceItemsIntoValues(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice(e,n,u),this.dehanceValues(u)},e.prototype.spliceItemsIntoValues=function(e,t,n){var r;if(n.length<1e4)return(r=this.values).splice.apply(r,z([e,t],n));var o=this.values.slice(e,e+t);return this.values=this.values.slice(0,e).concat(n,this.values.slice(e+t)),o},e.prototype.notifyArrayChildUpdate=function(e,t,n){var r=!this.owned&&et(),o=Ht(this),i=o||r?{object:this.array,type:"update",index:e,newValue:t,oldValue:n}:null;r&&nt(I(I({},i),{name:this.atom.name})),this.atom.reportChanged(),o&&Kt(this,i),r&&ot()},e.prototype.notifyArraySplice=function(e,t,n){var r=!this.owned&&et(),o=Ht(this),i=o||r?{object:this.array,type:"splice",index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;r&&nt(I(I({},i),{name:this.atom.name})),this.atom.reportChanged(),o&&Kt(this,i),r&&ot()},e}(),rn=function(e){function t(t,n,r,o){void 0===r&&(r="ObservableArray@"+u()),void 0===o&&(o=!1);var i=e.call(this)||this,a=new nn(r,n,i,o);if(b(i,"$mobx",a),t&&t.length){var c=Ne(!0);i.spliceWithArray(0,0,t),Me(c)}return $t&&Object.defineProperty(a.array,"0",on),i}return R(t,e),t.prototype.intercept=function(e){return this.$mobx.intercept(e)},t.prototype.observe=function(e,t){return void 0===t&&(t=!1),this.$mobx.observe(e,t)},t.prototype.clear=function(){return this.splice(0)},t.prototype.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.$mobx.atom.reportObserved(),Array.prototype.concat.apply(this.peek(),e.map((function(e){return ln(e)?e.peek():e})))},t.prototype.replace=function(e){return this.$mobx.spliceWithArray(0,this.$mobx.values.length,e)},t.prototype.toJS=function(){return this.slice()},t.prototype.toJSON=function(){return this.toJS()},t.prototype.peek=function(){return this.$mobx.atom.reportObserved(),this.$mobx.dehanceValues(this.$mobx.values)},t.prototype.find=function(e,t,n){void 0===n&&(n=0);var r=this.findIndex.apply(this,arguments);return-1===r?void 0:this.get(r)},t.prototype.findIndex=function(e,t,n){void 0===n&&(n=0);for(var r=this.peek(),o=r.length,i=n;i<o;i++)if(e.call(t,r[i],i,this))return i;return-1},t.prototype.splice=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];switch(arguments.length){case 0:return[];case 1:return this.$mobx.spliceWithArray(e);case 2:return this.$mobx.spliceWithArray(e,t)}return this.$mobx.spliceWithArray(e,t,n)},t.prototype.spliceWithArray=function(e,t,n){return this.$mobx.spliceWithArray(e,t,n)},t.prototype.push=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.$mobx;return n.spliceWithArray(n.values.length,0,e),n.values.length},t.prototype.pop=function(){return this.splice(Math.max(this.$mobx.values.length-1,0),1)[0]},t.prototype.shift=function(){return this.splice(0,1)[0]},t.prototype.unshift=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.$mobx;return n.spliceWithArray(0,0,e),n.values.length},t.prototype.reverse=function(){var e=this.slice();return e.reverse.apply(e,arguments)},t.prototype.sort=function(e){var t=this.slice();return t.sort.apply(t,arguments)},t.prototype.remove=function(e){var t=this.$mobx.dehanceValues(this.$mobx.values).indexOf(e);return t>-1&&(this.splice(t,1),!0)},t.prototype.move=function(e,t){function n(e){if(e<0)throw new Error("[mobx.array] Index out of bounds: "+e+" is negative");var t=this.$mobx.values.length;if(e>=t)throw new Error("[mobx.array] Index out of bounds: "+e+" is not smaller than "+t)}if(n.call(this,e),n.call(this,t),e!==t){var r,o=this.$mobx.values;r=e<t?z(o.slice(0,e),o.slice(e+1,t+1),[o[e]],o.slice(t+1)):z(o.slice(0,t),[o[e]],o.slice(t,e),o.slice(e+1)),this.replace(r)}},t.prototype.get=function(e){var t=this.$mobx;if(t){if(e<t.values.length)return t.atom.reportObserved(),t.dehanceValue(t.values[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+t.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},t.prototype.set=function(e,t){var n=this.$mobx,r=n.values;if(e<r.length){he(n.atom);var o=r[e];if(Xt(n)){var i=Vt(n,{type:"update",object:this,index:e,newValue:t});if(!i)return;t=i.newValue}(t=n.enhancer(t,o))!==o&&(r[e]=t,n.notifyArrayChildUpdate(e,t,o))}else{if(e!==r.length)throw new Error("[mobx.array] Index out of bounds, "+e+" is larger than "+r.length);n.spliceWithArray(e,0,[t])}},t}(tn);E(rn.prototype,(function(){this.$mobx.atom.reportObserved();var e=this,t=0;return S({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})})),Object.defineProperty(rn.prototype,"length",{enumerable:!1,configurable:!0,get:function(){return this.$mobx.getArrayLength()},set:function(e){this.$mobx.setArrayLength(e)}}),y(rn.prototype,P(),"Array"),["indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach((function(e){var t=Array.prototype[e];l("function"==typeof t,"Base function not defined on Array prototype: '"+e+"'"),y(rn.prototype,e,(function(){return t.apply(this.peek(),arguments)}))})),["every","filter","forEach","map","some"].forEach((function(e){l("function"==typeof Array.prototype[e],"Base function not defined on Array prototype: '"+e+"'"),y(rn.prototype,e,(function(t,n){var r=this,o=this.$mobx;return o.atom.reportObserved(),o.dehanceValues(o.values)[e]((function(e,o){return t.call(n,e,o,r)}),n)}))})),["reduce","reduceRight"].forEach((function(e){y(rn.prototype,e,(function(){var t=this,n=this.$mobx;n.atom.reportObserved();var r=arguments[0];return arguments[0]=function(e,o,i){return o=n.dehanceValue(o),r(e,o,i,t)},n.values[e].apply(n.values,arguments)}))})),function(e,t){for(var n=0;n<t.length;n++)y(e,t[n],e[t[n]])}(rn.prototype,["constructor","intercept","observe","clear","concat","get","replace","toJS","toJSON","peek","find","findIndex","splice","spliceWithArray","push","pop","set","shift","unshift","reverse","sort","remove","move","toString","toLocaleString"]);var on=an(0);function an(e){return{enumerable:!1,configurable:!1,get:function(){return this.get(e)},set:function(t){this.set(e,t)}}}function cn(e){Object.defineProperty(rn.prototype,""+e,an(e))}function un(e){for(var t=en;t<e;t++)cn(t);en=e}un(1e3);var sn=v("ObservableArrayAdministration",nn);function ln(e){return d(e)&&sn(e.$mobx)}var fn={},pn=function(){function e(e,t,n){if(void 0===t&&(t=V),void 0===n&&(n="ObservableMap@"+u()),this.enhancer=t,this.name=n,this.$mobx=fn,this._keysAtom=N(this.name+".keys()"),"function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(e)}return e.prototype._has=function(e){return this._data.has(e)},e.prototype.has=function(e){var t=this;if(!Fe.trackingDerivation)return this._has(e);var n=this._hasMap.get(e);if(!n){var r=n=new Te(this._has(e),H,this.name+"."+dn(e)+"?",!1);this._hasMap.set(e,r),vt(r,(function(){return t._hasMap.delete(e)}))}return n.get()},e.prototype.set=function(e,t){var n=this._has(e);if(Xt(this)){var r=Vt(this,{type:n?"update":"add",object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this._updateValue(e,t):this._addValue(e,t),this},e.prototype.delete=function(e){var t=this;if(he(this._keysAtom),Xt(this)&&!(o=Vt(this,{type:"delete",object:this,name:e})))return!1;if(this._has(e)){var n=et(),r=Ht(this),o=r||n?{type:"delete",object:this,oldValue:this._data.get(e).value,name:e}:null;return n&&nt(I(I({},o),{name:this.name,key:e})),Bt((function(){t._keysAtom.reportChanged(),t._updateHasMapEntry(e,!1),t._data.get(e).setNewValue(void 0),t._data.delete(e)})),r&&Kt(this,o),n&&ot(),!0}return!1},e.prototype._updateHasMapEntry=function(e,t){var n=this._hasMap.get(e);n&&n.setNewValue(t)},e.prototype._updateValue=function(e,t){var n=this._data.get(e);if((t=n.prepareNewValue(t))!==Fe.UNCHANGED){var r=et(),o=Ht(this),i=o||r?{type:"update",object:this,oldValue:n.value,name:e,newValue:t}:null;r&&nt(I(I({},i),{name:this.name,key:e})),n.setNewValue(t),o&&Kt(this,i),r&&ot()}},e.prototype._addValue=function(e,t){var n=this;he(this._keysAtom),Bt((function(){var r=new Te(t,n.enhancer,n.name+"."+dn(e),!1);n._data.set(e,r),t=r.value,n._updateHasMapEntry(e,!0),n._keysAtom.reportChanged()}));var r=et(),o=Ht(this),i=o||r?{type:"add",object:this,name:e,newValue:t}:null;r&&nt(I(I({},i),{name:this.name,key:e})),o&&Kt(this,i),r&&ot()},e.prototype.get=function(e){return this.has(e)?this.dehanceValue(this._data.get(e).get()):this.dehanceValue(void 0)},e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},e.prototype.values=function(){var e=this,t=this.keys();return S({next:function(){var n=t.next(),r=n.done,o=n.value;return{done:r,value:r?void 0:e.get(o)}}})},e.prototype.entries=function(){var e=this,t=this.keys();return S({next:function(){var n=t.next(),r=n.done,o=n.value;return{done:r,value:r?void 0:[o,e.get(o)]}}})},e.prototype.forEach=function(e,t){var n=this;this._keysAtom.reportObserved(),this._data.forEach((function(r,o){return e.call(t,n.get(o),o,n)}))},e.prototype.merge=function(e){var t=this;return hn(e)&&(e=e.toJS()),Bt((function(){var n=Ne(!0);try{h(e)?Object.keys(e).forEach((function(n){return t.set(n,e[n])})):Array.isArray(e)?e.forEach((function(e){var n=L(e,2),r=n[0],o=n[1];return t.set(r,o)})):g(e)?e.constructor!==Map?s("Cannot initialize from classes that inherit from Map: "+e.constructor.name):e.forEach((function(e,n){return t.set(n,e)})):null!=e&&s("Cannot initialize map from "+e)}finally{Me(n)}})),this},e.prototype.clear=function(){var e=this;Bt((function(){ve((function(){e._data.forEach((function(t,n){return e.delete(n)}))}))}))},e.prototype.replace=function(e){var t=this;return Bt((function(){var n=function(e){if(g(e)||hn(e))return e;if(Array.isArray(e))return new Map(e);if(h(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return s("Cannot convert to map from '"+e+"'")}(e),r=new Map,o=!1;if(_(t._data.keys(),(function(e){if(!n.has(e))if(t.delete(e))o=!0;else{var i=t._data.get(e);r.set(e,i)}})),_(n.entries(),(function(e){var n=L(e,2),i=n[0],a=n[1],c=t._data.has(i);if(t.set(i,a),t._data.has(i)){var u=t._data.get(i);r.set(i,u),c||(o=!0)}})),!o)if(t._data.size!==r.size)t._keysAtom.reportChanged();else for(var i=t._data.keys(),a=r.keys(),c=i.next(),u=a.next();!c.done;){if(c.value!==u.value){t._keysAtom.reportChanged();break}c=i.next(),u=a.next()}t._data=r})),this},Object.defineProperty(e.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.toPOJO=function(){var e=this,t={};return this.forEach((function(n,r){return t["symbol"==typeof r?r:dn(r)]=e.get(r)})),t},e.prototype.toJS=function(){return new Map(this)},e.prototype.toJSON=function(){return this.toPOJO()},e.prototype.toString=function(){var e=this;return this.name+"[{ "+O(this.keys()).map((function(t){return dn(t)+": "+e.get(t)})).join(", ")+" }]"},e.prototype.observe=function(e,t){return Wt(this,e)},e.prototype.intercept=function(e){return Yt(this,e)},e}();function dn(e){return e&&e.toString?e.toString():new String(e).toString()}E(pn.prototype,(function(){return this.entries()})),b(pn.prototype,P(),"Map");var hn=v("ObservableMap",pn),yn={},bn=function(){function e(e,t,n){if(void 0===t&&(t=V),void 0===n&&(n="ObservableSet@"+u()),this.name=n,this.$mobx=yn,this._data=new Set,this._atom=N(this.name),"function"!=typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(e,r){return t(e,r,n)},e&&this.replace(e)}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.clear=function(){var e=this;Bt((function(){ve((function(){e._data.forEach((function(t){e.delete(t)}))}))}))},e.prototype.forEach=function(e,t){var n=this;this._atom.reportObserved(),this._data.forEach((function(r){e.call(t,r,r,n)}))},Object.defineProperty(e.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.add=function(e){var t=this;if(he(this._atom),Xt(this)&&!(o=Vt(this,{type:"add",object:this,newValue:e})))return this;if(!this.has(e)){Bt((function(){t._data.add(t.enhancer(e,void 0)),t._atom.reportChanged()}));var n=et(),r=Ht(this),o=r||n?{type:"add",object:this,newValue:e}:null;r&&Kt(this,o)}return this},e.prototype.delete=function(e){var t=this;if(Xt(this)&&!(o=Vt(this,{type:"delete",object:this,oldValue:e})))return!1;if(this.has(e)){var n=et(),r=Ht(this),o=r||n?{type:"delete",object:this,oldValue:e}:null;return Bt((function(){t._atom.reportChanged(),t._data.delete(e)})),r&&Kt(this,o),!0}return!1},e.prototype.has=function(e){return this._atom.reportObserved(),this._data.has(this.dehanceValue(e))},e.prototype.entries=function(){var e=0,t=O(this.keys()),n=O(this.values());return S({next:function(){var r=e;return e+=1,r<n.length?{value:[t[r],n[r]],done:!1}:{done:!0}}})},e.prototype.keys=function(){return this.values()},e.prototype.values=function(){this._atom.reportObserved();var e,t=this,n=0;return void 0!==this._data.values?e=O(this._data.values()):(e=[],this._data.forEach((function(t){return e.push(t)}))),S({next:function(){return n<e.length?{value:t.dehanceValue(e[n++]),done:!1}:{done:!0}}})},e.prototype.replace=function(e){var t=this;return vn(e)&&(e=e.toJS()),Bt((function(){var n=Ne(!0);try{Array.isArray(e)||m(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!=e&&s("Cannot initialize set from "+e)}finally{Me(n)}})),this},e.prototype.observe=function(e,t){return Wt(this,e)},e.prototype.intercept=function(e){return Yt(this,e)},e.prototype.toJS=function(){return new Set(this)},e.prototype.toString=function(){return this.name+"[ "+O(this.keys()).join(", ")+" ]"},e}();E(bn.prototype,(function(){return this.values()})),b(bn.prototype,P(),"Set");var vn=v("ObservableSet",bn),gn=function(){function e(e,t,n){this.target=e,this.name=t,this.defaultEnhancer=n,this.values={}}return e.prototype.read=function(e,t){if(this.target===e||(this.illegalAccess(e,t),this.values[t]))return this.values[t].get()},e.prototype.write=function(e,t,n){var r=this.target;r!==e&&this.illegalAccess(e,t);var o=this.values[t];if(o instanceof Re)o.set(n);else{if(Xt(this)){if(!(c=Vt(this,{type:"update",object:r,name:t,newValue:n})))return;n=c.newValue}if((n=o.prepareNewValue(n))!==Fe.UNCHANGED){var i=Ht(this),a=et(),c=i||a?{type:"update",object:r,oldValue:o.value,name:t,newValue:n}:null;a&&nt(I(I({},c),{name:this.name,key:t})),o.setNewValue(n),i&&Kt(this,c),a&&ot()}}},e.prototype.remove=function(e){if(this.values[e]){var t=this.target;if(Xt(this)&&!(i=Vt(this,{object:t,name:e,type:"remove"})))return;try{Ye();var n=Ht(this),r=et(),o=this.values[e].get();this.keys&&this.keys.remove(e),delete this.values[e],delete this.target[e];var i=n||r?{type:"remove",object:t,oldValue:o,name:e}:null;r&&nt(I(I({},i),{name:this.name,key:e})),n&&Kt(this,i),r&&ot()}finally{Ve()}}},e.prototype.illegalAccess=function(e,t){console.warn("Property '"+t+"' of '"+e+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},e.prototype.observe=function(e,t){return Wt(this,e)},e.prototype.intercept=function(e){return Yt(this,e)},e.prototype.getKeys=function(){var e=this;return void 0===this.keys&&(this.keys=new rn(Object.keys(this.values).filter((function(t){return e.values[t]instanceof Te})),H,"keys("+this.name+")",!0)),this.keys.slice()},e}();function mn(e,t,n){void 0===t&&(t=""),void 0===n&&(n=V);var r=e.$mobx;return r||(h(e)||(t=(e.constructor.name||"ObservableObject")+"@"+u()),t||(t="ObservableObject@"+u()),b(e,"$mobx",r=new gn(e,t,n)),r)}function On(e,t,n,r){var o=mn(e);if(Xt(o)){var i=Vt(o,{object:e,name:t,type:"add",newValue:n});if(!i)return;n=i.newValue}n=(o.values[t]=new Te(n,r,o.name+"."+t,!1)).value,Object.defineProperty(e,t,function(e){return xn[e]||(xn[e]={configurable:!0,enumerable:!0,get:function(){return this.$mobx.read(this,e)},set:function(t){this.$mobx.write(this,e,t)}})}(t)),o.keys&&o.keys.push(t),function(e,t,n,r){var o=Ht(e),i=et(),a=o||i?{type:"add",object:t,name:n,newValue:r}:null;i&&nt(I(I({},a),{name:e.name,key:n})),o&&Kt(e,a),i&&ot()}(o,e,t,n)}var xn=Object.create(null),jn=Object.create(null);function _n(e){return e.$mobx||(G(e),e.$mobx)}var wn=v("ObservableObjectAdministration",gn);function En(e){return!!d(e)&&(G(e),wn(e.$mobx))}function Sn(e,t){if("object"==typeof e&&null!==e){if(ln(e))return void 0!==t&&s(!1),e.$mobx.atom;if(vn(e))return e.$mobx;if(hn(e)){var n=e;return void 0===t?n._keysAtom:((r=n._data.get(t)||n._hasMap.get(t))||s(!1),r)}var r;if(G(e),t&&!e.$mobx&&e[t],En(e))return t?((r=e.$mobx.values[t])||s(!1),r):s(!1);if(D(e)||Ie(e)||Je(e))return e}else if("function"==typeof e&&Je(e.$mobx))return e.$mobx;return s(!1)}function Pn(e,t){return e||s("Expecting some object"),void 0!==t?Pn(Sn(e,t)):D(e)||Ie(e)||Je(e)||hn(e)||vn(e)?e:(G(e),e.$mobx?e.$mobx:void s(!1))}function An(e,t){return(void 0!==t?Sn(e,t):En(e)||hn(e)||vn(e)?Pn(e):Sn(e)).name}var kn=Object.prototype.toString;function Dn(e,t,n){return void 0===n&&(n=-1),function e(t,n,r,o,i){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n)return!1;if(t!=t)return n!=n;var a=typeof t;if("function"!==a&&"object"!==a&&"object"!=typeof n)return!1;t=Nn(t),n=Nn(n);var c=kn.call(t);if(c!==kn.call(n))return!1;switch(c){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":return+t!=+t?+n!=+n:0==+t?1/+t==1/n:+t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(t)===Symbol.valueOf.call(n)}var u="[object Array]"===c;if(!u){if("object"!=typeof t||"object"!=typeof n)return!1;var s=t.constructor,l=n.constructor;if(s!==l&&!("function"==typeof s&&s instanceof s&&"function"==typeof l&&l instanceof l)&&"constructor"in t&&"constructor"in n)return!1}if(0===r)return!1;r<0&&(r=-1),i=i||[];for(var f=(o=o||[]).length;f--;)if(o[f]===t)return i[f]===n;if(o.push(t),i.push(n),u){if((f=t.length)!==n.length)return!1;for(;f--;)if(!e(t[f],n[f],r-1,o,i))return!1}else{var p=Object.keys(t),d=void 0;if(f=p.length,Object.keys(n).length!==f)return!1;for(;f--;)if(!Mn(n,d=p[f])||!e(t[d],n[d],r-1,o,i))return!1}return o.pop(),i.pop(),!0}(e,t,n)}function Nn(e){return ln(e)?e.peek():g(e)||hn(e)||m(e)||vn(e)?O(e.entries()):e}function Mn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Tn="$mobx";"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:it,extras:{getDebugName:An},$mobx:Tn})}).call(this,n(131),n(159))},function(e,t,n){"use strict";n.d(t,"j",(function(){return L})),n.d(t,"h",(function(){return z})),n.d(t,"e",(function(){return h})),n.d(t,"g",(function(){return h})),n.d(t,"b",(function(){return v})),n.d(t,"f",(function(){return b})),n.d(t,"a",(function(){return g})),n.d(t,"c",(function(){return B})),n.d(t,"d",(function(){return F})),n.d(t,"k",(function(){return E})),n.d(t,"i",(function(){return r}));var r,o,i,a,c,u,s={},l=[],f=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function p(e,t){for(var n in t)e[n]=t[n];return e}function d(e){var t=e.parentNode;t&&t.removeChild(e)}function h(e,t,n){var r,o,i,a=arguments,c={};for(i in t)"key"==i?r=t[i]:"ref"==i?o=t[i]:c[i]=t[i];if(arguments.length>3)for(n=[n],i=3;i<arguments.length;i++)n.push(a[i]);if(null!=n&&(c.children=n),"function"==typeof e&&null!=e.defaultProps)for(i in e.defaultProps)void 0===c[i]&&(c[i]=e.defaultProps[i]);return y(e,c,r,o,null)}function y(e,t,n,o,i){var a={type:e,props:t,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==i?++r.__v:i};return null!=r.vnode&&r.vnode(a),a}function b(){return{current:null}}function v(e){return e.children}function g(e,t){this.props=e,this.context=t}function m(e,t){if(null==t)return e.__?m(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?m(e):null}function O(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return O(e)}}function x(e){(!e.__d&&(e.__d=!0)&&o.push(e)&&!j.__r++||a!==r.debounceRendering)&&((a=r.debounceRendering)||i)(j)}function j(){for(var e;j.__r=o.length;)e=o.sort((function(e,t){return e.__v.__b-t.__v.__b})),o=[],e.some((function(e){var t,n,r,o,i,a;e.__d&&(i=(o=(t=e).__v).__e,(a=t.__P)&&(n=[],(r=p({},o)).__v=o.__v+1,N(a,o,r,t.__n,void 0!==a.ownerSVGElement,null!=o.__h?[i]:null,n,null==i?m(o):i,o.__h),M(n,o),o.__e!=i&&O(o)))}))}function _(e,t,n,r,o,i,a,c,u,f){var p,h,b,g,O,x,j,_=r&&r.__k||l,E=_.length;for(u==s&&(u=null!=a?a[0]:E?m(r,0):null),n.__k=[],p=0;p<t.length;p++)if(null!=(g=n.__k[p]=null==(g=t[p])||"boolean"==typeof g?null:"string"==typeof g||"number"==typeof g?y(null,g,null,null,g):Array.isArray(g)?y(v,{children:g},null,null,null):g.__b>0?y(g.type,g.props,g.key,null,g.__v):g)){if(g.__=n,g.__b=n.__b+1,null===(b=_[p])||b&&g.key==b.key&&g.type===b.type)_[p]=void 0;else for(h=0;h<E;h++){if((b=_[h])&&g.key==b.key&&g.type===b.type){_[h]=void 0;break}b=null}N(e,g,b=b||s,o,i,a,c,u,f),O=g.__e,(h=g.ref)&&b.ref!=h&&(j||(j=[]),b.ref&&j.push(b.ref,null,g),j.push(h,g.__c||O,g)),null!=O?(null==x&&(x=O),"function"==typeof g.type&&g.__k===b.__k?g.__d=u=w(g,u,e):u=S(e,g,b,_,a,O,u),f||"option"!==n.type?"function"==typeof n.type&&(n.__d=u):e.value=""):u&&b.__e==u&&u.parentNode!=e&&(u=m(b))}if(n.__e=x,null!=a&&"function"!=typeof n.type)for(p=a.length;p--;)null!=a[p]&&d(a[p]);for(p=E;p--;)null!=_[p]&&("function"==typeof n.type&&null!=_[p].__e&&_[p].__e==n.__d&&(n.__d=m(r,p+1)),R(_[p],_[p]));if(j)for(p=0;p<j.length;p++)C(j[p],j[++p],j[++p])}function w(e,t,n){var r,o;for(r=0;r<e.__k.length;r++)(o=e.__k[r])&&(o.__=e,"function"==typeof o.type?w(o,t,n):t=S(n,o,o,e.__k,null,o.__e,t));return t}function E(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some((function(e){E(e,t)})):t.push(e)),t}function S(e,t,n,r,o,i,a){var c,u,s;if(void 0!==t.__d)c=t.__d,t.__d=void 0;else if(o==n||i!=a||null==i.parentNode)e:if(null==a||a.parentNode!==e)e.appendChild(i),c=null;else{for(u=a,s=0;(u=u.nextSibling)&&s<r.length;s+=2)if(u==i)break e;e.insertBefore(i,a),c=a}return void 0!==c?c:i.nextSibling}function P(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]=null==n?"":"number"!=typeof n||f.test(t)?n:n+"px"}function A(e,t,n,r,o){var i,a,c;if(o&&"className"==t&&(t="class"),"style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||P(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||P(e.style,t,n[t])}else"o"===t[0]&&"n"===t[1]?(i=t!==(t=t.replace(/Capture$/,"")),(a=t.toLowerCase())in e&&(t=a),t=t.slice(2),e.l||(e.l={}),e.l[t+i]=n,c=i?D:k,n?r||e.addEventListener(t,c,i):e.removeEventListener(t,c,i)):"list"!==t&&"tagName"!==t&&"form"!==t&&"type"!==t&&"size"!==t&&"download"!==t&&"href"!==t&&!o&&t in e?e[t]=null==n?"":n:"function"!=typeof n&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/xlink:?/,""))?null==n||!1===n?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),n):null==n||!1===n&&!/^ar/.test(t)?e.removeAttribute(t):e.setAttribute(t,n))}function k(e){this.l[e.type+!1](r.event?r.event(e):e)}function D(e){this.l[e.type+!0](r.event?r.event(e):e)}function N(e,t,n,o,i,a,c,u,s){var l,f,d,h,y,b,m,O,x,j,w,E=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(s=n.__h,u=t.__e=n.__e,t.__h=null,a=[u]),(l=r.__b)&&l(t);try{e:if("function"==typeof E){if(O=t.props,x=(l=E.contextType)&&o[l.__c],j=l?x?x.props.value:l.__:o,n.__c?m=(f=t.__c=n.__c).__=f.__E:("prototype"in E&&E.prototype.render?t.__c=f=new E(O,j):(t.__c=f=new g(O,j),f.constructor=E,f.render=I),x&&x.sub(f),f.props=O,f.state||(f.state={}),f.context=j,f.__n=o,d=f.__d=!0,f.__h=[]),null==f.__s&&(f.__s=f.state),null!=E.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=p({},f.__s)),p(f.__s,E.getDerivedStateFromProps(O,f.__s))),h=f.props,y=f.state,d)null==E.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(null==E.getDerivedStateFromProps&&O!==h&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(O,j),!f.__e&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(O,f.__s,j)||t.__v===n.__v){f.props=O,f.state=f.__s,t.__v!==n.__v&&(f.__d=!1),f.__v=t,t.__e=n.__e,t.__k=n.__k,f.__h.length&&c.push(f);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(O,f.__s,j),null!=f.componentDidUpdate&&f.__h.push((function(){f.componentDidUpdate(h,y,b)}))}f.context=j,f.props=O,f.state=f.__s,(l=r.__r)&&l(t),f.__d=!1,f.__v=t,f.__P=e,l=f.render(f.props,f.state,f.context),f.state=f.__s,null!=f.getChildContext&&(o=p(p({},o),f.getChildContext())),d||null==f.getSnapshotBeforeUpdate||(b=f.getSnapshotBeforeUpdate(h,y)),w=null!=l&&l.type===v&&null==l.key?l.props.children:l,_(e,Array.isArray(w)?w:[w],t,n,o,i,a,c,u,s),f.base=t.__e,t.__h=null,f.__h.length&&c.push(f),m&&(f.__E=f.__=null),f.__e=!1}else null==a&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=T(n.__e,t,n,o,i,a,c,s);(l=r.diffed)&&l(t)}catch(e){t.__v=null,(s||null!=a)&&(t.__e=u,t.__h=!!s,a[a.indexOf(u)]=null),r.__e(e,t,n)}}function M(e,t){r.__c&&r.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){r.__e(e,t.__v)}}))}function T(e,t,n,r,o,i,a,c){var u,f,p,d,h,y=n.props,b=t.props;if(o="svg"===t.type||o,null!=i)for(u=0;u<i.length;u++)if(null!=(f=i[u])&&((null===t.type?3===f.nodeType:f.localName===t.type)||e==f)){e=f,i[u]=null;break}if(null==e){if(null===t.type)return document.createTextNode(b);e=o?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type,b.is&&{is:b.is}),i=null,c=!1}if(null===t.type)y===b||c&&e.data===b||(e.data=b);else{if(null!=i&&(i=l.slice.call(e.childNodes)),p=(y=n.props||s).dangerouslySetInnerHTML,d=b.dangerouslySetInnerHTML,!c){if(null!=i)for(y={},h=0;h<e.attributes.length;h++)y[e.attributes[h].name]=e.attributes[h].value;(d||p)&&(d&&(p&&d.__html==p.__html||d.__html===e.innerHTML)||(e.innerHTML=d&&d.__html||""))}(function(e,t,n,r,o){var i;for(i in n)"children"===i||"key"===i||i in t||A(e,i,null,n[i],r);for(i in t)o&&"function"!=typeof t[i]||"children"===i||"key"===i||"value"===i||"checked"===i||n[i]===t[i]||A(e,i,t[i],n[i],r)})(e,b,y,o,c),d?t.__k=[]:(u=t.props.children,_(e,Array.isArray(u)?u:[u],t,n,r,"foreignObject"!==t.type&&o,i,a,s,c)),c||("value"in b&&void 0!==(u=b.value)&&(u!==e.value||"progress"===t.type&&!u)&&A(e,"value",u,y.value,!1),"checked"in b&&void 0!==(u=b.checked)&&u!==e.checked&&A(e,"checked",u,y.checked,!1))}return e}function C(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){r.__e(e,n)}}function R(e,t,n){var o,i,a;if(r.unmount&&r.unmount(e),(o=e.ref)&&(o.current&&o.current!==e.__e||C(o,null,t)),n||"function"==typeof e.type||(n=null!=(i=e.__e)),e.__e=e.__d=void 0,null!=(o=e.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(e){r.__e(e,t)}o.base=o.__P=null}if(o=e.__k)for(a=0;a<o.length;a++)o[a]&&R(o[a],t,n);null!=i&&d(i)}function I(e,t,n){return this.constructor(e,n)}function L(e,t,n){var o,i,a;r.__&&r.__(e,t),i=(o=n===c)?null:n&&n.__k||t.__k,e=h(v,null,[e]),a=[],N(t,(o?t:n||t).__k=e,i||s,s,void 0!==t.ownerSVGElement,n&&!o?[n]:i?null:t.childNodes.length?l.slice.call(t.childNodes):null,a,n||s,o),M(a,e)}function z(e,t){L(e,t,c)}function B(e,t,n){var r,o,i,a=arguments,c=p({},e.props);for(i in t)"key"==i?r=t[i]:"ref"==i?o=t[i]:c[i]=t[i];if(arguments.length>3)for(n=[n],i=3;i<arguments.length;i++)n.push(a[i]);return null!=n&&(c.children=n),y(e.type,c,r||e.key,o||e.ref,null)}function F(e,t){var n={__c:t="__cC"+u++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,r;return this.getChildContext||(n=[],(r={})[t]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some(x)},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n}r={__e:function(e,t){for(var n,r,o,i=t.__h;t=t.__;)if((n=t.__c)&&!n.__)try{if((r=n.constructor)&&null!=r.getDerivedStateFromError&&(n.setState(r.getDerivedStateFromError(e)),o=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(e),o=n.__d),o)return t.__h=i,n.__E=n}catch(t){e=t}throw e},__v:0},g.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=p({},this.state),"function"==typeof e&&(e=e(p({},n),this.props)),e&&p(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),x(this))},g.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),x(this))},g.prototype.render=v,o=[],i="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,j.__r=0,c=s,u=0},function(e,t,n){"use strict";var r,o,i,a,c,u;n.d(t,"b",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return c})),n.d(t,"f",(function(){return u})),n.d(t,"a",(function(){return s})),function(e){e[e.DEFAULT=1]="DEFAULT",e[e.TEXT_EDIT=2]="TEXT_EDIT",e[e.SHOW_MENU=3]="SHOW_MENU",e[e.ALLOW_CONNECT=4]="ALLOW_CONNECT",e[e.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"}(r||(r={})),function(e){e.KEY="logic-flow",e.NODE_NAME="lf-node",e.EDGE_NAME="lf-edge"}(o||(o={})),function(e){e.NODE="node",e.CIRCLE_NODE="circle-node",e.POLYGON_NODE="polygon-node",e.RECT_NODE="rect-node",e.TEXT_NODE="text-node",e.ELLIPSE_NODE="ellipse-node",e.DIAMOND_NODE="diamond-node",e.EDGE="edge",e.LINE_EDGE="line-edge",e.POLYLINE_EDGE="polyline-edge",e.BEZIER_EDGE="bezier-edge",e.GRAPH="graph"}(i||(i={})),function(e){e.NODE="node",e.EDGE="edge",e.GRAPH="graph"}(a||(a={})),function(e){e.ELEMENT_CLICK="element:click",e.NODE_CLICK="node:click",e.NODE_DBCLICK="node:dbclick",e.NODE_DELETE="node:delete",e.NODE_ADD="node:add",e.NODE_DND_ADD="node:dnd-add",e.NODE_MOUSEDOWN="node:mousedown",e.NODE_DRAGSTART="node:dragstart",e.NODE_DRAG="node:drag",e.NODE_DROP="node:drop",e.NODE_MOUSEUP="node:mouseup",e.NODE_MOUSEMOVE="node:mousemove",e.NODE_MOUSEENTER="node:mouseenter",e.NODE_MOUSELEAVE="node:mouseleave",e.NODE_CONTEXTMENU="node:contextmenu",e.EDGE_DELETE="edge:delete",e.EDGE_ADD="edge:add",e.EDGE_CLICK="edge:click",e.EDGE_DBCLICK="edge:dbclick",e.EDGE_MOUSEENTER="edge:mouseenter",e.EDGE_MOUSELEAVE="edge:mouseleave",e.EDGE_CONTEXTMENU="edge:contextmenu",e.BLANK_MOUSEDOWN="blank:mousedown",e.BLANK_DRAGSTART="blank:dragstart",e.BLANK_DRAG="blank:drag",e.BLANK_DROP="blank:drop",e.BLANK_MOUSEMOVE="blank:mousemove",e.BLANK_MOUSEUP="blank:mouseup",e.BLANK_CLICK="blank:click",e.BLANK_CONTEXTMENU="blank:contextmenu",e.CONNECTION_NOT_ALLOWED="connection:not-allowed",e.HISTORY_CHANGE="history:change"}(c||(c={})),function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"}(u||(u={}));var s=999},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"l",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"j",(function(){return l})),n.d(t,"h",(function(){return p})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return h})),n.d(t,"i",(function(){return y})),n.d(t,"e",(function(){return b})),n.d(t,"f",(function(){return v})),n.d(t,"k",(function(){return g})),n.d(t,"g",(function(){return m})),n(21),n(228),n(91),n(92),n(189),n(22);var r=n(44),o=n(66),i=n(2),a=function(e){return e.anchors},c=function(e,t){for(var n,r=t.length-1;r>=0;r--)if(f(e,t[r])){var o=u(e,t[r]);if(o){n={node:t[r],anchorIndex:o.index,anchorPosition:o.anchor};break}}return n},u=function(e,t){for(var n,r=a(t),o=Number.MAX_SAFE_INTEGER,i=0;i<r.length;i++){var c=s(e.x,e.y,r[i].x,r[i].y);c<o&&(o=c,n={index:i,anchor:{x:r[i].x,y:r[i].y}})}return n},s=function(e,t,n,r){return Math.hypot(e-n,t-r)},l=function(e,t){var n=!1,r=p(t);return e.x>=r.minX-0&&e.x<=r.maxX+0&&e.y>=r.minY-0&&e.y<=r.maxY+0&&(n=!0),n},f=function(e,t){var n=!1,r=p(t);return e.x>=r.minX-5&&e.x<=r.maxX+5&&e.y>=r.minY-5&&e.y<=r.maxY+5&&(n=!0),n},p=function(e){var t=e.x,n=e.y,r=e.width,o=e.height;return{minX:t-r/2,minY:n-o/2,maxX:t+r/2,maxY:n+o/2,x:t,y:n,width:r,height:o,centerX:t,centerY:n}},d=function(e,t,n){var r,o=function(e){var t=e,n=t.x,r=t.y,o=t.width,i=t.height,a=t.radius;return[{x:n-o/2+a,y:r-i/2+a,r:a},{x:n+o/2-a,y:r-i/2+a,r:a},{x:n-o/2+a,y:r+i/2-a,r:a},{x:n+o/2-a,y:r+i/2-a,r:a}]}(n),i=Number.MAX_SAFE_INTEGER;return o.forEach((function(t){var n=s(e.x,e.y,t.x,t.y);n<i&&(i=n,r=t)})),h(e,t,r)},h=function(e,t,n){var r,o=n,a=o.x,c=o.y,u=o.r;if(t===i.f.HORIZONTAL){var s=a-Math.sqrt(u*u-(e.y-c)*(e.y-c)),l=a+Math.sqrt(u*u-(e.y-c)*(e.y-c));r={x:Math.abs(s-e.x)<Math.abs(l-e.x)?s:l,y:e.y}}else if(t===i.f.VERTICAL){var f=c-Math.sqrt(u*u-(e.x-a)*(e.x-a)),p=c+Math.sqrt(u*u-(e.x-a)*(e.x-a)),d=Math.abs(f-e.y)<Math.abs(p-e.y)?f:p;r={x:e.x,y:d}}return r},y=function(e,t){var n=t,r=!1,o=n.x-n.width/2+n.radius,i=n.x+n.width/2-n.radius,a=n.y-n.height/2+n.radius,c=n.y+n.height/2-n.radius,u=n.x,s=n.y,l=n.width,f=n.height;return e.y===s+f/2||e.y===s-f/2?r=e.x>o&&e.x<i:e.x!==u+l/2&&e.x!==u-l/2||(r=e.y>a&&e.y<c),r},b=function(e,t,n){var r,o=n,a=o.x,c=o.y,u=o.rx,s=o.ry;if(t===i.f.HORIZONTAL){var l=a-Math.sqrt(u*u-(e.y-c)*(e.y-c)*u*u/(s*s)),f=a+Math.sqrt(u*u-(e.y-c)*(e.y-c)*u*u/(s*s));r={x:Math.abs(l-e.x)<Math.abs(f-e.x)?l:f,y:e.y}}else if(t===i.f.VERTICAL){var p=c-Math.sqrt(s*s-(e.x-a)*(e.x-a)*s*s/(u*u)),d=c+Math.sqrt(s*s-(e.x-a)*(e.x-a)*s*s/(u*u)),h=Math.abs(p-e.y)<Math.abs(d-e.y)?p:d;r={x:e.x,y:h}}return r},v=function(e,t,n){for(var r,a=n.pointsPosition,c=Number.MAX_SAFE_INTEGER,u=[],l=0;l<a.length;l++)u.push({start:a[l],end:a[(l+1)%a.length]});return u.forEach((function(n){var a=n.start,u=n.end,l=a,f=u;a.x>u.x&&(l=u,f=a);var p,d=(f.y-l.y)/(f.x-l.x),h=(l.x*f.y-f.x*l.y)/(l.x-f.x);if(d>Number.MAX_SAFE_INTEGER||h>Number.MAX_SAFE_INTEGER?p={x:e.x,y:e.y}:t===i.f.HORIZONTAL?p={x:(e.y-h)/d,y:e.y}:t===i.f.VERTICAL&&(p={x:e.x,y:d*e.x+h}),Object(o.b)(p,a,u)){var y=s(p.x,p.y,e.x,e.y);y<c&&(c=y,r=p)}})),r},g=function(e){return Object(r.a)(e,["id","type","x","y","text","properties"])},m=function(e,t,n,r){var o=e.x,i=e.y;return t.x>e.x?o=e.x+n/2:t.x<e.x&&(o=e.x-n/2),t.y>e.y?i=e.y+r/2:t.y<e.y&&(i=e.y-r/2),{x:o,y:i}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return O})),n.d(t,"o",(function(){return k})),n.d(t,"j",(function(){return D})),n.d(t,"i",(function(){return N})),n.d(t,"l",(function(){return M})),n.d(t,"k",(function(){return T})),n.d(t,"g",(function(){return C})),n.d(t,"p",(function(){return R})),n.d(t,"n",(function(){return I})),n.d(t,"e",(function(){return B})),n.d(t,"a",(function(){return F})),n.d(t,"c",(function(){return U})),n.d(t,"d",(function(){return G})),n.d(t,"h",(function(){return Y})),n.d(t,"f",(function(){return V})),n.d(t,"m",(function(){return H})),n.d(t,"q",(function(){return W})),n(39),n(221),n(21),n(142),n(108),n(91),n(92),n(187),n(77),n(188),n(156),n(22);var r=n(44),o=(n(93),n(113),n(66)),i=n(2),a=n(3),c=n(62);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}(e,t)||h(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b=function(e){var t=[],n={};return e.forEach((function(e){var t="".concat(e.x,"-").concat(e.y);e.id=t,n[t]=e})),Object.keys(n).forEach((function(e){t.push(n[e])})),t},v=function(e,t){return 0===e.width&&0===e.height?e:{centerX:e.centerX,centerY:e.centerY,minX:e.minX-t,minY:e.minY-t,maxX:e.maxX+t,maxY:e.maxY+t,height:e.height+2*t,width:e.width+2*t}},g=function(e,t){return function(e,t){var n=Math.abs(e.x-t.centerX),r=Math.abs(e.y-t.centerY);return n/t.width>r/t.height?i.f.HORIZONTAL:i.f.VERTICAL}(t,e)===i.f.HORIZONTAL?{x:t.x>e.centerX?e.maxX:e.minX,y:t.y}:{x:t.x,y:t.y>e.centerY?e.maxY:e.minY}},m=function(e,t){var n=Math.min(e.minX,t.minX),r=Math.min(e.minY,t.minY),o=Math.max(e.maxX,t.maxX),i=Math.max(e.maxY,t.maxY);return{centerX:(n+o)/2,centerY:(r+i)/2,minX:n,minY:r,maxX:o,maxY:i,height:i-r,width:o-n}},O=function(){var e=arguments.length>1?arguments[1]:void 0,t=[],n=[];(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(e){t.push(e.x),n.push(e.y)}));var r=Math.min.apply(Math,t),o=Math.max.apply(Math,t),i=Math.min.apply(Math,n),a=Math.max.apply(Math,n),c=o-r,u=a-i;return e&&(c+=e,u+=e),{centerX:(r+o)/2,centerY:(i+a)/2,maxX:o,maxY:a,minX:r,minY:i,x:(r+o)/2,y:(i+a)/2,height:u,width:c}},x=function(e){var t=e.minX,n=e.minY,r=e.maxX,o=e.maxY;return[{x:t,y:n},{x:r,y:n},{x:r,y:o},{x:t,y:o}]},j=function(e,t){var n=e.x,r=e.y;return n<t.minX||n>t.maxX||r<t.minY||r>t.maxY},_=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},w=function(e,t,n,r,o){return _(e,t)+_(e,n)+function(e,t){var n=0;return t.forEach((function(t){t&&(e.x===t.x&&(n+=-2),e.y===t.y&&(n+=-2))})),n}(e,[t,n,r,o])},E=function(e,t,n,r){var o=t.x-e.x,i=t.y-e.y,a=r.x-n.x,c=r.y-n.y,u=(-i*(e.x-n.x)+o*(e.y-n.y))/(-a*i+o*c),s=(a*(e.y-n.y)-c*(e.x-n.x))/(-a*i+o*c);return u>=0&&u<=1&&s>=0&&s<=1},S=function(e,t,n){if(0===n.width&&0===n.height)return!1;var r=d(x(n),4),o=r[0],i=r[1],a=r[2],c=r[3];return E(e,t,o,i)||E(e,t,o,c)||E(e,t,i,a)||E(e,t,a,c)},P=function(e,t,n,r,o,i,a){var c=[],u=[t],s={},l={},f={};l[t.id]=0,f[t.id]=w(t,n,t);var d={};e.forEach((function(e){d[e.id]=e}));for(var h=function(){var p,h,y,v=void 0,g=1/0;if(u.forEach((function(e){f[e.id]<g&&(g=f[e.id],v=e)})),v===n){var m=[];return function e(t,n,r,o,i){i||(i=0),t.unshift(n[o]),r[o]&&r[o]!==o&&i<=100&&e(t,n,r,r[o],i+1)}(m,d,s,n.id),{v:m}}h=v,(y=(p=u).indexOf(h))>-1&&p.splice(y,1),c.push(v),function(e,t,n,r){var o=[];return e.forEach((function(e){e!==t&&(e.x!==t.x&&e.y!==t.y||S(e,t,n)||S(e,t,r)||o.push(e))})),b(o)}(e,v,r,o).forEach((function(e){if(-1===c.indexOf(e)){-1===u.indexOf(e)&&u.push(e);var r=f[v.id]+_(v,e);l[e.id]&&r>=l[e.id]||(s[e.id]=v.id,l[e.id]=r,f[e.id]=l[e.id]+w(e,n,t,i,a))}}))};u.length;){var y=h();if("object"===p(y))return y.v}return[t,n]},A=function(e){return Object(a.h)(e)},k=function(e){for(var t=e,n=1;n<t.length-1;){var r=t[n-1],o=t[n],i=t[n+1];r.x===o.x&&o.x===i.x||r.y===o.y&&o.y===i.y?t.splice(n,1):n++}return t},D=function(e,t,n,r,o){var i,a,c=A(n),u=A(r),s=v(c,o),l=v(u,o),p=g(s,e),d=g(l,t);if(i=s,a=l,2*Math.abs(i.centerX-a.centerX)<i.width+a.width&&2*Math.abs(i.centerY-a.centerY)<i.height+a.height){var h=L(e,t,p,d);return[e,p].concat(f(h),[d,t])}var y=O([p,d]),_=m(s,y),w=m(l,y),E=[];E=(E=E.concat(x(_))).concat(x(w));var S={x:(e.x+t.x)/2,y:(e.y+t.y)/2};[y,_,w].forEach((function(e){E=E.concat(function(e,t){return function(e,t){return t<e.minX||t>e.maxX?[]:[{x:t,y:e.minY},{x:t,y:e.maxY}]}(e,t.x).concat(function(e,t){return t<e.minY||t>e.maxY?[]:[{x:e.minX,y:t},{x:e.maxX,y:t}]}(e,t.y))}(e,S).filter((function(e){return j(e,s)&&j(e,l)})))})),[{x:p.x,y:d.y},{x:d.x,y:p.y}].forEach((function(e){j(e,s)&&j(e,l)&&E.push(e)})),E.unshift(p),E.push(d),E=b(E);var D=P(E,p,d,c,u,e,t);return D.unshift(e),D.push(t),D.length>2&&(D=k(D)),b(D)},N=function(e){var t;if(1===e.length)t=[e[0],e[0]];else if(e.length>=2){for(var n=e[0],r=e[1],o=Object(a.a)(n.x,n.y,r.x,r.y),i=1;i<e.length-1;i++){var c=e[i],u=e[i+1],s=Object(a.a)(c.x,c.y,u.x,u.y);s>o&&(o=s,n=c,r=u)}t=[n,r]}return t},M=function(e,t,n){var r=Object(a.j)(e,n),o=Object(a.j)(t,n);return r&&o},T=function(e,t,n){var r=Object(a.j)(e,n),o=Object(a.j)(t,n);return!(r&&o)&&(r||o)},C=function(e,t,n){for(var r,i,c=Object(a.h)(n),u=x(c),s=0;s<u.length;s++)E(e,t,u[s],u[(s+1)%u.length])&&(i=[u[s],u[(s+1)%u.length]]);return i&&(r=Object(o.a)(e,t,i[0],i[1])),r},R=function(e,t){var n;return e.x===t.x?n=i.f.VERTICAL:e.y===t.y&&(n=i.f.HORIZONTAL),n},I=function(e){var t=e.split(" "),n=[];return t&&t.forEach((function(e){var t=d(e.split(","),2),r=t[0],o=t[1];n.push({x:Number(r),y:Number(o)})})),n},L=function(e,t,n,r){var i=[];if(R(e,n)===R(t,r))e.y===n.y?(i.push({x:n.x,y:(n.y+r.y)/2}),i.push({x:r.x,y:(n.y+r.y)/2})):(i.push({x:(n.x+r.x)/2,y:n.y}),i.push({x:(n.x+r.x)/2,y:r.y}));else{var a={x:n.x,y:r.y},c=Object(o.b)(a,e,n),u=Object(o.b)(a,t,r);if(c||u)a={x:r.x,y:n.y};else{var s=z(a,e,n),l=z(a,t,r);s&&l&&(a={x:r.x,y:n.y})}i.push(a)}return i},z=function(e,t,n){return e.x===t.x&&e.x===n.x||e.y===t.y&&e.y===n.y},B=function(e){if(!e)return 0;for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);t+=r>=1&&r<=126||r>=65376&&r<=65439?1:2}return t},F=function(e){var t,n=e.start,r=e.end;if(n.x===r.x&&n.y===r.y)t="";else{var o={start:n,end:r,offset:10,verticalLength:5},i=Object(c.a)(s(s({},o),{},{type:"start"})),a=Object(c.a)(s(s({},o),{},{type:"end"}));t="M".concat(i.leftX," ").concat(i.leftY," \n    L").concat(i.rightX," ").concat(i.rightY," \n    L").concat(a.rightX," ").concat(a.rightY,"\n    L").concat(a.leftX," ").concat(a.leftY," z")}return{d:t,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}},U=function(e){var t=e.start,n=e.end,r=e.sourceNode,o=e.targetNode,i=e.offset,c=Object(a.h)(r),u=Object(a.h)(o),s=v(c,i),l=v(u,i);return{sNext:g(s,t),ePre:g(l,n)}},G=function(e){var t=e.replace(/M/g,"").replace(/C/g,",").split(",");return[X(t[0]),X(t[1]),X(t[2]),X(t[3])]},X=function(e){var t=d(e.replace(/(^\s*)/g,"").split(" "),2);return{x:+t[0],y:+t[1]}},Y=function(e){var t=G(e);return[t[2],t[3]]},V=function(e,t){for(var n,r=e.x,i=e.y,a=I(t),c=Number.MAX_SAFE_INTEGER,u=[],s=0;s<a.length;s++)u.push({start:a[s],end:a[(s+1)%a.length]});if(u.forEach((function(e){var t=e.start,a=e.end;if(t.x===a.x){var u={x:t.x,y:i};if(Object(o.b)(u,t,a)){var s=Math.abs(t.x-r);s<c&&(c=s,n=u)}}else if(t.y===a.y){var l={x:r,y:t.y};if(Object(o.b)(l,t,a)){var f=Math.abs(t.y-i);f<c&&(c=f,n=l)}}})),!n){var l=u[0],f=l.start,p=l.end;n={x:f.x+(p.x-f.x)/2,y:f.y+(p.y-f.y)/2}}return n},H=function(e){return Object(r.a)(e,["id","type","sourceNodeId","targetNodeId","pointsList","startPoint","endPoint","text","properties"])},W=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}},function(e,t,n){var r=n(19),o=n(95).f,i=n(46),a=n(51),c=n(132),u=n(201),s=n(139);e.exports=function(e,t){var n,l,f,p,d,h=e.target,y=e.global,b=e.stat;if(n=y?r:b?r[h]||c(h,{}):(r[h]||{}).prototype)for(l in t){if(p=t[l],f=e.noTargetGet?(d=o(n,l))&&d.value:n[l],!s(y?l:h+(b?".":"#")+l,e.forced)&&void 0!==f){if(typeof p==typeof f)continue;u(p,f)}(e.sham||f&&f.sham)&&i(p,"sham",!0),a(n,l,p,e)}}},function(e,t,n){"use strict";var r=Array.isArray;t.a=r},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return g}));var a={fill:"#FFFFFF",stroke:"#000000",strokeWidth:2,fillOpacity:1,strokeOpacity:1,opacity:1,outlineColor:"#000000",outlineStrokeDashArray:"3,3",hoverOutlineColor:"#000000",hoverOutlineStrokeDashArray:"3,3"},c=o(o({},a),{},{width:100,height:80,radius:0}),u=o(o({},a),{},{r:50}),s=o(o({},a),{},{rx:55,ry:45}),l=o(o({},a),{},{rx:50,ry:50}),f=o({},a),p=o(o({},a),{},{stroke:"#000000",strokeWidth:1,r:4}),d={stroke:"#000000",strokeWidth:2,hoverStroke:"#000000",selectedStroke:"#000000",strokeDashArray:"1,0",outlineColor:"#000000",outlineStrokeDashArray:"3,3"},h=o({},d),y=o(o({},d),{},{offset:30}),b=o(o({},d),{},{offset:100,adjustLineColor:"#4169E1",adjustAnchorStroke:"#4169E1",adjustAnchorFill:"#1E90FF",adjustAnchorFillOpacity:.5}),v={color:"#000000",fontSize:12,fontWeight:"normal",fontFamily:""},g={rect:c,circle:u,diamond:l,ellipse:s,polygon:f,anchor:p,text:v,nodeText:o({},v),edgeText:{color:"#000000",fontSize:12,fontWeight:"normal",fontFamily:"",background:{fill:"transparent",height:20,stroke:"transparent",radius:0},hoverBackground:null},line:h,polyline:y,bezier:b,arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},anchorHover:{fill:"#1E90FF",fillOpacity:.5,stroke:"#4169E1",strokeWidth:1,r:10},snapline:{stroke:"#1E90FF",strokeWidth:1}}},function(e,t,n){"use strict";n.r(t);var r=n(194);n.d(t,"BaseEdgeModel",(function(){return r.a})),n.d(t,"BezierEdgeModel",(function(){return r.b})),n.d(t,"LineEdgeModel",(function(){return r.c})),n.d(t,"PolylineEdgeModel",(function(){return r.d}));var o=n(193);n.d(t,"BaseNodeModel",(function(){return o.a})),n.d(t,"CircleNodeModel",(function(){return o.b})),n.d(t,"DiamondNodeModel",(function(){return o.c})),n.d(t,"EllipseNodeModel",(function(){return o.d})),n.d(t,"PolygonNodeModel",(function(){return o.e})),n.d(t,"RectNodeModel",(function(){return o.f})),n.d(t,"TextNodeModel",(function(){return o.g}));var i=n(190);for(var a in i)["default","BaseEdgeModel","BezierEdgeModel","LineEdgeModel","PolylineEdgeModel","BaseNodeModel","CircleNodeModel","DiamondNodeModel","EllipseNodeModel","PolygonNodeModel","RectNodeModel","TextNodeModel"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);var c=n(111);n.d(t,"EditConfigModel",(function(){return c.a}));var u=n(118);n.d(t,"GraphModel",(function(){return u.a}));var s=n(115);n.d(t,"SnaplineModel",(function(){return s.a})),n(112)},function(e,t,n){"use strict";n.d(t,"c",(function(){return W})),n.d(t,"k",(function(){return ae})),n.d(t,"e",(function(){return ge})),n.d(t,"i",(function(){return Ne})),n.d(t,"f",(function(){return Xe})),n.d(t,"g",(function(){return ot})),n.d(t,"l",(function(){return pt})),n.d(t,"b",(function(){return Qt})),n.d(t,"h",(function(){return ln})),n.d(t,"j",(function(){return Sn})),n.d(t,"d",(function(){return Fn})),n.d(t,"a",(function(){return At})),n(40),n(142),n(13),n(14),n(189);var r=n(1),o=n(240),i=(n(69),n(106),n(70),n(107),n(76),n(20)),a=n(3),c=n(72),u=n(43),s=n(2);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(d,e);var t,n,o,l=b(d);function d(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),(e=l.call(this)).preTargetNode=void 0,e.dragHandler=void 0,e.sourceRuleResults=void 0,e.targetRuleResults=void 0,e.onDragStart=function(){var t=e.props,n=t.x,r=t.y,o=t.nodeModel,i=t.graphModel;i.selectNodeById(o.id),i.toFront(o.id),e.setState({startX:n,startY:r,endX:n,endY:r})},e.onDraging=function(t){var n=t.deltaX,r=t.deltaY,o=e.state,i=o.endX,c=o.endY,u=e.props,l=u.graphModel,f=u.nodeModel,d=l.transformMatrix,h=l.nodes,y=p(d.moveCanvasPointByHtml([i,c],n,r),2),b=y[0],v=y[1];e.setState({endX:b,endY:v,draging:!0});var g=Object(a.l)({x:i,y:c},h);if(g){var m=g.node;if(e.preTargetNode=m,!e.targetRuleResults.has(m.id)){var O=f.isAllowConnectedAsSource(m),x=m.isAllowConnectedAsTarget(f);e.sourceRuleResults.set(m.id,O),e.targetRuleResults.set(m.id,x)}var j=e.sourceRuleResults.get(m.id).isAllPass,_=e.targetRuleResults.get(m.id).isAllPass;j&&_?m.setElementState(s.b.ALLOW_CONNECT):m.setElementState(s.b.NOT_ALLOW_CONNECT)}else e.preTargetNode&&e.preTargetNode.state!==s.b.DEFAULT&&e.preTargetNode.setElementState(s.b.DEFAULT)},e.onDragEnd=function(){e.checkEnd(),e.setState({startX:0,startY:0,endX:0,endY:0,draging:!1})},e.onDblClick=function(){var t=e.props,n=t.graphModel,r=t.nodeModel;n.setElementStateById(r.id,s.b.TEXT_EDIT)},e.checkEnd=function(){var t=e.props,n=t.graphModel,r=t.nodeModel,o=t.x,i=t.y,c=t.eventCenter,u=n.nodes,l=n.edgeType,f=e.state,p=f.endX,d=f.endY,h=f.draging,y=Object(a.l)({x:p,y:d},u);if(e.preTargetNode&&e.preTargetNode.state!==s.b.DEFAULT&&e.preTargetNode.setElementState(s.b.DEFAULT),h&&y&&y.node){var b=y.node,v=e.sourceRuleResults.get(b.id)||{},g=v.isAllPass,m=v.msg,O=e.targetRuleResults.get(b.id)||{},x=O.isAllPass,j=O.msg;if(g&&x)b.setElementState(s.b.ALLOW_CONNECT),o===y.anchorPosition.x&&i===y.anchorPosition.y||n.createEdge({type:l,sourceNodeId:r.id,startPoint:{x:o,y:i},targetNodeId:y.node.id,endPoint:{x:y.anchorPosition.x,y:y.anchorPosition.y}});else{var _=b.getData();c.emit(s.d.CONNECTION_NOT_ALLOWED,{data:_,msg:j||m})}}},e.sourceRuleResults=new Map,e.targetRuleResults=new Map,e.state={startX:0,startY:0,endX:0,endY:0,draging:!1},e.dragHandler=Object(i.b)({onDragStart:e.onDragStart,onDraging:e.onDraging,onDragEnd:e.onDragEnd}),e}return t=d,(n=[{key:"isShowLine",value:function(){var e=this.state,t=e.startX,n=e.startY,r=e.endX,o=e.endY;return Object(a.a)(t,n,r,o)>10}},{key:"render",value:function(){var e=this.state,t=e.startX,n=e.startY,o=e.endX,i=e.endY,a=this.props,s=a.x,l=a.y,p=a.style,d=a.edgeStyle,h=a.hoverStyle;return Object(r.g)("g",{className:"lf-anchor",onDblClick:this.onDblClick},Object(r.g)(c.a,f({className:"lf-node-anchor-hover"},{x:s,y:l},h,{onMouseDown:this.dragHandler})),Object(r.g)(c.a,f({className:"lf-node-anchor"},{x:s,y:l},p,{onMouseDown:this.dragHandler})),this.isShowLine()&&Object(r.g)(u.a,f({x1:t,y1:n,x2:o,y2:i,"pointer-events":"none"},d)))}}])&&h(t.prototype,n),o&&h(t,o),d}(r.a);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){var t=e.x,n=void 0===t?0:t,o=e.y,i=void 0===o?0:o,a=e.value,c=e.fontSize,u=e.fill,s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({textAnchor:"middle","dominant-baseline":"middle",x:n,y:i,fill:void 0===u?"currentColor":u},e);if(a){var l=String(a).split(/[\r\n]/g),f=l.length;if(f>1){var p=l.map((function(e,t){var o=(t-(f-1)/2)*(c+2);return Object(r.g)("tspan",{className:"lf-text-tspan",x:n,y:i+o},e)}));return Object(r.g)("text",s,p)}return Object(r.g)("text",s,a)}}function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=N(e);if(t){var o=N(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return D(this,n)}}function D(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(37),n(77),n(156);var M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(c,e);var t,n,o,a=k(c);function c(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=a.call(this)).dragHandler=void 0,t.sumDeltaX=0,t.sumDeltaY=0,t.stepDrag=void 0,t.onDraging=function(e){var n=e.deltaX,r=e.deltaY,o=t.props,i=o.model,a=E(o.graphModel.transformMatrix.fixDeltaXY(n,r),2),c=a[0],u=a[1];i.moveText(c,u)},t.dblClickHandler=function(){t.props.editable&&t.props.model.setElementState(s.b.TEXT_EDIT)},t.mouseDownHandle=function(e){var n=t.props,r=n.draggable,o=n.graphModel.editConfig.nodeTextDraggable;(r||o)&&t.stepDrag.handleMouseDown(e)};var n=e.model,r=e.draggable;return t.stepDrag=new i.a({onDraging:t.onDraging,step:1,model:n,isStopPropagation:r}),t}return t=c,(n=[{key:"getShape",value:function(){var e=this.props,t=e.model.text,n=e.style,o=t.value,i={x:t.x,y:t.y,className:"lf-element-text",value:o};return Object(r.g)(j,w({},i,n))}},{key:"render",value:function(){if(this.props.model.text)return Object(r.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&P(t.prototype,n),o&&P(t,o),c}(r.a),T=(n(234),null!==window.navigator.userAgent.match(/MSIE|Trident/));function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G(e,t,n){return t&&U(e.prototype,t),n&&U(e,n),e}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=H(e);if(t){var o=H(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return V(this,n)}}function V(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var W=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(n,e);var t=Y(n);function n(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this)).stepDrag=void 0,r.contextMenuTime=void 0,r.clickTimer=void 0,r.onDragStart=function(){},r.onDraging=function(e){var t=e.deltaX,n=e.deltaY,o=r.props,i=o.model,a=o.graphModel;r.state.isDraging||r.setState({isDraging:!0});var c=B(a.transformMatrix.fixDeltaXY(t,n),2),u=c[0],s=c[1];i.modelType.indexOf("node")>-1&&a.moveNode(i.id,u,s)},r.onDragEnd=function(){r.setState({isDraging:!1})},r.handleClick=function(e){var t=r.props,n=t.model,o=t.eventCenter,i=t.graphModel,a={data:n.getData(),e:e,position:i.getPointByClient({x:e.clientX,y:e.clientY})},c=2===e.button,u=2===e.detail;if(!c){u?(i.editConfig.nodeTextEdit&&n.text.editable&&(n.setSelected(!1),i.setElementStateById(n.id,s.b.TEXT_EDIT)),o.emit(s.d.NODE_DBCLICK,a)):(o.emit(s.d.ELEMENT_CLICK,a),o.emit(s.d.NODE_CLICK,a));var l=i.editConfig.metaKeyMultipleSelected;i.selectNodeById(n.id,e.metaKey&&l),i.toFront(n.id)}},r.handleContextMenu=function(e){e.preventDefault(),r.contextMenuTime=(new Date).getTime(),r.clickTimer&&clearTimeout(r.clickTimer);var t=r.props,n=t.model,o=t.eventCenter,i=t.graphModel,a=n.getData(),c=i.getPointByClient({x:e.clientX,y:e.clientY});i.setElementStateById(n.id,s.b.SHOW_MENU,c.domOverlayPosition),i.selectNodeById(n.id),i.toFront(n.id),o.emit(s.d.NODE_CONTEXTMENU,{data:a,e:e,position:c})},r.handleMouseDown=function(e){var t=r.props,n=t.model;t.graphModel.toFront(n.id),r.stepDrag&&r.stepDrag.handleMouseDown(e)},r.setHoverON=function(e){if(!r.state.isHovered){r.setState({isHovered:!0});var t=r.props,n=t.model,o=t.eventCenter,i=n.getData();n.setHovered(!0),o.emit(s.d.NODE_MOUSEENTER,{data:i,e:e})}},r.setHoverOFF=function(e){r.setState({isHovered:!1});var t=r.props,n=t.model,o=t.eventCenter,i=n.getData();n.setHovered(!1),o.emit(s.d.NODE_MOUSELEAVE,{data:i,e:e})},r.onMouseOut=function(e){T&&r.setHoverOFF(e)};var o=e.graphModel,a=o.gridSize,c=o.editConfig,u=e.eventCenter,l=e.model;return c.adjustNodePosition&&l.draggable&&(r.stepDrag=new i.a({onDragStart:r.onDragStart,onDraging:r.onDraging,onDragEnd:r.onDragEnd,step:a,eventType:"NODE",eventCenter:u,model:l})),r.state={isDraging:!1,isHovered:!1},r}return G(n,null,[{key:"getModel",value:function(e){return e}}]),G(n,[{key:"getShapeStyle",value:function(){var e=this.props.model;return{width:e.width,height:e.height,fill:e.fill,fillOpacity:e.fillOpacity,strokeWidth:e.strokeWidth,stroke:e.stroke,strokeOpacity:e.strokeOpacity,opacity:e.opacity,outlineColor:e.outlineColor}}},{key:"getAttributes",value:function(){var e=this.props.model,t=e.id,n=e.properties,r=void 0===n?{}:n,o=e.type,i=e.x,a=e.y,c=e.isSelected,u=e.isHovered,s=e.text,l=this.getShapeStyle();return L({id:t,properties:L({},r),type:o,x:i,y:a,isSelected:c,isHovered:u,text:L({},s)},l)}},{key:"getProperties",value:function(){return this.props.model.getProperties()}},{key:"getAnchorStyle",value:function(){return L({},this.props.graphModel.theme.anchor)}},{key:"getAnchorHoverStyle",value:function(){return L({},this.props.graphModel.theme.anchorHover)}},{key:"getNewEdgeStyle",value:function(){return L({},this.props.graphModel.theme.anchorLine)}},{key:"getAnchors",value:function(){var e=this,t=this.props,n=t.model,i=t.graphModel,a=t.eventCenter,c=n.isSelected,u=n.isHitable,s=this.state,l=s.isHovered,f=s.isDraging;if(u&&(c||l)){var p=this.getAnchorStyle(),d=this.getAnchorHoverStyle(),h=this.getNewEdgeStyle();return Object(o.a)(n.anchors,(function(t,o){return Object(r.g)(m,R({},t,{nodeDraging:f,style:p,hoverStyle:d,edgeStyle:h,anchorIndex:o,nodeModel:n,eventCenter:a,graphModel:i,setHoverOFF:e.setHoverOFF}))}))}return[]}},{key:"getTextStyle",value:function(){return this.props.graphModel.theme.nodeText}},{key:"getText",value:function(){var e=this.props,t=e.model,n=e.graphModel;if(t.state===s.b.TEXT_EDIT)return"";var o=this.getTextStyle();if(t.text){var i=n.editConfig,a=!1;return(t.text.draggable||i.nodeTextDraggable)&&(a=!0),Object(r.g)(M,{editable:i.nodeTextEdit&&t.text.editable,style:o,model:t,graphModel:n,draggable:a})}}},{key:"getStateClassName",value:function(){var e="lf-node";switch(this.props.model.state){case s.b.ALLOW_CONNECT:e+=" lf-node-allow";break;case s.b.NOT_ALLOW_CONNECT:e+=" lf-node-not-allow";break;default:e+=" lf-node-default"}return this.state.isDraging&&(e+=" lf-dragging"),e}},{key:"render",value:function(){var e,t=this.props,n=t.model,o=t.graphModel,i=o.editConfig,a=i.hideAnchors,c=i.adjustNodePosition,u=o.gridSize,s=o.transformMatrix.SCALE_X,l=n.isHitable,f=n.draggable,p=Object(r.g)("g",{className:"lf-node-content"},this.getShape(),this.getText(),a?null:this.getAnchors());return l?(c&&f&&this.stepDrag.setStep(u*s),e=Object(r.g)("g",{className:this.getStateClassName(),id:n.id,onMouseDown:this.handleMouseDown,onMouseUp:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},p)):e=Object(r.g)("g",{className:this.getStateClassName(),id:n.id},p),e}}]),n}(r.a),K=n(49);function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){J(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function te(e,t,n){return(te="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ie(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ie(e);if(t){var o=ie(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oe(this,n)}}function oe(e,t){return!t||"object"!==q(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ae=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(a,e);var t,n,o,i=re(a);function a(){return $(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"getShapeStyle",value:function(){var e=te(ie(a.prototype),"getShapeStyle",this).call(this),t=this.props.model.radius;return Q(Q({},e),{},{radius:t})}},{key:"getAttributes",value:function(){var e=te(ie(a.prototype),"getAttributes",this).call(this),t=this.getShapeStyle();return Q(Q({},e),t)}},{key:"getShape",value:function(){var e=this.getAttributes();return Object(r.g)(K.a,e)}}])&&ee(t.prototype,n),o&&ee(t,o),a}(W);function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function de(e,t,n){return(de="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ve(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function he(e,t){return(he=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ve(e);if(t){var o=ve(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return be(this,n)}}function be(e,t){return!t||"object"!==ce(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ve(e){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ge=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&he(e,t)}(a,e);var t,n,o,i=ye(a);function a(){return fe(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"getShapeStyle",value:function(){var e=de(ve(a.prototype),"getShapeStyle",this).call(this),t=this.props.model.r;return se(se({},e),{},{r:t})}},{key:"getAttributes",value:function(){var e=de(ve(a.prototype),"getAttributes",this).call(this),t=this.getShapeStyle();return se(se({},e),t)}},{key:"getShape",value:function(){var e=this.getAttributes();return Object(r.g)(c.a,e)}}])&&pe(t.prototype,n),o&&pe(t,o),a}(W);function me(e){var t=e.fillOpacity,n=void 0===t?1:t,o=e.strokeWidth,i=void 0===o?1:o,a=e.strokeOpacity,c=void 0===a?1:a,u=e.fill,s=void 0===u?"transparent":u,l=e.stroke,f=void 0===l?"#000":l,p=e.points,d=e.className,h={fill:s,fillOpacity:n,strokeWidth:i,stroke:f,strokeOpacity:c,points:"",className:void 0===d?"lf-basic-shape":d};return h.points=p.map((function(e){return e.join(",")})).join(" "),Object(r.g)("polygon",h)}function Oe(e){return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function we(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Se(e,t,n){return(Se="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=De(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Pe(e,t){return(Pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=De(e);if(t){var o=De(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ke(this,n)}}function ke(e,t){return!t||"object"!==Oe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function De(e){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(39),n(110);var Ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pe(e,t)}(a,e);var t,n,o,i=Ae(a);function a(){return we(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"getShapeStyle",value:function(){var e=Se(De(a.prototype),"getShapeStyle",this).call(this),t=this.props.model.points;return je(je({},e),{},{points:t})}},{key:"getAttributes",value:function(){var e=Se(De(a.prototype),"getAttributes",this).call(this),t=this.getShapeStyle();return je(je({},e),t)}},{key:"getShape",value:function(){var e=this.getAttributes(),t=e.width,n=e.height,o=e.x,i=e.y,a=e.fill,c=e.fillOpacity,u=e.strokeWidth,s=e.stroke,l=e.strokeOpacity,f=e.points,p={transform:"matrix(1 0 0 1 ".concat(o-t/2," ").concat(i-n/2,")")},d={fill:a,fillOpacity:c,strokeWidth:u,stroke:s,strokeOpacity:l,points:f};return Object(r.g)("g",p,Object(r.g)(me,d))}}])&&Ee(t.prototype,n),o&&Ee(t,o),a}(W);function Me(e){return(Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){Re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ze(e,t,n){return(ze="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ge(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Be(e,t){return(Be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ge(e);if(t){var o=Ge(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ue(this,n)}}function Ue(e,t){return!t||"object"!==Me(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ge(e){return(Ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Xe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Be(e,t)}(a,e);var t,n,o,i=Fe(a);function a(){return Ie(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"getShapeStyle",value:function(){var e=this.props.model.points;return Ce(Ce({},ze(Ge(a.prototype),"getShapeStyle",this).call(this)),{},{points:e})}},{key:"getAttributes",value:function(){var e=ze(Ge(a.prototype),"getAttributes",this).call(this),t=this.getShapeStyle();return Ce(Ce({},e),t)}},{key:"getShape",value:function(){var e=this.props.model.points,t=this.getAttributes(),n={fill:t.fill,fillOpacity:t.fillOpacity,strokeWidth:t.strokeWidth,stroke:t.stroke,strokeOpacity:t.strokeOpacity,points:e};return Object(r.g)("g",null,Object(r.g)(me,n))}}])&&Le(t.prototype,n),o&&Le(t,o),a}(W);function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function He(e){var t=e.x,n=void 0===t?0:t,o=e.y,i=void 0===o?0:o,a=e.rx,c=void 0===a?4:a,u=e.ry,s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(n),!0).forEach((function(t){Ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({cx:n,cy:i,rx:c,ry:void 0===u?4:u,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1},e);return Object(r.g)("ellipse",s)}function We(e){return(We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){Ze(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $e(e,t,n){return($e="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=rt(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function et(e,t){return(et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=rt(e);if(t){var o=rt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nt(this,n)}}function nt(e,t){return!t||"object"!==We(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function rt(e){return(rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ot=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&et(e,t)}(a,e);var t,n,o,i=tt(a);function a(){return Qe(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"getAttributes",value:function(){var e=$e(rt(a.prototype),"getAttributes",this).call(this),t=this.props.model,n=t.rx,r=t.ry;return qe(qe({},e),{},{rx:n,ry:r})}},{key:"getShape",value:function(){var e=this.getAttributes();return Object(r.g)(He,e)}}])&&Je(t.prototype,n),o&&Je(t,o),a}(W);function it(e){return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function at(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ut(e,t){return(ut=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function st(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ft(e);if(t){var o=ft(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return lt(this,n)}}function lt(e,t){return!t||"object"!==it(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ft(e){return(ft=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var pt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ut(e,t)}(a,e);var t,n,o,i=st(a);function a(){return at(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"getShape",value:function(){var e=this.getAttributes();return Object(r.g)(j,e)}}])&&ct(t.prototype,n),o&&ct(t,o),a}(W),dt=n(28);function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bt(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(n),!0).forEach((function(t){yt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({d:""},e);return Object(r.g)("path",t)}bt.defaultProps={strokeDasharray:""};var vt=bt,gt=n(62);function mt(e){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wt(e,t){return(wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Et(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Pt(e);if(t){var o=Pt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return St(this,n)}}function St(e,t){return!t||"object"!==mt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pt(e){return(Pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var At=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wt(e,t)}(a,e);var t,n,o,i=Et(a);function a(){return jt(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"getArrowAttibutes",value:function(){var e=this.props,t=e.arrowInfo,n=e.style,r=t.start,o=t.end,i={start:r,end:o,offset:n.offset,verticalLength:n.verticalLength,type:"end"},a=Object(gt.a)(i),c=a.leftX,u=a.leftY,s=a.rightX,l=a.rightY;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(n),!0).forEach((function(t){xt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({d:"M".concat(c," ").concat(u," L").concat(o.x," ").concat(o.y," L").concat(s," ").concat(l," z")},n)}},{key:"getShape",value:function(){var e=this.getArrowAttibutes(),t=e.d,n=e.strokeWidth,o=e.stroke,i=e.fill;return Object(r.g)(vt,{d:t,fill:i,strokeWidth:n,stroke:o})}},{key:"render",value:function(){return Object(r.g)("g",{className:"lf-arrow"},this.getShape())}}])&&_t(t.prototype,n),o&&_t(t,o),a}(r.a),kt=(n(21),n(22),n(44)),Dt=n(4);function Nt(e){return(Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(n),!0).forEach((function(t){Ct(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function It(e,t){return(It=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Lt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Bt(e);if(t){var o=Bt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zt(this,n)}}function zt(e,t){return!t||"object"!==Nt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Bt(e){return(Bt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ft=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&It(e,t)}(a,e);var t,n,o,i=Lt(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).setHoverON=function(){t.setState({isHoverd:!0})},t.setHoverOFF=function(){t.setState({isHoverd:!1})},t.state={isHoverd:!1},t}return t=a,(n=[{key:"getBackgroud",value:function(){var e=this.props,t=e.model.text,n=e.style,o=Object(kt.a)(n.background,"fill","stroke","radius","height");if(this.state.isHoverd&&n.hoverBackground&&(o=Tt(Tt({},o),n.hoverBackground)),t&&t.value&&"transparnet"!==o.fill){var i=n.fontSize,a=t.value,c=t.x,u=t.y,s=String(a).split(/[\r\n]/g),l=s.length,f=0;s&&s.forEach((function(e){var t=Object(Dt.e)(e);f=t>f?t:f}));var p=Tt({x:c-1,y:u-1,width:Math.ceil(f/2)*i+i/4,height:l*(i+2)+i/4},o);return Object(r.g)(K.a,p)}}},{key:"getShape",value:function(){var e=this.props,t=e.model.text,n=e.style,o=t.value,i=Tt({x:t.x,y:t.y,className:"lf-element-text",value:o},Object(kt.a)(n,"color","fontSize","fontWeight","fontFamily"));return Object(r.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackgroud(),Object(r.g)(j,i))}}])&&Rt(t.prototype,n),o&&Rt(t,o),a}(M);function Ut(e){return(Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gt(Object(n),!0).forEach((function(t){Yt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ht(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wt(e,t){return(Wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zt(e);if(t){var o=Zt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qt(this,n)}}function qt(e,t){return!t||"object"!==Ut(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Zt(e){return(Zt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Qt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wt(e,t)}(a,e);var t,n,o,i=Kt(a);function a(){var e;Vt(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).startTime=void 0,e.preStartTime=void 0,e.contextMenuTime=void 0,e.clickTimer=void 0,e.handleHover=function(t,n){var r=e.props,o=r.model,i=r.eventCenter;o.setHovered(t);var a=t?s.d.EDGE_MOUSEENTER:s.d.EDGE_MOUSELEAVE,c=o.getData();i.emit(a,{data:c,e:n})},e.setHoverON=function(t){e.handleHover(!0,t)},e.setHoverOFF=function(t){e.handleHover(!1,t)},e.handleContextMenu=function(t){t.preventDefault(),e.contextMenuTime=(new Date).getTime(),e.clickTimer&&clearTimeout(e.clickTimer);var n=e.props,r=n.model,o=n.graphModel,i=n.eventCenter,a=o.getPointByClient({x:t.clientX,y:t.clientY});o.setElementStateById(r.id,s.b.SHOW_MENU,a.domOverlayPosition),o.toFront(r.id),o.selectEdgeById(r.id);var c=null==r?void 0:r.getData();i.emit(s.d.EDGE_CONTEXTMENU,{data:c,e:t,position:a})},e.handleMouseDown=function(t){t.stopPropagation(),e.startTime=(new Date).getTime()},e.handleMouseUp=function(t){if(e.startTime&&!((new Date).getTime()-e.startTime>200)){var n=e.props,r=n.model,o=n.graphModel,i=n.eventCenter,a=null==r?void 0:r.getData(),c=o.getPointByClient({x:t.clientX,y:t.clientY});if(e.preStartTime&&e.startTime-e.preStartTime<200){e.clickTimer&&window.clearTimeout(e.clickTimer);var u=o.editConfig,l=o.textEditElement;if(l&&l.id===r.id&&o.setElementStateById(r.id,s.b.DEFAULT),u.edgeTextEdit&&r.text.editable&&o.setElementStateById(r.id,s.b.TEXT_EDIT),r.modelType===s.e.POLYLINE_EDGE){var f=r,p=o.getPointByClient({x:t.x,y:t.y}).canvasOverlayPosition,d=p.x,h=p.y,y=Object(Dt.f)({x:d,y:h},f.points);f.dbClickPosition=y}i.emit(s.d.EDGE_DBCLICK,{data:a,e:t,position:c})}else e.clickTimer=window.setTimeout((function(){(!e.contextMenuTime||e.startTime>e.contextMenuTime)&&(i.emit(s.d.ELEMENT_CLICK,{data:a,e:t,position:c}),i.emit(s.d.EDGE_CLICK,{data:a,e:t,position:c}))}),400);var b=o.editConfig.metaKeyMultipleSelected;o.selectEdgeById(r.id,t.metaKey&&b),o.toFront(r.id),e.preStartTime=e.startTime}},e}return t=a,(n=[{key:"getAttributes",value:function(){var e=this.props.model,t=e.strokeWidth,n=e.strokeOpacity,r=e.strokeDashArray,o=e.isSelected,i=e.isHovered,a=e.hoverStroke,c=e.selectedStroke,u=e.properties,s=this.props.model.stroke;return i?s=a:o&&(s=c),{stroke:s,strokeWidth:t,strokeOpacity:n,strokeDashArray:r,isSelected:o,isHovered:i,hoverStroke:a,selectedStroke:c,properties:Xt({},u)}}},{key:"getShape",value:function(){}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var e=this.props,t=e.model,n=e.graphModel;if(t.state===s.b.TEXT_EDIT)return"";var o=n.theme.edgeText,i=this.getTextStyle(),a=Object(dt.a)({},o,i),c=!1,u=n.editConfig;return(t.text.draggable||u.edgeTextDraggable)&&(c=!0),Object(r.g)(Ft,{editable:u.edgeTextEdit&&t.text.editable,model:t,graphModel:n,style:a,draggable:c})}},{key:"getArrowInfo",value:function(){var e=this.props.model,t=e.startPoint,n=e.endPoint,r=e.isSelected;return{start:t,end:n,hover:this.state.hover,isSelected:r}}},{key:"getArrowStyle",value:function(){var e=this.getAttributes().stroke,t=this.props.graphModel.theme.arrow;return{stroke:e,strokeWidth:1,fill:e,offset:t.offset,verticalLength:t.verticalLength}}},{key:"getArrow",value:function(){var e=this.getArrowInfo(),t=e.start,n=e.end;if(t&&n&&(t.x!==n.x||t.y!==n.y)){var o=this.getArrowStyle();return Object(r.g)(At,{arrowInfo:e,style:o})}}},{key:"getAppendWidth",value:function(){return Object(r.g)("g",null)}},{key:"getAppend",value:function(){return Object(r.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"render",value:function(){var e=this.props.model;return Object(r.g)("g",{className:"lf-edge",id:e.id,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),this.getText(),this.getArrow())}}])&&Ht(t.prototype,n),o&&Ht(t,o),a}(r.a);function Jt(e){return(Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function en(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(n),!0).forEach((function(t){tn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function on(e,t,n){return(on="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=sn(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function an(e,t){return(an=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=sn(e);if(t){var o=sn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return un(this,n)}}function un(e,t){return!t||"object"!==Jt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function sn(e){return(sn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ln=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&an(e,t)}(a,e);var t,n,o,i=cn(a);function a(){return nn(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"getAttributes",value:function(){var e=this.props.model,t=e.startPoint,n=e.endPoint;return en(en({},on(sn(a.prototype),"getAttributes",this).call(this)),{},{startPoint:t,endPoint:n})}},{key:"getEdge",value:function(){var e=this.getAttributes(),t=e.stroke,n=e.startPoint,o=e.endPoint,i=e.strokeWidth,a=e.strokeOpacity,c=e.strokeDashArray;return Object(r.g)(u.a,{x1:n.x,y1:n.y,x2:o.x,y2:o.y,strokeOpacity:a,strokeWidth:i,stroke:t,strokeDasharray:c})}},{key:"getShape",value:function(){return Object(r.g)("g",null,this.getEdge())}},{key:"getAppendWidth",value:function(){var e=this.props.model,t={start:e.startPoint,end:e.endPoint},n=Object(Dt.a)(t),o=n.d,i=n.strokeWidth,a=n.fill,c=n.strokeDasharray,u=n.stroke;return Object(r.g)(vt,{d:o,fill:a,strokeWidth:i,stroke:u,strokeDasharray:c})}}])&&rn(t.prototype,n),o&&rn(t,o),a}(Qt);function fn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dn=function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fn(Object(n),!0).forEach((function(t){pn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({points:"",fill:"none"},e);return Object(r.g)("polyline",t)};function hn(e){return(hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yn(Object(n),!0).forEach((function(t){vn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return mn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function On(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xn(e,t,n){return(xn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=En(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function jn(e,t){return(jn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _n(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=En(e);if(t){var o=En(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wn(this,n)}}function wn(e,t){return!t||"object"!==hn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function En(e){return(En=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Sn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jn(e,t)}(c,e);var t,n,o,a=_n(c);function c(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(e=a.call(this)).drag=void 0,e.isDraging=void 0,e.appendInfo=void 0,e.dragHandler=void 0,e.onDragStart=function(){e.props.model.dragAppendStart()},e.onDraging=function(t){var n=t.deltaX,r=t.deltaY,o=e.props,i=o.model,a=o.graphModel;e.isDraging=!0;var c=gn(a.transformMatrix.fixDeltaXY(n,r),2),u=c[0],s=c[1],l=i;e.appendInfo=l.dragAppend(e.appendInfo,{x:u,y:s})},e.onDragEnd=function(){e.props.model.dragAppendEnd(),e.isDraging=!1,e.appendInfo=void 0},e.beforeDragStart=function(t,n){e.dragHandler(t),e.appendInfo=n},e.drag=Object(i.b)({onDragStart:e.onDragStart,onDraging:e.onDraging,onDragEnd:e.onDragEnd,isStopPropagation:!1}),e}return t=c,(n=[{key:"getAttributes",value:function(){var e=xn(En(c.prototype),"getAttributes",this).call(this),t=this.props.model.points;return bn(bn({},e),{},{points:t})}},{key:"getEdge",value:function(){var e=this.getAttributes(),t=e.points,n=e.strokeWidth,o=e.stroke,i=e.strokeDashArray;return Object(r.g)(dn,{points:t,strokeWidth:n,stroke:o,strokeDasharray:i})}},{key:"getShape",value:function(){return Object(r.g)("g",null,this.getEdge())}},{key:"getArrowInfo",value:function(){var e=this.props.model,t=e.points,n=e.isSelected,r={start:null,end:null,hover:this.state.hover,isSelected:n},o=Object(Dt.n)(t);return o.length>=2&&(r.start=o[o.length-2],r.end=o[o.length-1]),r}},{key:"getAppendAttibutes",value:function(e){var t,n=e.start,r=e.end;if(n.x===r.x&&n.y===r.y)t="";else{var o={start:n,end:r,offset:10,verticalLength:5},i=Object(gt.a)(bn(bn({},o),{},{type:"start"})),a=Object(gt.a)(bn(bn({},o),{},{type:"end"}));t="M".concat(i.leftX," ").concat(i.leftY," \n      L").concat(i.rightX," ").concat(i.rightY," \n      L").concat(a.rightX," ").concat(a.rightY,"\n      L").concat(a.leftX," ").concat(a.leftY," z")}return{d:t,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(e){var t=this.getAppendAttibutes(e),n=t.d,o=t.strokeWidth,i=t.fill,a=t.strokeDasharray,c=t.stroke;return Object(r.g)(vt,{d:n,fill:i,strokeWidth:o,stroke:c,strokeDasharray:a})}},{key:"getAppendWidth",value:function(){for(var e=this,t=this.props,n=t.model,o=t.graphModel,i=n.pointsList,a=n.draggable,c=[],u=function(t){var n="lf-polyline-append",u={start:{x:i[t].x,y:i[t].y},end:{x:i[t+1].x,y:i[t+1].y},startIndex:t,endIndex:t+1,direction:""},l=Object(r.g)("g",{className:n},e.getAppendShape(u));o.editConfig.adjustEdge&&a?(e.dragHandler=e.drag,u.start.x===u.end.x?(n+="-ew-resize",u.direction=s.f.VERTICAL):u.start.y===u.end.y&&(n+="-ns-resize",u.direction=s.f.HORIZONTAL),l=Object(r.g)("g",{className:e.isDraging?"lf-dragging":"lf-drag-able",onMouseDown:function(t){return e.beforeDragStart(t,u)}},Object(r.g)("g",{className:n},e.getAppendShape(u)))):e.dragHandler=function(){},c.push(l)},l=0;l<i.length-1;l++)u(l);return Object(r.g)("g",null,c)}}])&&On(t.prototype,n),o&&On(t,o),c}(Qt);function Pn(e){return(Pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function An(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return kn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dn(Object(n),!0).forEach((function(t){Mn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rn(e,t,n){return(Rn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Bn(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function In(e,t){return(In=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ln(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Bn(e);if(t){var o=Bn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zn(this,n)}}function zn(e,t){return!t||"object"!==Pn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Bn(e){return(Bn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Fn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&In(e,t)}(a,e);var t,n,o,i=Ln(a);function a(){return Tn(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"getAttributes",value:function(){var e=Rn(Bn(a.prototype),"getAttributes",this).call(this),t=this.props.model.path;return Nn(Nn({},e),{},{path:t})}},{key:"getEdge",value:function(){var e=this.getAttributes(),t=e.path,n=e.strokeWidth,o=e.stroke,i=e.strokeDashArray;return Object(r.g)(vt,{d:t,strokeWidth:n,stroke:o,fill:"none",strokeDasharray:i})}},{key:"getShape",value:function(){return Object(r.g)("g",null,this.getEdge())}},{key:"getAppendWidth",value:function(){var e=this.getAttributes().path;return Object(r.g)(vt,{d:e,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var e=this.props.model,t=this.state.hover,n=e,r=n.path,o=n.isSelected,i=An(Object(Dt.h)(r),2);return{start:i[0],end:i[1],hover:t,isSelected:o}}}])&&Cn(t.prototype,n),o&&Cn(t,o),a}(Qt)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";var r=n(119),o="object"==typeof self&&self&&self.Object===Object&&self,i=r.a||o||Function("return this")();t.a=i},function(e,t,n){"use strict";t.a=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){var r=n(5),o=n(10),i=n(36),a=n(146),c=n(173);r({target:"Object",stat:!0,forced:o((function(){a(1)})),sham:!c},{getPrototypeOf:function(e){return a(i(e))}})},function(e,t,n){n(5)({target:"Object",stat:!0},{setPrototypeOf:n(148)})},function(e,t,n){"use strict";n.r(t),n.d(t,"observer",(function(){return p}));var r=n(64),o=n(1);n.d(t,"h",(function(){return o.g}));var i=n(117);n.d(t,"LogicFlow",(function(){return i.a}));var a=n(191);n.d(t,"LogicFlowUtil",(function(){return a})),n(192);var c=n(9);n.d(t,"BaseNode",(function(){return c.c})),n.d(t,"RectNode",(function(){return c.k})),n.d(t,"CircleNode",(function(){return c.e})),n.d(t,"PolygonNode",(function(){return c.i})),n.d(t,"DiamondNode",(function(){return c.f})),n.d(t,"EllipseNode",(function(){return c.g})),n.d(t,"TextNode",(function(){return c.l})),n.d(t,"BaseEdge",(function(){return c.b})),n.d(t,"LineEdge",(function(){return c.h})),n.d(t,"PolylineEdge",(function(){return c.j})),n.d(t,"BezierEdge",(function(){return c.d})),n.d(t,"Arrow",(function(){return c.a}));var u=n(8);for(var s in u)["default","observer","LogicFlow","h","LogicFlowUtil","BaseNode","RectNode","CircleNode","PolygonNode","DiamondNode","EllipseNode","TextNode","BaseEdge","LineEdge","PolylineEdge","BezierEdge","Arrow"].indexOf(s)<0&&function(e){n.d(t,e,(function(){return u[e]}))}(s);var l=n(116);n.d(t,"Keyboard",(function(){return l.a}));var f=n(114);function p(e){return Object(r.c)(e)}n.d(t,"get",(function(){return f.b})),n.d(t,"defaults",(function(){return f.a})),t.default=i.a},function(e,t,n){"use strict";var r=n(11).a.Symbol;t.a=r},function(e,t,n){var r=n(19),o=n(164),i=n(30),a=n(136),c=n(171),u=n(204),s=o("wks"),l=r.Symbol,f=u?l:l&&l.withoutSetter||a;e.exports=function(e){return i(s,e)||(c&&i(l,e)?s[e]=l[e]:s[e]=f("Symbol."+e)),s[e]}},,function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,n(131))},function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u}));var r=function(){},o=n(2);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=window.document;function c(e){var t=e.onDragStart,n=void 0===t?r:t,o=e.onDraging,i=void 0===o?r:o,c=e.onDragEnd,u=void 0===c?r:c,s=e.step,l=void 0===s?1:s,f=e.isStopPropagation,p=void 0===f||f,d=!1,h=0,y=0,b=0,v=0;function g(e){if(p&&e.stopPropagation(),d&&(b+=e.clientX-h,v+=e.clientY-y,h=e.clientX,y=e.clientY,Math.abs(b)>l||Math.abs(v)>l)){var t=b%l,n=v%l,r=b-t,o=v-n;b=t,v=n,i({deltaX:r,deltaY:o,event:e})}}function m(e){return p&&e.stopPropagation(),d=!1,a.removeEventListener("mousemove",g,!1),a.removeEventListener("mouseup",m,!1),u({event:e})}return function(e){if(0===e.button)return p&&e.stopPropagation(),d=!0,h=e.clientX,y=e.clientY,a.addEventListener("mousemove",g,!1),a.addEventListener("mouseup",m,!1),n({event:e})}}var u=function(){function e(t){var n=this,i=t.onDragStart,c=void 0===i?r:i,u=t.onDraging,s=void 0===u?r:u,l=t.onDragEnd,f=void 0===l?r:l,p=t.eventType,d=void 0===p?"":p,h=t.eventCenter,y=void 0===h?null:h,b=t.step,v=void 0===b?1:b,g=t.isStopPropagation,m=void 0===g||g,O=t.model,x=void 0===O?null:O;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onDragStart=void 0,this.onDraging=void 0,this.onDragEnd=void 0,this.step=void 0,this.isStopPropagation=void 0,this.isDraging=!1,this.startX=0,this.startY=0,this.sumDeltaX=0,this.sumDeltaY=0,this.eventType=void 0,this.eventCenter=void 0,this.model=void 0,this.startTime=void 0,this.handleMouseDown=function(e){var t,r,i;if(0===e.button){n.isStopPropagation&&e.stopPropagation(),n.isDraging=!0,n.startX=e.clientX,n.startY=e.clientY,a.addEventListener("mousemove",n.handleMouseMove,!1),a.addEventListener("mouseup",n.handleMouseUp,!1),n.onDragStart({event:e});var c=null===(t=n.model)||void 0===t?void 0:t.getData();null===(r=n.eventCenter)||void 0===r||r.emit(o.d["".concat(n.eventType,"_MOUSEDOWN")],{e:e,data:c}),null===(i=n.eventCenter)||void 0===i||i.emit(o.d["".concat(n.eventType,"_DRAGSTART")],{e:e,data:c}),n.startTime=(new Date).getTime()}},this.handleMouseMove=function(e){if(n.isStopPropagation&&e.stopPropagation(),n.isDraging&&(n.sumDeltaX+=e.clientX-n.startX,n.sumDeltaY+=e.clientY-n.startY,n.startX=e.clientX,n.startY=e.clientY,Math.abs(n.sumDeltaX)>n.step||Math.abs(n.sumDeltaY)>n.step)){var t,r,i=n.sumDeltaX%n.step,a=n.sumDeltaY%n.step,c=n.sumDeltaX-i,u=n.sumDeltaY-a;n.sumDeltaX=i,n.sumDeltaY=a,n.onDraging({deltaX:c,deltaY:u,event:e});var s,l=null===(t=n.model)||void 0===t?void 0:t.getData();null===(r=n.eventCenter)||void 0===r||r.emit(o.d["".concat(n.eventType,"_MOUSEMOVE")],{e:e,data:l}),(new Date).getTime()-n.startTime>200&&(null===(s=n.eventCenter)||void 0===s||s.emit(o.d["".concat(n.eventType,"_DRAG")],{e:e,data:l}))}},this.handleMouseUp=function(e){var t,r;n.isStopPropagation&&e.stopPropagation(),n.isDraging=!1,a.removeEventListener("mousemove",n.handleMouseMove,!1),a.removeEventListener("mouseup",n.handleMouseUp,!1),n.onDragEnd({event:e});var i,c=null===(t=n.model)||void 0===t?void 0:t.getData();null===(r=n.eventCenter)||void 0===r||r.emit(o.d["".concat(n.eventType,"_MOUSEUP")],{e:e,data:c}),(new Date).getTime()-n.startTime>200&&(null===(i=n.eventCenter)||void 0===i||i.emit(o.d["".concat(n.eventType,"_DROP")],{e:e,data:c}))},this.onDragStart=c,this.onDraging=s,this.onDragEnd=f,this.step=v,this.isStopPropagation=m,this.eventType=d,this.eventCenter=y,this.model=x}var t,n,c;return t=e,(n=[{key:"setStep",value:function(e){this.step=e}}])&&i(t.prototype,n),c&&i(t,c),e}()},function(e,t,n){"use strict";var r=n(5),o=n(169);r({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},function(e,t,n){var r=n(19),o=n(184),i=n(169),a=n(46);for(var c in o){var u=r[c],s=u&&u.prototype;if(s&&s.forEach!==i)try{a(s,"forEach",i)}catch(e){s.forEach=i}}},function(e,t,n){var r=n(5),o=n(10),i=n(74),a=n(95).f,c=n(29),u=o((function(){a(1)}));r({target:"Object",stat:!0,forced:!c||u,sham:!c},{getOwnPropertyDescriptor:function(e,t){return a(i(e),t)}})},function(e,t,n){"use strict";t.a=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){var r=n(33);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,n){"use strict";var r,o=n(120),i=n(11).a["__core-js_shared__"],a=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",c=function(e){return!!a&&a in e},u=n(12),s=n(50),l=/^\[object .+?Constructor\]$/,f=Function.prototype,p=Object.prototype,d=f.toString,h=p.hasOwnProperty,y=RegExp("^"+d.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),b=function(e){return!(!Object(u.a)(e)||c(e))&&(Object(o.a)(e)?y:l).test(Object(s.a)(e))},v=function(e,t){return null==e?void 0:e[t]};t.a=function(e,t){var n=v(e,t);return b(n)?n:void 0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){try{return JSON.parse(JSON.stringify(e))}catch(t){return e}}},function(e,t,n){"use strict";var r=n(57),o=n(41),i=n(78),a=n(130),c=n(126),u=function(e,t){return Object(c.a)(Object(a.a)(e,t,i.a),e+"")},s=n(55),l=n(31),f=n(54),p=n(12),d=function(e,t,n){if(!Object(p.a)(n))return!1;var r=typeof t;return!!("number"==r?Object(l.a)(n)&&Object(f.a)(t,n.length):"string"==r&&t in n)&&Object(s.a)(n[t],e)},h=function(e){return u((function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,a&&d(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var c=n[r];c&&e(t,c,r,i)}return t}))},y=n(56),b=n(32),v=Object.prototype.hasOwnProperty,g=h((function(e,t){if(Object(y.a)(t)||Object(l.a)(t))Object(o.a)(t,Object(b.a)(t),e);else for(var n in t)v.call(t,n)&&Object(r.a)(e,n,t[n])}));t.a=g},function(e,t,n){var r=n(10);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){"use strict";var r=n(120),o=n(79);t.a=function(e){return null!=e&&Object(o.a)(e.length)&&!Object(r.a)(e)}},function(e,t,n){"use strict";var r=n(129),o=n(56),i=n(122),a=Object(i.a)(Object.keys,Object),c=Object.prototype.hasOwnProperty,u=function(e){if(!Object(o.a)(e))return a(e);var t=[];for(var n in Object(e))c.call(e,n)&&"constructor"!=n&&t.push(n);return t},s=n(31);t.a=function(e){return Object(s.a)(e)?Object(r.a)(e):u(e)}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(29),o=n(161),i=n(25),a=n(97),c=Object.defineProperty;t.f=r?c:function(e,t,n){if(i(e),t=a(t,!0),i(n),o)try{return c(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(75),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){var r=n(45);e.exports=function(e){return Object(r(e))}},function(e,t,n){"use strict";var r=n(5),o=n(101).map,i=n(105),a=n(68),c=i("map"),u=a("map");r({target:"Array",proto:!0,forced:!c||!u},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r=n(16),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,c=r.a?r.a.toStringTag:void 0,u=function(e){var t=i.call(e,c),n=e[c];try{e[c]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[c]=n:delete e[c]),o},s=Object.prototype.toString,l=function(e){return s.call(e)},f=r.a?r.a.toStringTag:void 0;t.a=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":f&&f in Object(e)?u(e):l(e)}},function(e,t,n){"use strict";var r=n(5),o=n(10),i=n(170),a=n(33),c=n(36),u=n(35),s=n(151),l=n(141),f=n(105),p=n(17),d=n(149),h=p("isConcatSpreadable"),y=d>=51||!o((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),b=f("concat"),v=function(e){if(!a(e))return!1;var t=e[h];return void 0!==t?!!t:i(e)};r({target:"Array",proto:!0,forced:!y||!b},{concat:function(e){var t,n,r,o,i,a=c(this),f=l(a,0),p=0;for(t=-1,r=arguments.length;t<r;t++)if(v(i=-1===t?a:arguments[t])){if(p+(o=u(i.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<o;n++,p++)n in i&&s(f,p,i[n])}else{if(p>=9007199254740991)throw TypeError("Maximum allowed index exceeded");s(f,p++,i)}return f.length=p,f}})},function(e,t,n){var r=n(5),o=n(233),i=n(143);r({target:"Array",proto:!0},{fill:o}),i("fill")},function(e,t,n){"use strict";var r=n(57),o=n(121);t.a=function(e,t,n,i){var a=!n;n||(n={});for(var c=-1,u=t.length;++c<u;){var s=t[c],l=i?i(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),a?Object(o.a)(n,s,l):Object(r.a)(n,s,l)}return n}},function(e,t,n){"use strict";var r=n(58);t.a=function(e){if("string"==typeof e||Object(r.a)(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(e,t,n){"use strict";var r=n(1);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({x1:10,y1:10,x2:20,y2:20,stroke:"black"},e);return Object(r.g)("line",t)}},function(e,t,n){"use strict";var r=n(82),o=n(57),i=n(60),a=n(54),c=n(12),u=n(42),s=function(e,t,n,r){if(!Object(c.a)(e))return e;for(var s=-1,l=(t=Object(i.a)(t,e)).length,f=l-1,p=e;null!=p&&++s<l;){var d=Object(u.a)(t[s]),h=n;if("__proto__"===d||"constructor"===d||"prototype"===d)return e;if(s!=f){var y=p[d];void 0===(h=r?r(y,d,p):void 0)&&(h=Object(c.a)(y)?y:Object(a.a)(t[s+1])?[]:{})}Object(o.a)(p,d,h),p=p[d]}return e},l=function(e,t,n){for(var o=-1,a=t.length,c={};++o<a;){var u=t[o],l=Object(r.a)(e,u);n(l,u)&&s(c,Object(i.a)(u,e),l)}return c},f=n(127),p=function(e,t){return l(e,t,(function(t,n){return Object(f.a)(e,n)}))},d=n(81),h=n(16),y=n(85),b=n(6),v=h.a?h.a.isConcatSpreadable:void 0,g=function(e){return Object(b.a)(e)||Object(y.a)(e)||!!(v&&e&&e[v])},m=function e(t,n,r,o,i){var a=-1,c=t.length;for(r||(r=g),i||(i=[]);++a<c;){var u=t[a];n>0&&r(u)?n>1?e(u,n-1,r,o,i):Object(d.a)(i,u):o||(i[i.length]=u)}return i},O=function(e){return null!=e&&e.length?m(e,1):[]},x=n(130),j=n(126),_=function(e){return Object(j.a)(Object(x.a)(e,void 0,O),e+"")}((function(e,t){return null==e?{}:p(e,t)}));t.a=_},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,n){var r=n(29),o=n(34),i=n(96);e.exports=r?function(e,t,n){return o.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){"use strict";var r=n(26),o=n(11),i=Object(r.a)(o.a,"DataView"),a=n(61),c=Object(r.a)(o.a,"Promise"),u=Object(r.a)(o.a,"Set"),s=Object(r.a)(o.a,"WeakMap"),l=n(38),f=n(50),p=Object(f.a)(i),d=Object(f.a)(a.a),h=Object(f.a)(c),y=Object(f.a)(u),b=Object(f.a)(s),v=l.a;(i&&"[object DataView]"!=v(new i(new ArrayBuffer(1)))||a.a&&"[object Map]"!=v(new a.a)||c&&"[object Promise]"!=v(c.resolve())||u&&"[object Set]"!=v(new u)||s&&"[object WeakMap]"!=v(new s))&&(v=function(e){var t=Object(l.a)(e),n="[object Object]"==t?e.constructor:void 0,r=n?Object(f.a)(n):"";if(r)switch(r){case p:return"[object DataView]";case d:return"[object Map]";case h:return"[object Promise]";case y:return"[object Set]";case b:return"[object WeakMap]"}return t}),t.a=v},function(e,n,r){"use strict";(function(e){var o=r(119),i=t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,c=a&&a.exports===i&&o.a.process,u=function(){try{return a&&a.require&&a.require("util").types||c&&c.binding&&c.binding("util")}catch(e){}}();n.a=u}).call(this,r(152)(e))},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(1);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t=e.x,n=e.y,o=e.width,a=e.height,c=e.radius,u=e.className,s=t-o/2,l=n-a/2,f=i(i({width:10,height:10,cx:0,cy:0,rx:c||0,ry:c||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape ".concat(u)},e),{},{x:s,y:l});return Object(r.g)("rect",f)}c.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""}},function(e,t,n){"use strict";var r=Function.prototype.toString;t.a=function(e){if(null!=e){try{return r.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,n){var r=n(19),o=n(46),i=n(30),a=n(132),c=n(163),u=n(98),s=u.get,l=u.enforce,f=String(String).split("String");(e.exports=function(e,t,n,c){var u,s=!!c&&!!c.unsafe,p=!!c&&!!c.enumerable,d=!!c&&!!c.noTargetGet;"function"==typeof n&&("string"!=typeof t||i(n,"name")||o(n,"name",t),(u=l(n)).source||(u.source=f.join("string"==typeof t?t:""))),e!==r?(s?!d&&e[t]&&(p=!0):delete e[t],p?e[t]=n:o(e,t,n)):p?e[t]=n:a(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&s(this).source||c(this)}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return X})),n(21),n(157),n(23),n(70),n(185),n(22);var r,o,i,a,c,u,s,l,f,p,d,h,y,b,v,g,m,O,x,j,_,w,E,S,P=n(0),A=n(28),k=n(44),D=n(53),N=n(3),M=n(2),T=n(7),C=n(27),R=n(4);function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var G=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){U(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({sourceNodeId:"",targetNodeId:"",startPoint:null,endPoint:null,zIndex:0,isSelected:!1,isHovered:!1,text:{value:"",x:0,y:0,draggable:!1,editable:!0},points:"",pointsList:[],strokeOpacity:1},T.a.line),X=(o=B((r=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=Object(D.a)(),this.BaseType=M.c.EDGE,L(this,"state",o,this),this.modelType=M.e.EDGE,this.additionStateData=void 0,this.graphModel=void 0,this.menu=void 0,L(this,"text",i,this),L(this,"type",a,this),L(this,"properties",c,this),L(this,"sourceNodeId",u,this),L(this,"targetNodeId",s,this),L(this,"startPoint",l,this),L(this,"endPoint",f,this),L(this,"strokeWidth",p,this),L(this,"stroke",d,this),L(this,"strokeDashArray",h,this),L(this,"outlineColor",y,this),L(this,"outlineStrokeDashArray",b,this),L(this,"strokeOpacity",v,this),L(this,"zIndex",g,this),L(this,"isSelected",m,this),L(this,"isHovered",O,this),L(this,"isHitable",x,this),L(this,"hoverStroke",j,this),L(this,"selectedStroke",_,this),L(this,"points",w,this),L(this,"pointsList",E,this),L(this,"draggable",S,this),this.graphModel=n,this.setStyleFromTheme(r,n),this.initEdgeData(t),this.setAttributes(),this.setAnchors(),this.initPoints(),this.formatText(t)}var t,n,r;return t=e,(n=[{key:"initEdgeData",value:function(e){e.properties||(e.properties={}),Object(A.a)(this,Object(R.m)(e))}},{key:"setAttributes",value:function(){}},{key:"move",value:function(){}},{key:"getBeginAnchor",value:function(e,t){var n,r;return Object(N.b)(e).forEach((function(e){var o=Object(R.q)(e,t);r?o<r&&(r=o,n=e):(r=o,n=e)})),n}},{key:"getEndAnchor",value:function(e){var t,n,r=this;return Object(N.b)(e).forEach((function(e){var o=Object(R.q)(e,r.startPoint);n?o<n&&(n=o,t=e):(n=o,t=e)})),t}},{key:"getProperties",value:function(){return Object(P.G)(this.properties)}},{key:"getData",value:function(){var e=this.text,t=e.x,n=e.y,r=e.value,o={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(P.G)(this.properties)};return r&&(o.text={x:t,y:n,value:r}),o}},{key:"setProperty",value:function(e,t){this.properties[e]=Object(C.a)(t)}},{key:"setProperties",value:function(e){this.properties=Object.assign(this.properties,e)}},{key:"updateData",value:function(e){var t=Object(C.a)(Object(k.a)(e,"type","sourceNodeId","targetNodeId","startPoint","endPoint","text","properties")),n=this.text,r=n.x,o=n.y,i=n.draggable,a=n.editable;if(t.text&&"string"==typeof t.text){var c={value:t.text,draggable:i,editable:a},u=this.textPosition;t.text=r||o?Object.assign({},c,{x:r,y:o}):Object.assign({},c,u)}else if("object"===I(t.text)){var s=Object.assign({},this.text,t.text);t.text=Object(k.a)(s,"x","y","value","draggable","editable")}Object(A.a)(this,t)}},{key:"formatText",value:function(e){var t=this.textPosition,n=t.x,r=t.y;e.text?"string"!=typeof e.text?"[object Object]"===Object.prototype.toString.call(e.text)&&(this.text={x:e.text.x||n,y:e.text.y||r,value:e.text.value,draggable:this.text.draggable,editable:this.text.editable}):this.text={value:e.text||"",x:n,y:r,draggable:!1,editable:!0}:this.text={value:"",x:n,y:r,draggable:!1,editable:!0}}},{key:"moveText",value:function(e,t){if(this.text){var n=this.text,r=n.x,o=n.y,i=n.value,a=n.draggable,c=n.editable;this.text={value:i,draggable:a,x:r+e,y:o+t,editable:c}}}},{key:"setText",value:function(e){e&&(this.text=Object(A.a)(this.text,e))}},{key:"updateText",value:function(e){var t=this.text,n=t.x,r=t.y,o=t.draggable,i=t.editable;this.text={x:n,y:r,draggable:o,editable:i,value:e}}},{key:"setAnchors",value:function(){if(!this.startPoint){var e=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint=e}if(!this.endPoint){var t=this.getEndAnchor(this.targetNode);this.endPoint=t}}},{key:"setSelected",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isSelected=e}},{key:"setHovered",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHovered=e}},{key:"setHitable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHitable=e}},{key:"setElementState",value:function(e,t){this.state=e,this.additionStateData=t}},{key:"updateStroke",value:function(e){this.stroke=e}},{key:"updateStrokeWidth",value:function(e){this.strokeWidth=e}},{key:"updateStartPoint",value:function(e){this.startPoint=e}},{key:"updateEndPoint",value:function(e){this.endPoint=e}},{key:"setStyleFromTheme",value:function(e,t){var n=t.theme;n[e]&&Object(A.a)(this,n[e])}},{key:"setZIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G.zIndex;this.zIndex=e}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(e){Object(A.a)(this,e)}},{key:"sourceNode",get:function(){var e,t;return null===(e=this.graphModel)||void 0===e||null===(t=e.nodesMap[this.sourceNodeId])||void 0===t?void 0:t.model}},{key:"targetNode",get:function(){var e,t;return null===(e=this.graphModel)||void 0===e||null===(t=e.nodesMap[this.targetNodeId])||void 0===t?void 0:t.model}},{key:"textPosition",get:function(){return{x:0,y:0}}}])&&z(t.prototype,n),r&&z(t,r),e}()).prototype,"state",[P.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),i=B(r.prototype,"text",[P.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return G.text}}),a=B(r.prototype,"type",[P.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=B(r.prototype,"properties",[P.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),u=B(r.prototype,"sourceNodeId",[P.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return G.sourceNodeId}}),s=B(r.prototype,"targetNodeId",[P.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return G.targetNodeId}}),l=B(r.prototype,"startPoint",[P.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return G.startPoint}}),f=B(r.prototype,"endPoint",[P.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return G.endPoint}}),p=B(r.prototype,"strokeWidth",[P.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return G.strokeWidth}}),d=B(r.prototype,"stroke",[P.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return G.stroke}}),h=B(r.prototype,"strokeDashArray",[P.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return G.strokeDashArray}}),y=B(r.prototype,"outlineColor",[P.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return G.outlineColor}}),b=B(r.prototype,"outlineStrokeDashArray",[P.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return G.outlineStrokeDashArray}}),v=B(r.prototype,"strokeOpacity",[P.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return G.strokeOpacity}}),g=B(r.prototype,"zIndex",[P.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return G.zIndex}}),m=B(r.prototype,"isSelected",[P.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return G.isSelected}}),O=B(r.prototype,"isHovered",[P.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return G.isHovered}}),x=B(r.prototype,"isHitable",[P.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),j=B(r.prototype,"hoverStroke",[P.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return G.hoverStroke}}),_=B(r.prototype,"selectedStroke",[P.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return G.selectedStroke}}),w=B(r.prototype,"points",[P.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return G.points}}),E=B(r.prototype,"pointsList",[P.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return G.pointsList}}),S=B(r.prototype,"draggable",[P.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),B(r.prototype,"sourceNode",[P.k],Object.getOwnPropertyDescriptor(r.prototype,"sourceNode"),r.prototype),B(r.prototype,"targetNode",[P.k],Object.getOwnPropertyDescriptor(r.prototype,"targetNode"),r.prototype),B(r.prototype,"textPosition",[P.k],Object.getOwnPropertyDescriptor(r.prototype,"textPosition"),r.prototype),B(r.prototype,"setProperty",[P.i],Object.getOwnPropertyDescriptor(r.prototype,"setProperty"),r.prototype),B(r.prototype,"setProperties",[P.i],Object.getOwnPropertyDescriptor(r.prototype,"setProperties"),r.prototype),B(r.prototype,"updateData",[P.i],Object.getOwnPropertyDescriptor(r.prototype,"updateData"),r.prototype),B(r.prototype,"formatText",[P.i],Object.getOwnPropertyDescriptor(r.prototype,"formatText"),r.prototype),B(r.prototype,"moveText",[P.i],Object.getOwnPropertyDescriptor(r.prototype,"moveText"),r.prototype),B(r.prototype,"setText",[P.i],Object.getOwnPropertyDescriptor(r.prototype,"setText"),r.prototype),B(r.prototype,"updateText",[P.i],Object.getOwnPropertyDescriptor(r.prototype,"updateText"),r.prototype),B(r.prototype,"setAnchors",[P.i],Object.getOwnPropertyDescriptor(r.prototype,"setAnchors"),r.prototype),B(r.prototype,"setSelected",[P.i],Object.getOwnPropertyDescriptor(r.prototype,"setSelected"),r.prototype),B(r.prototype,"setHovered",[P.i],Object.getOwnPropertyDescriptor(r.prototype,"setHovered"),r.prototype),B(r.prototype,"setHitable",[P.i],Object.getOwnPropertyDescriptor(r.prototype,"setHitable"),r.prototype),B(r.prototype,"setElementState",[P.i],Object.getOwnPropertyDescriptor(r.prototype,"setElementState"),r.prototype),B(r.prototype,"updateStroke",[P.i],Object.getOwnPropertyDescriptor(r.prototype,"updateStroke"),r.prototype),B(r.prototype,"updateStrokeWidth",[P.i],Object.getOwnPropertyDescriptor(r.prototype,"updateStrokeWidth"),r.prototype),B(r.prototype,"updateStartPoint",[P.i],Object.getOwnPropertyDescriptor(r.prototype,"updateStartPoint"),r.prototype),B(r.prototype,"updateEndPoint",[P.i],Object.getOwnPropertyDescriptor(r.prototype,"updateEndPoint"),r.prototype),B(r.prototype,"setStyleFromTheme",[P.i],Object.getOwnPropertyDescriptor(r.prototype,"setStyleFromTheme"),r.prototype),B(r.prototype,"setZIndex",[P.i],Object.getOwnPropertyDescriptor(r.prototype,"setZIndex"),r.prototype),B(r.prototype,"initPoints",[P.i],Object.getOwnPropertyDescriptor(r.prototype,"initPoints"),r.prototype),B(r.prototype,"updateAttributes",[P.i],Object.getOwnPropertyDescriptor(r.prototype,"updateAttributes"),r.prototype),r);t.b=X},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return p}));var o=new Uint8Array(16);function i(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(o)}for(var a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,c=function(e){return"string"==typeof e&&a.test(e)},u=[],s=0;s<256;++s)u.push((s+256).toString(16).substr(1));var l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(u[e[t+0]]+u[e[t+1]]+u[e[t+2]]+u[e[t+3]]+"-"+u[e[t+4]]+u[e[t+5]]+"-"+u[e[t+6]]+u[e[t+7]]+"-"+u[e[t+8]]+u[e[t+9]]+"-"+u[e[t+10]]+u[e[t+11]]+u[e[t+12]]+u[e[t+13]]+u[e[t+14]]+u[e[t+15]]).toLowerCase();if(!c(n))throw TypeError("Stringified UUID is invalid");return n},f=function(e,t,n){var r=(e=e||{}).random||(e.rng||i)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return l(r)},p=function(){return f()}},function(e,t,n){"use strict";var r=/^(?:0|[1-9]\d*)$/;t.a=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&r.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){"use strict";t.a=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){"use strict";var r=Object.prototype;t.a=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}},function(e,t,n){"use strict";var r=n(121),o=n(55),i=Object.prototype.hasOwnProperty;t.a=function(e,t,n){var a=e[t];i.call(e,t)&&Object(o.a)(a,n)&&(void 0!==n||t in e)||Object(r.a)(e,t,n)}},function(e,t,n){"use strict";var r=n(38),o=n(24);t.a=function(e){return"symbol"==typeof e||Object(o.a)(e)&&"[object Symbol]"==Object(r.a)(e)}},function(e,t,n){"use strict";var r=function(){this.__data__=[],this.size=0},o=n(55),i=function(e,t){for(var n=e.length;n--;)if(Object(o.a)(e[n][0],t))return n;return-1},a=Array.prototype.splice,c=function(e){var t=this.__data__,n=i(t,e);return!(n<0)&&(n==t.length-1?t.pop():a.call(t,n,1),--this.size,!0)},u=function(e){var t=this.__data__,n=i(t,e);return n<0?void 0:t[n][1]},s=function(e){return i(this.__data__,e)>-1},l=function(e,t){var n=this.__data__,r=i(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function f(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}f.prototype.clear=r,f.prototype.delete=c,f.prototype.get=u,f.prototype.has=s,f.prototype.set=l,t.a=f},function(e,t,n){"use strict";var r=n(6),o=n(83),i=n(73);function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(a.Cache||i.a),n}a.Cache=i.a;var c=a,u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,l=function(e){var t=c(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(u,(function(e,n,r,o){t.push(r?o.replace(s,"$1"):n||e)})),t})),f=n(16),p=n(123),d=n(58),h=f.a?f.a.prototype:void 0,y=h?h.toString:void 0,b=function e(t){if("string"==typeof t)return t;if(Object(r.a)(t))return Object(p.a)(t,e)+"";if(Object(d.a)(t))return y?y.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n},v=function(e){return null==e?"":b(e)};t.a=function(e,t){return Object(r.a)(e)?e:Object(o.a)(e,t)?[e]:l(v(e))}},function(e,t,n){"use strict";var r=n(26),o=n(11),i=Object(r.a)(o.a,"Map");t.a=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){var t=e.start,n=e.end,r=e.offset,o=e.verticalLength,i=e.type,a={leftX:0,leftY:0,rightX:0,rightY:0},c=Math.atan((n.y-t.y)/(n.x-t.x)),u=Math.atan(r/o),s=Math.sqrt(o*o+r*r);return"start"===i?n.x>=t.x?(a.leftX=t.x+s*Math.sin(c+u),a.leftY=t.y-s*Math.cos(c+u),a.rightX=t.x-s*Math.sin(c-u),a.rightY=t.y+s*Math.cos(c-u)):(a.leftX=t.x-s*Math.sin(c+u),a.leftY=t.y+s*Math.cos(c+u),a.rightX=t.x+s*Math.sin(c-u),a.rightY=t.y-s*Math.cos(c-u)):"end"===i&&(n.x>=t.x?(a.leftX=n.x+s*Math.sin(c-u),a.leftY=n.y-s*Math.cos(c-u),a.rightX=n.x-s*Math.sin(c+u),a.rightY=n.y+s*Math.cos(c+u)):(a.leftX=n.x-s*Math.sin(c-u),a.leftY=n.y+s*Math.cos(c-u),a.rightX=n.x+s*Math.sin(c+u),a.rightY=n.y-s*Math.cos(c+u))),a}},function(e,t,n){"use strict";var r=n(59),o=function(){this.__data__=new r.a,this.size=0},i=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},a=function(e){return this.__data__.get(e)},c=function(e){return this.__data__.has(e)},u=n(61),s=n(73),l=function(e,t){var n=this.__data__;if(n instanceof r.a){var o=n.__data__;if(!u.a||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new s.a(o)}return n.set(e,t),this.size=n.size,this};function f(e){var t=this.__data__=new r.a(e);this.size=t.size}f.prototype.clear=o,f.prototype.delete=i,f.prototype.get=a,f.prototype.has=c,f.prototype.set=l,t.a=f},function(e,t,n){"use strict";n.d(t,"c",(function(){return dt})),n.d(t,"a",(function(){return Ot})),n.d(t,"b",(function(){return We}));var r,o,i,a=n(0),c=n(1),u=0,s=[],l=c.i.__b,f=c.i.__r,p=c.i.diffed,d=c.i.__c,h=c.i.unmount;function y(e,t){c.i.__h&&c.i.__h(o,e,u||t),u=0;var n=o.__H||(o.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function b(e){return u=1,v(E,e)}function v(e,t,n){var i=y(r++,2);return i.t=e,i.__c||(i.__=[n?n(t):E(void 0,t),function(e){var t=i.t(i.__[0],e);i.__[0]!==t&&(i.__=[t,i.__[1]],i.__c.setState({}))}],i.__c=o),i.__}function g(e,t){var n=y(r++,4);!c.i.__s&&w(n.__H,t)&&(n.__=e,n.__H=t,o.__h.push(n))}function m(e,t){var n=y(r++,7);return w(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function O(){s.forEach((function(e){if(e.__P)try{e.__H.__h.forEach(j),e.__H.__h.forEach(_),e.__H.__h=[]}catch(t){e.__H.__h=[],c.i.__e(t,e.__v)}})),s=[]}c.i.__b=function(e){o=null,l&&l(e)},c.i.__r=function(e){f&&f(e),r=0;var t=(o=e.__c).__H;t&&(t.__h.forEach(j),t.__h.forEach(_),t.__h=[])},c.i.diffed=function(e){p&&p(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(1!==s.push(t)&&i===c.i.requestAnimationFrame||((i=c.i.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(r),x&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);x&&(t=requestAnimationFrame(n))})(O)),o=void 0},c.i.__c=function(e,t){t.some((function(e){try{e.__h.forEach(j),e.__h=e.__h.filter((function(e){return!e.__||_(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],c.i.__e(n,e.__v)}})),d&&d(e,t)},c.i.unmount=function(e){h&&h(e);var t=e.__c;if(t&&t.__H)try{t.__H.__.forEach(j)}catch(e){c.i.__e(e,t.__v)}};var x="function"==typeof requestAnimationFrame;function j(e){var t=o;"function"==typeof e.__c&&e.__c(),o=t}function _(e){var t=o;e.__c=e.__(),o=t}function w(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function E(e,t){return"function"==typeof t?t(e):t}function S(e,t){for(var n in t)e[n]=t[n];return e}function P(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}function A(e){this.props=e}(A.prototype=new c.a).isPureReactComponent=!0,A.prototype.shouldComponentUpdate=function(e,t){return P(this.props,e)||P(this.state,t)};var k=c.i.__b;c.i.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),k&&k(e)};var D="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function N(e){function t(t,n){var r=S({},t);return delete r.ref,e(r,(n=t.ref||n)&&("object"!=typeof n||"current"in n)?n:null)}return t.$$typeof=D,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var M=function(e,t){return null==e?null:Object(c.k)(Object(c.k)(e).map(t))},T={map:M,forEach:M,count:function(e){return e?Object(c.k)(e).length:0},only:function(e){var t=Object(c.k)(e);if(1!==t.length)throw"Children.only";return t[0]},toArray:c.k},C=c.i.__e;function R(e){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),e.__c.__H=null),(e=S({},e)).__c=null,e.__k=e.__k&&e.__k.map(R)),e}function I(e){return e&&(e.__v=null,e.__k=e.__k&&e.__k.map(I)),e}function L(){this.__u=0,this.t=null,this.__b=null}function z(e){var t=e.__.__c;return t&&t.__e&&t.__e(e)}function B(){this.u=null,this.o=null}c.i.__e=function(e,t,n){if(e.then)for(var r,o=t;o=o.__;)if((r=o.__c)&&r.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),r.__c(e,t);C(e,t,n)},(L.prototype=new c.a).__c=function(e,t){var n=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var o=z(r.__v),i=!1,a=function(){i||(i=!0,n.componentWillUnmount=n.__c,o?o(c):c())};n.__c=n.componentWillUnmount,n.componentWillUnmount=function(){a(),n.__c&&n.__c()};var c=function(){var e;if(!--r.__u)for(r.__v.__k[0]=I(r.state.__e),r.setState({__e:r.__b=null});e=r.t.pop();)e.forceUpdate()};!0===t.__h||r.__u++||r.setState({__e:r.__b=r.__v.__k[0]}),e.then(a,a)},L.prototype.componentWillUnmount=function(){this.t=[]},L.prototype.render=function(e,t){this.__b&&(this.__v.__k&&(this.__v.__k[0]=R(this.__b)),this.__b=null);var n=t.__e&&Object(c.e)(c.b,null,e.fallback);return n&&(n.__h=null),[Object(c.e)(c.b,null,t.__e?null:e.children),n]};var F=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function U(e){return this.getChildContext=function(){return e.context},e.children}function G(e){var t=this,n=e.i;t.componentWillUnmount=function(){Object(c.j)(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),e.__v?(t.l||(t.i=n,t.l={parentNode:n,childNodes:[],appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e,n){this.childNodes.push(e),t.i.appendChild(e,n)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),Object(c.j)(Object(c.e)(U,{context:t.context},e.__v),t.l)):t.l&&t.componentWillUnmount()}(B.prototype=new c.a).__e=function(e){var t=this,n=z(t.__v),r=t.o.get(e);return r[0]++,function(o){var i=function(){t.props.revealOrder?(r.push(o),F(t,e,r)):o()};n?n(i):i()}},B.prototype.render=function(e){this.u=null,this.o=new Map;var t=Object(c.k)(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},B.prototype.componentDidUpdate=B.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,n){F(e,n,t)}))};var X="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,Y=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,V=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(e)};c.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(c.a.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var H=c.i.event;function W(){}function K(){return this.cancelBubble}function q(){return this.defaultPrevented}c.i.event=function(e){return H&&(e=H(e)),e.persist=W,e.isPropagationStopped=K,e.isDefaultPrevented=q,e.nativeEvent=e};var Z,Q={configurable:!0,get:function(){return this.class}},J=c.i.vnode;c.i.vnode=function(e){var t=e.type,n=e.props,r=n;if("string"==typeof t){for(var o in r={},n){var i=n[o];"defaultValue"===o&&"value"in n&&null==n.value?o="value":"download"===o&&!0===i?i="":/ondoubleclick/i.test(o)?o="ondblclick":/^onchange(textarea|input)/i.test(o+t)&&!V(n.type)?o="oninput":/^on(Ani|Tra|Tou|BeforeInp)/.test(o)?o=o.toLowerCase():Y.test(o)?o=o.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===i&&(i=void 0),r[o]=i}"select"==t&&r.multiple&&Array.isArray(r.value)&&(r.value=Object(c.k)(n.children).forEach((function(e){e.props.selected=-1!=r.value.indexOf(e.props.value)}))),"select"==t&&null!=r.defaultValue&&(r.value=Object(c.k)(n.children).forEach((function(e){e.props.selected=r.multiple?-1!=r.defaultValue.indexOf(e.props.value):r.defaultValue==e.props.value}))),e.props=r}t&&n.class!=n.className&&(Q.enumerable="className"in n,null!=n.className&&(r.class=n.className),Object.defineProperty(r,"className",Q)),e.$$typeof=X,J&&J(e)};var $=c.i.__r;c.i.__r=function(e){$&&$(e),Z=e.__c};var ee={ReactCurrentDispatcher:{current:{readContext:function(e){return Z.__n[e.__c].props.value}}}};function te(e){return!!e&&e.$$typeof===X}function ne(e){return e&&(e.base||1===e.nodeType&&e)||null}var re=function(e,t){return e(t)},oe=(c.b,{useState:b,useReducer:v,useEffect:function(e,t){var n=y(r++,3);!c.i.__s&&w(n.__H,t)&&(n.__=e,n.__H=t,o.__H.__h.push(n))},useLayoutEffect:g,useRef:function(e){return u=5,m((function(){return{current:e}}),[])},useImperativeHandle:function(e,t,n){u=6,g((function(){"function"==typeof e?e(t()):e&&(e.current=t())}),null==n?n:n.concat(e))},useMemo:m,useCallback:function(e,t){return u=8,m((function(){return e}),t)},useContext:function(e){var t=o.context[e.__c],n=y(r++,9);return n.__c=e,t?(null==n.__&&(n.__=!0,t.sub(o)),t.props.value):e.__},useDebugValue:function(e,t){c.i.useDebugValue&&c.i.useDebugValue(t?t(e):e)},version:"16.8.0",Children:T,render:function(e,t,n){return null==t.__k&&(t.textContent=""),Object(c.j)(e,t),"function"==typeof n&&n(),e?e.__c:null},hydrate:function(e,t,n){return Object(c.h)(e,t),"function"==typeof n&&n(),e?e.__c:null},unmountComponentAtNode:function(e){return!!e.__k&&(Object(c.j)(null,e),!0)},createPortal:function(e,t){return Object(c.e)(G,{__v:e,i:t})},createElement:c.e,createContext:c.d,createFactory:function(e){return c.e.bind(null,e)},cloneElement:function(e){return te(e)?c.c.apply(null,arguments):e},createRef:c.f,Fragment:c.b,isValidElement:te,findDOMNode:ne,Component:c.a,PureComponent:A,memo:function(e,t){function n(e){var n=this.props.ref,r=n==e.ref;return!r&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!r:P(this.props,e)}function r(t){return this.shouldComponentUpdate=n,Object(c.e)(e,t)}return r.displayName="Memo("+(e.displayName||e.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r},forwardRef:N,unstable_batchedUpdates:re,StrictMode:c.b,Suspense:L,SuspenseList:B,lazy:function(e){var t,n,r;function o(o){if(t||(t=e()).then((function(e){n=e.default||e}),(function(e){r=e})),r)throw r;if(!n)throw t;return Object(c.e)(n,o)}return o.displayName="Lazy",o.__f=!0,o},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:ee});function ie(e){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ue(e,t,n){return t&&ce(e.prototype,t),n&&ce(e,n),e}function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function le(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pe(e,t)}function fe(e){return(fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pe(e,t){return(pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function de(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function he(e,t){return e(t={exports:{}},t.exports),t.exports}var ye=he((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,c=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,s=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116;function b(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case i:case c:case a:return e;default:switch(e=e&&e.$$typeof){case s:case p:case u:return e;default:return t}}case o:return t}}}function v(e){return b(e)===f}t.typeOf=b,t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=s,t.ContextProvider=u,t.Element=r,t.ForwardRef=p,t.Fragment=i,t.Profiler=c,t.Portal=o,t.StrictMode=a,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===f||e===c||e===a||e===d||"object"==typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===h||e.$$typeof===u||e.$$typeof===s||e.$$typeof===p)},t.isAsyncMode=function(e){return v(e)||b(e)===l},t.isConcurrentMode=v,t.isContextConsumer=function(e){return b(e)===s},t.isContextProvider=function(e){return b(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return b(e)===p},t.isFragment=function(e){return b(e)===i},t.isProfiler=function(e){return b(e)===c},t.isPortal=function(e){return b(e)===o},t.isStrictMode=function(e){return b(e)===a}}));!function(e){e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")&&e.default}(ye),ye.typeOf,ye.AsyncMode,ye.ConcurrentMode,ye.ContextConsumer,ye.ContextProvider,ye.Element,ye.ForwardRef,ye.Fragment,ye.Profiler,ye.Portal,ye.StrictMode,ye.isValidElementType,ye.isAsyncMode,ye.isConcurrentMode,ye.isContextConsumer,ye.isContextProvider,ye.isElement,ye.isForwardRef,ye.isFragment,ye.isProfiler,ye.isPortal,ye.isStrictMode;var be=he((function(e){e.exports=ye})),ve={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},ge={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},me={};me[be.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var Oe=Object.defineProperty,xe=Object.getOwnPropertyNames,je=Object.getOwnPropertySymbols,_e=Object.getOwnPropertyDescriptor,we=Object.getPrototypeOf,Ee=Object.prototype,Se=function e(t,n,r){if("string"!=typeof n){if(Ee){var o=we(n);o&&o!==Ee&&e(t,o,r)}var i=xe(n);je&&(i=i.concat(je(n)));for(var a=me[t.$$typeof]||ve,c=me[n.$$typeof]||ve,u=0;u<i.length;++u){var s=i[u];if(!(ge[s]||r&&r[s]||c&&c[s]||a&&a[s])){var l=_e(n,s);try{Oe(t,s,l)}catch(e){}}}return t}return t},Pe=function(){function e(){ae(this,e),this.listeners=[]}return ue(e,[{key:"on",value:function(e){var t=this;return this.listeners.push(e),function(){var n=t.listeners.indexOf(e);-1!==n&&t.listeners.splice(n,1)}}},{key:"emit",value:function(e){this.listeners.forEach((function(t){return t(e)}))}}]),e}();function Ae(e){function t(t,n,r,o,i,c){for(var u=arguments.length,s=new Array(u>6?u-6:0),l=6;l<u;l++)s[l-6]=arguments[l];return Object(a.I)((function(){if(o=o||"<<anonymous>>",c=c||r,null==n[r]){if(t){var a=null===n[r]?"null":"undefined";return new Error("The "+i+" `"+c+"` is marked as required in `"+o+"`, but its value is `"+a+"`.")}return null}return e.apply(void 0,[n,r,o,i,c].concat(s))}))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function ke(e){var t=ie(e);return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol}(t,e)?"symbol":t}function De(e,t){return Ae((function(n,r,o,i,c){return Object(a.I)((function(){if(e&&ke(n[r])===t.toLowerCase())return null;var i;switch(t){case"Array":i=a.w;break;case"Object":i=a.y;break;case"Map":i=a.x;break;default:throw new Error("Unexpected mobxType: ".concat(t))}var u=n[r];if(!i(u)){var s=function(e){var t=ke(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}(u),l=e?" or javascript `"+t.toLowerCase()+"`":"";return new Error("Invalid prop `"+c+"` of type `"+s+"` supplied to `"+o+"`, expected `mobx.Observable"+t+"`"+l+".")}return null}))}))}function Ne(e,t){return Ae((function(n,r,o,i,c){for(var u=arguments.length,s=new Array(u>5?u-5:0),l=5;l<u;l++)s[l-5]=arguments[l];return Object(a.I)((function(){if("function"!=typeof t)return new Error("Property `"+c+"` of component `"+o+"` has invalid PropType notation.");var a=De(e,"Array")(n,r,o);if(a instanceof Error)return a;for(var u=n[r],l=0;l<u.length;l++)if((a=t.apply(void 0,[u,l,o,i,c+"["+l+"]"].concat(s)))instanceof Error)return a;return null}))}))}De(!1,"Array"),Ne.bind(null,!1),De(!1,"Map"),De(!1,"Object"),De(!0,"Array"),Ne.bind(null,!0);var Me=De(!0,"Object"),Te=0,Ce={};function Re(e){return Ce[e]||(Ce[e]=function(e){if("function"==typeof Symbol)return Symbol(e);var t="__$mobx-react ".concat(e," (").concat(Te,")");return Te++,t}(e)),Ce[e]}var Ie=Re("patchMixins"),Le=Re("patchedDefinition");function ze(e,t){var n=e[Ie]=e[Ie]||{},r=n[t]=n[t]||{};return r.locks=r.locks||0,r.methods=r.methods||[],r}function Be(e,t){for(var n=this,r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];t.locks++;try{var a;return null!=e&&(a=e.apply(this,o)),a}finally{t.locks--,0===t.locks&&t.methods.forEach((function(e){e.apply(n,o)}))}}function Fe(e,t){return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];Be.call.apply(Be,[this,e,t].concat(r))}}function Ue(e,t){for(var n=ze(e,t),r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];for(var a=0;a<o.length;a++){var c=o[a];n.methods.indexOf(c)<0&&n.methods.push(c)}var u=Object.getOwnPropertyDescriptor(e,t);if(!u||!u[Le]){var s=e[t],l=Ge(e,t,u?u.enumerable:void 0,n,s);Object.defineProperty(e,t,l)}}function Ge(e,t,n,r,o){var i,a=Fe(o,r);return se(i={},Le,!0),se(i,"get",(function(){return a})),se(i,"set",(function(o){if(this===e)a=Fe(o,r);else{var i=Ge(this,t,n,r,o);Object.defineProperty(this,t,i)}})),se(i,"configurable",!0),se(i,"enumerable",n),i}var Xe={mobxStores:Me};Object.seal(Xe);var Ye={contextTypes:{get:function(){return Xe},set:function(e){console.warn("Mobx Injector: you are trying to attach `contextTypes` on an component decorated with `inject` (or `observer`) HOC. Please specify the contextTypes on the wrapped component instead. It is accessible through the `wrappedComponent`")},configurable:!0,enumerable:!1},isMobxInjector:{value:!0,writable:!0,configurable:!0,enumerable:!0}};function Ve(e,t,n){var r="inject-"+(t.displayName||t.name||t.constructor&&t.constructor.name||"Unknown");n&&(r+="-with-"+n);var o=function(n){function r(){var e,t;ae(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=de(this,(e=fe(r)).call.apply(e,[this].concat(o)))).storeRef=function(e){t.wrappedInstance=e},t}return le(r,n),ue(r,[{key:"render",value:function(){var n={};for(var r in this.props)this.props.hasOwnProperty(r)&&(n[r]=this.props[r]);var o=e(this.context.mobxStores||{},n,this.context)||{};for(var i in o)n[i]=o[i];return function(e){return!(e.prototype&&e.prototype.render)}(t)||(n.ref=this.storeRef),Object(c.e)(t,n)}}]),r}(c.a);return o.displayName=r,Se(o,t),o.wrappedComponent=t,Object.defineProperties(o,Ye),o}function He(e){return function(t,n){return e.forEach((function(e){if(!(e in n)){if(!(e in t))throw new Error("MobX injector: Store '"+e+"' is not available! Make sure it is provided by some Provider");n[e]=t[e]}})),n}}function We(){var e;if("function"==typeof arguments[0])return e=arguments[0],function(t){var n=Ve(e,t);return n.isMobxInjector=!1,(n=dt(n)).isMobxInjector=!0,n};for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e=He(t),function(n){return Ve(e,n,t.join("-"))}}var Ke=a.a||"$mobx",qe=Re("isUnmounted"),Ze=!1,Qe=!1,Je=!1,$e="undefined"!=typeof WeakMap?new WeakMap:void 0,et=new Pe,tt=Re("skipRender"),nt=Re("isForcingUpdate"),rt=N((function(e,t){})).$$typeof;function ot(e,t,n){Object.hasOwnProperty.call(e,t)?e[t]=n:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})}function it(e){if(ne)try{return ne(e)}catch(e){return null}return null}function at(e){var t=it(e);t&&$e&&$e.set(t,e),et.emit({event:"render",renderTime:e.__$mobRenderEnd-e.__$mobRenderStart,totalTime:Date.now()-e.__$mobRenderStart,component:e,node:t})}var ct=new Pe;function ut(e,t){if(st(e,t))return!0;if("object"!==ie(e)||null===e||"object"!==ie(t)||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!hasOwnProperty.call(t,n[o])||!st(e[n[o]],t[n[o]]))return!1;return!0}function st(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function lt(e){var t=this;if(!0===Qe)return e.call(this);function n(){var e=this;u=!1;var t=void 0,n=void 0;if(s.track((function(){Ze&&(e.__$mobRenderStart=Date.now());try{n=Object(a.d)(!1,i)}catch(e){t=e}Ze&&(e.__$mobRenderEnd=Date.now())})),t)throw ct.emit(t),t;return n}var r=this.displayName||this.name||this.constructor&&(this.constructor.displayName||this.constructor.name)||"<component>",o=this._reactInternalInstance&&this._reactInternalInstance._rootNodeID||this._reactInternalInstance&&this._reactInternalInstance._debugID||this._reactInternalFiber&&this._reactInternalFiber._debugID;ot(this,tt,!1),ot(this,nt,!1);var i=e.bind(this),u=!1,s=new a.c("".concat(r,"#").concat(o,".render()"),(function(){if(!u&&(u=!0,"function"==typeof t.componentWillReact&&t.componentWillReact(),!0!==t[qe])){var e=!0;try{ot(t,nt,!0),t[tt]||c.a.prototype.forceUpdate.call(t),e=!1}finally{ot(t,nt,!1),e&&s.dispose()}}}));return s.reactComponent=this,n[Ke]=s,this.render=n,n.call(this)}var ft={componentWillUnmount:function(){if(!0!==Qe&&(this.render[Ke]&&this.render[Ke].dispose(),this[qe]=!0,Ze)){var e=it(this);e&&$e&&$e.delete(e),et.emit({event:"destroy",component:this,node:e})}},componentDidMount:function(){Ze&&at(this)},componentDidUpdate:function(){Ze&&at(this)},shouldComponentUpdate:function(e,t){return Qe&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==t||!ut(this.props,e)}};function pt(e,t){var n=Re("reactProp_".concat(t,"_valueHolder")),r=Re("reactProp_".concat(t,"_atomHolder"));function o(){return this[r]||ot(this,r,Object(a.m)("reactive "+t)),this[r]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){return o.call(this).reportObserved(),this[n]},set:function(e){this[nt]||ut(this[n],e)?ot(this,n,e):(ot(this,n,e),ot(this,tt,!0),o.call(this).reportChanged(),ot(this,tt,!1))}})}function dt(e,t){if("string"==typeof e)throw new Error("Store names should be provided as array");if(Array.isArray(e))return Je||(Je=!0,console.warn('Mobx observer: Using observer to inject stores is deprecated since 4.0. Use `@inject("store1", "store2") @observer ComponentClass` or `inject("store1", "store2")(observer(componentClass))` instead of `@observer(["store1", "store2"]) ComponentClass`')),t?We.apply(null,e)(dt(t)):function(t){return dt(e,t)};var n=e;if(!0===n.isMobxInjector&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),n.__proto__===A&&console.warn("Mobx observer: You are using 'observer' on React.PureComponent. These two achieve two opposite goals and should not be used together"),rt&&n.$$typeof===rt){var r=n.render;if("function"!=typeof r)throw new Error("render property of ForwardRef was not a function");return N((function(){var e=arguments;return oe.createElement(ht,null,(function(){return r.apply(void 0,e)}))}))}if(!("function"!=typeof n||n.prototype&&n.prototype.render||n.isReactClass||c.a.isPrototypeOf(n))){var o,i,a=dt((i=o=function(e){function t(){return ae(this,t),de(this,fe(t).apply(this,arguments))}return le(t,e),ue(t,[{key:"render",value:function(){return n.call(this,this.props,this.context)}}]),t}(c.a),o.displayName=n.displayName||n.name,o.contextTypes=n.contextTypes,o.propTypes=n.propTypes,o.defaultProps=n.defaultProps,i));return Se(a,n),a}if(!n)throw new Error("Please pass a valid component to 'observer'");var u=n.prototype||n;!function(e){["componentDidMount","componentWillUnmount","componentDidUpdate"].forEach((function(t){!function(e,t){Ue(e,t,ft[t])}(e,t)})),e.shouldComponentUpdate?e.shouldComponentUpdate!==ft.shouldComponentUpdate&&console.warn("Use `shouldComponentUpdate` in an `observer` based component breaks the behavior of `observer` and might lead to unexpected results. Manually implementing `sCU` should not be needed when using mobx-react."):e.shouldComponentUpdate=ft.shouldComponentUpdate}(u),n.isMobXReactObserver=!0,pt(u,"props"),pt(u,"state");var s=u.render;return u.render=function(){return lt.call(this,s)},n}var ht=dt((function(e){var t=e.children,n=e.inject,r=e.render,o=t||r;if(void 0===o)return null;if(!n)return o();console.warn("<Observer inject=.../> is no longer supported. Please use inject on the enclosing component instead");var i=We(n)(o);return oe.createElement(i,null)}));ht.displayName="Observer";var yt=function(e,t,n,r,o){var i="children"===t?"render":"children";return"function"==typeof e[t]&&"function"==typeof e[i]?new Error("Invalid prop,do not use children and render in the same time in`"+n):"function"!=typeof e[t]&&"function"!=typeof e[i]?new Error("Invalid prop `"+o+"` of type `"+ie(e[t])+"` supplied to `"+n+"`, expected `function`."):void 0};function bt(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function vt(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function gt(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}ht.propTypes={render:yt,children:yt},bt.__suppressDeprecationWarning=!0,vt.__suppressDeprecationWarning=!0,gt.__suppressDeprecationWarning=!0;var mt={children:!0,key:!0,ref:!0},Ot=function(e){function t(e,n){var r;return ae(this,t),(r=de(this,fe(t).call(this,e,n))).state={},xt(e,r.state),r}return le(t,e),ue(t,[{key:"render",value:function(){return T.only(this.props.children)}},{key:"getChildContext",value:function(){var e={};return xt(this.context.mobxStores,e),xt(this.props,e),{mobxStores:e}}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(!e)return null;if(!t)return e;if(Object.keys(e).filter(jt).length!==Object.keys(t).filter(jt).length&&console.warn("MobX Provider: The set of provided stores has changed. Please avoid changing stores as the change might not propagate to all children"),!e.suppressChangedStoreWarning)for(var n in e)jt(n)&&t[n]!==e[n]&&console.warn("MobX Provider: Provided store '"+n+"' has changed. Please avoid replacing stores as the change might not propagate to all children");return e}}]),t}(c.a);function xt(e,t){if(e)for(var n in e)jt(n)&&(t[n]=e[n])}function jt(e){return!mt[e]&&"suppressChangedStoreWarning"!==e}if(Ot.contextTypes={mobxStores:Me},Ot.childContextTypes={mobxStores:Me.isRequired},function(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,r=null,o=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?r="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(r="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?o="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(o="UNSAFE_componentWillUpdate"),null!==n||null!==r||null!==o){var i=e.displayName||e.name,a="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+i+" uses "+a+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==r?"\n  "+r:"")+(null!==o?"\n  "+o:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=bt,t.componentWillReceiveProps=vt),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=gt;var c=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;c.call(this,e,t,r)}}}(Ot),Re("disposeOnUnmount"),!c.a)throw new Error("mobx-react requires React to be available");if(!a.F)throw new Error("mobx-react requires mobx to be available");if(Object(a.l)({reactionScheduler:re}),"object"===("undefined"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__?"undefined":ie(__MOBX_DEVTOOLS_GLOBAL_HOOK__))){var _t={spy:a.F,extras:{getDebugName:a.r}},wt={renderReporter:et,componentByNodeRegistry:$e,componentByNodeRegistery:$e,trackComponents:function(){if("undefined"==typeof WeakMap)throw new Error("[mobx-react] tracking components is not supported in this browser.");Ze||(Ze=!0)}};__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobxReact(wt,_t)}},function(e,t,n){"use strict";function r(e,t){return t*Math.round(e/t)||e}function o(e,t){return e%t}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r=function(e,t,n,r){var o=(t.y-e.y)*(r.x-n.x)-(e.x-t.x)*(n.y-r.y);if(0===o)return!1;var i=((t.x-e.x)*(r.x-n.x)*(n.y-e.y)+(t.y-e.y)*(r.x-n.x)*e.x-(r.y-n.y)*(t.x-e.x)*n.x)/o,a=-((t.y-e.y)*(r.y-n.y)*(n.x-e.x)+(t.x-e.x)*(r.y-n.y)*e.y-(r.x-n.x)*(t.y-e.y)*n.y)/o;return(i-e.x)*(i-t.x)<=0&&(a-e.y)*(a-t.y)<=0&&(i-n.x)*(i-r.x)<=0&&(a-n.y)*(a-r.y)<=0&&{x:i,y:a}},o=function(e,t,n){var r=e.x,o=e.y;return(r-t.x)*(r-n.x)<=0&&(o-t.y)*(o-n.y)<=0}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(29),o=n(10),i=n(30),a=Object.defineProperty,c={},u=function(e){throw e};e.exports=function(e,t){if(i(c,e))return c[e];t||(t={});var n=[][e],s=!!i(t,"ACCESSORS")&&t.ACCESSORS,l=i(t,0)?t[0]:u,f=i(t,1)?t[1]:void 0;return c[e]=!!n&&!o((function(){if(s&&!r)return!0;var e={length:-1};s?a(e,1,{enumerable:!0,get:u}):e[1]=1,n.call(e,l,f)}))}},function(e,t,n){"use strict";var r=n(74),o=n(143),i=n(90),a=n(98),c=n(145),u=a.set,s=a.getterFor("Array Iterator");e.exports=c(Array,"Array",(function(e,t){u(this,{type:"Array Iterator",target:r(e),index:0,kind:t})}),(function(){var e=s(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(e,t,n){var r=n(150),o=n(51),i=n(216);r||o(Object.prototype,"toString",i,{unsafe:!0})},function(e,n,r){"use strict";(function(e){var o=r(11),i=r(195),a=t&&!t.nodeType&&t,c=a&&"object"==typeof e&&e&&!e.nodeType&&e,u=c&&c.exports===a?o.a.Buffer:void 0,s=(u?u.isBuffer:void 0)||i.a;n.a=s}).call(this,r(152)(e))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){var t=e.x,n=void 0===t?0:t,a=e.y,c=void 0===a?0:a,u=e.r,s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({cx:n,cy:c,r:void 0===u?4:u,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape"},e);return Object(r.g)("circle",s)}},function(e,t,n){"use strict";var r=n(26),o=Object(r.a)(Object,"create"),i=function(){this.__data__=o?o(null):{},this.size=0},a=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},c=Object.prototype.hasOwnProperty,u=function(e){var t=this.__data__;if(o){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return c.call(t,e)?t[e]:void 0},s=Object.prototype.hasOwnProperty,l=function(e){var t=this.__data__;return o?void 0!==t[e]:s.call(t,e)},f=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=o&&void 0===t?"__lodash_hash_undefined__":t,this};function p(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}p.prototype.clear=i,p.prototype.delete=a,p.prototype.get=u,p.prototype.has=l,p.prototype.set=f;var d=p,h=n(59),y=n(61),b=function(){this.size=0,this.__data__={hash:new d,map:new(y.a||h.a),string:new d}},v=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e},g=function(e,t){var n=e.__data__;return v(t)?n["string"==typeof t?"string":"hash"]:n.map},m=function(e){var t=g(this,e).delete(e);return this.size-=t?1:0,t},O=function(e){return g(this,e).get(e)},x=function(e){return g(this,e).has(e)},j=function(e,t){var n=g(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function _(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}_.prototype.clear=b,_.prototype.delete=m,_.prototype.get=O,_.prototype.has=x,_.prototype.set=j,t.a=_},function(e,t,n){var r=n(89),o=n(45);e.exports=function(e){return r(o(e))}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(19),o=n(184),i=n(69),a=n(46),c=n(17),u=c("iterator"),s=c("toStringTag"),l=i.values;for(var f in o){var p=r[f],d=p&&p.prototype;if(d){if(d[u]!==l)try{a(d,u,l)}catch(e){d[u]=l}if(d[s]||a(d,s,f),o[f])for(var h in i)if(d[h]!==i[h])try{a(d,h,i[h])}catch(e){d[h]=i[h]}}}},function(e,t,n){"use strict";var r=n(5),o=n(109);r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},function(e,t,n){"use strict";t.a=function(e){return e}},function(e,t,n){"use strict";t.a=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t,n){"use strict";t.a=function(e){return function(t){return e(t)}}},function(e,t,n){"use strict";t.a=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},function(e,t,n){"use strict";var r=n(60),o=n(42);t.a=function(e,t){for(var n=0,i=(t=Object(r.a)(t,e)).length;null!=e&&n<i;)e=e[Object(o.a)(t[n++])];return n&&n==i?e:void 0}},function(e,t,n){"use strict";var r=n(6),o=n(58),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.a=function(e,t){if(Object(r.a)(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Object(o.a)(e))||a.test(e)||!i.test(e)||null!=t&&e in Object(t)}},function(e,t,n){"use strict";var r=n(63),o=n(73),i=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},a=function(e){return this.__data__.has(e)};function c(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new o.a;++t<n;)this.add(e[t])}c.prototype.add=c.prototype.push=i,c.prototype.has=a;var u=c,s=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},l=function(e,t){return e.has(t)},f=function(e,t,n,r,o,i){var a=1&n,c=e.length,f=t.length;if(c!=f&&!(a&&f>c))return!1;var p=i.get(e),d=i.get(t);if(p&&d)return p==t&&d==e;var h=-1,y=!0,b=2&n?new u:void 0;for(i.set(e,t),i.set(t,e);++h<c;){var v=e[h],g=t[h];if(r)var m=a?r(g,v,h,t,e,i):r(v,g,h,e,t,i);if(void 0!==m){if(m)continue;y=!1;break}if(b){if(!s(t,(function(e,t){if(!l(b,t)&&(v===e||o(v,e,n,r,i)))return b.push(t)}))){y=!1;break}}else if(v!==g&&!o(v,g,n,r,i)){y=!1;break}}return i.delete(e),i.delete(t),y},p=n(16),d=n(88),h=n(55),y=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n},b=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},v=p.a?p.a.prototype:void 0,g=v?v.valueOf:void 0,m=function(e,t,n,r,o,i,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new d.a(e),new d.a(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Object(h.a)(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var c=y;case"[object Set]":var u=1&r;if(c||(c=b),e.size!=t.size&&!u)return!1;var s=a.get(e);if(s)return s==t;r|=2,a.set(e,t);var l=f(c(e),c(t),r,o,i,a);return a.delete(e),l;case"[object Symbol]":if(g)return g.call(e)==g.call(t)}return!1},O=n(94),x=Object.prototype.hasOwnProperty,j=function(e,t,n,r,o,i){var a=1&n,c=Object(O.a)(e),u=c.length;if(u!=Object(O.a)(t).length&&!a)return!1;for(var s=u;s--;){var l=c[s];if(!(a?l in t:x.call(t,l)))return!1}var f=i.get(e),p=i.get(t);if(f&&p)return f==t&&p==e;var d=!0;i.set(e,t),i.set(t,e);for(var h=a;++s<u;){var y=e[l=c[s]],b=t[l];if(r)var v=a?r(b,y,l,t,e,i):r(y,b,l,e,t,i);if(!(void 0===v?y===b||o(y,b,n,r,i):v)){d=!1;break}h||(h="constructor"==l)}if(d&&!h){var g=e.constructor,m=t.constructor;g==m||!("constructor"in e)||!("constructor"in t)||"function"==typeof g&&g instanceof g&&"function"==typeof m&&m instanceof m||(d=!1)}return i.delete(e),i.delete(t),d},_=n(47),w=n(6),E=n(71),S=n(128),P="[object Object]",A=Object.prototype.hasOwnProperty,k=function(e,t,n,o,i,a){var c=Object(w.a)(e),u=Object(w.a)(t),s=c?"[object Array]":Object(_.a)(e),l=u?"[object Array]":Object(_.a)(t),p=(s="[object Arguments]"==s?P:s)==P,d=(l="[object Arguments]"==l?P:l)==P,h=s==l;if(h&&Object(E.a)(e)){if(!Object(E.a)(t))return!1;c=!0,p=!1}if(h&&!p)return a||(a=new r.a),c||Object(S.a)(e)?f(e,t,n,o,i,a):m(e,t,s,n,o,i,a);if(!(1&n)){var y=p&&A.call(e,"__wrapped__"),b=d&&A.call(t,"__wrapped__");if(y||b){var v=y?e.value():e,g=b?t.value():t;return a||(a=new r.a),i(v,g,n,o,a)}}return!!h&&(a||(a=new r.a),j(e,t,n,o,i,a))},D=n(24);t.a=function e(t,n,r,o,i){return t===n||(null==t||null==n||!Object(D.a)(t)&&!Object(D.a)(n)?t!=t&&n!=n:k(t,n,r,o,e,i))}},function(e,t,n){"use strict";var r=n(38),o=n(24),i=function(e){return Object(o.a)(e)&&"[object Arguments]"==Object(r.a)(e)},a=Object.prototype,c=a.hasOwnProperty,u=a.propertyIsEnumerable,s=i(function(){return arguments}())?i:function(e){return Object(o.a)(e)&&c.call(e,"callee")&&!u.call(e,"callee")};t.a=s},function(e,t,n){"use strict";var r=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i},o=n(124),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,c=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return i.call(e,t)})))}:o.a;t.a=c},function(e,t,n){"use strict";var r=n(26),o=function(){try{var e=Object(r.a)(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();t.a=o},function(e,t,n){"use strict";var r=n(11).a.Uint8Array;t.a=r},function(e,t,n){var r=n(10),o=n(67),i="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?i.call(e,""):Object(e)}:Object},function(e,t){e.exports={}},function(e,t,n){"use strict";var r=n(29),o=n(19),i=n(139),a=n(51),c=n(30),u=n(67),s=n(182),l=n(97),f=n(10),p=n(104),d=n(165).f,h=n(95).f,y=n(34).f,b=n(222).trim,v=o.Number,g=v.prototype,m="Number"==u(p(g)),O=function(e){var t,n,r,o,i,a,c,u,s=l(e,!1);if("string"==typeof s&&s.length>2)if(43===(t=(s=b(s)).charCodeAt(0))||45===t){if(88===(n=s.charCodeAt(2))||120===n)return NaN}else if(48===t){switch(s.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+s}for(a=(i=s.slice(2)).length,c=0;c<a;c++)if((u=i.charCodeAt(c))<48||u>o)return NaN;return parseInt(i,r)}return+s};if(i("Number",!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var x,j=function e(t){var n=arguments.length<1?0:t,r=this;return r instanceof e&&(m?f((function(){g.valueOf.call(r)})):"Number"!=u(r))?s(new v(O(n)),r,e):O(n)},_=r?d(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),w=0;_.length>w;w++)c(v,x=_[w])&&!c(j,x)&&y(j,x,h(v,x));j.prototype=g,g.constructor=j,a(o,"Number",j)}},function(e,t,n){n(5)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return O})),n(23);var r,o,i=n(0),a=n(52),c=n(2);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h,y,b,v,g,m,O=(o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(i,e);var t,n,r,o=f(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,e,t,"line")).modelType=c.e.LINE_EDGE,n}return t=i,(n=[{key:"textPosition",get:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&s(t.prototype,n),r&&s(t,r),i}(a.b),h=(r=o).prototype,y="textPosition",b=[i.k],v=Object.getOwnPropertyDescriptor(r.prototype,"textPosition"),g=r.prototype,m={},Object.keys(v).forEach((function(e){m[e]=v[e]})),m.enumerable=!!m.enumerable,m.configurable=!!m.configurable,("value"in m||m.initializer)&&(m.writable=!0),m=b.slice().reverse().reduce((function(e,t){return t(h,y,e)||e}),m),g&&void 0!==m.initializer&&(m.value=m.initializer?m.initializer.call(g):void 0,m.initializer=void 0),void 0===m.initializer&&(Object.defineProperty(h,y,m),m=null),r)},function(e,t,n){"use strict";var r=n(125),o=n(86),i=n(32);t.a=function(e){return Object(r.a)(e,i.a,o.a)}},function(e,t,n){var r=n(29),o=n(160),i=n(96),a=n(74),c=n(97),u=n(30),s=n(161),l=Object.getOwnPropertyDescriptor;t.f=r?l:function(e,t){if(e=a(e),t=c(t,!0),s)try{return l(e,t)}catch(e){}if(u(e,t))return i(!o.f.call(e,t),e[t])}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(33);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r,o,i,a=n(200),c=n(19),u=n(33),s=n(46),l=n(30),f=n(133),p=n(134),d=n(99),h=c.WeakMap;if(a){var y=f.state||(f.state=new h),b=y.get,v=y.has,g=y.set;r=function(e,t){return t.facade=e,g.call(y,e,t),t},o=function(e){return b.call(y,e)||{}},i=function(e){return v.call(y,e)}}else{var m=p("state");d[m]=!0,r=function(e,t){return t.facade=e,s(e,m,t),t},o=function(e){return l(e,m)?e[m]:{}},i=function(e){return l(e,m)}}e.exports={set:r,get:o,has:i,enforce:function(e){return i(e)?o(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!u(t)||(n=o(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},function(e,t){e.exports={}},function(e,t,n){var r=n(203),o=n(19),i=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?i(r[e])||i(o[e]):r[e]&&r[e][t]||o[e]&&o[e][t]}},function(e,t,n){var r=n(102),o=n(89),i=n(36),a=n(35),c=n(141),u=[].push,s=function(e){var t=1==e,n=2==e,s=3==e,l=4==e,f=6==e,p=7==e,d=5==e||f;return function(h,y,b,v){for(var g,m,O=i(h),x=o(O),j=r(y,b,3),_=a(x.length),w=0,E=v||c,S=t?E(h,_):n||p?E(h,0):void 0;_>w;w++)if((d||w in x)&&(m=j(g=x[w],w,O),e))if(t)S[w]=m;else if(m)switch(e){case 3:return!0;case 5:return g;case 6:return w;case 2:u.call(S,g)}else switch(e){case 4:return!1;case 7:u.call(S,g)}return f?-1:s||l?l:S}};e.exports={forEach:s(0),map:s(1),filter:s(2),some:s(3),every:s(4),find:s(5),findIndex:s(6),filterOut:s(7)}},function(e,t,n){var r=n(140);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){"use strict";var r=n(10);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},function(e,t,n){var r,o=n(25),i=n(205),a=n(138),c=n(99),u=n(206),s=n(162),l=n(134)("IE_PROTO"),f=function(){},p=function(e){return"<script>"+e+"<\/script>"},d=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;d=r?function(e){e.write(p("")),e.close();var t=e.parentWindow.Object;return e=null,t}(r):((t=s("iframe")).style.display="none",u.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(p("document.F=Object")),e.close(),e.F);for(var n=a.length;n--;)delete d.prototype[a[n]];return d()};c[l]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(f.prototype=o(e),n=new f,f.prototype=null,n[l]=e):n=d(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(10),o=n(17),i=n(149),a=o("species");e.exports=function(e){return i>=51||!r((function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},function(e,t,n){"use strict";var r=n(211),o=n(213);e.exports=r("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),o)},function(e,t,n){"use strict";var r=n(183).charAt,o=n(98),i=n(145),a=o.set,c=o.getterFor("String Iterator");i(String,"String",(function(e){a(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=c(this),n=t.string,o=t.index;return o>=n.length?{value:void 0,done:!0}:(e=r(n,o),t.index+=e.length,{value:e,done:!1})}))},function(e,t,n){"use strict";var r=n(5),o=n(137),i=n(75),a=n(35),c=n(36),u=n(141),s=n(151),l=n(105),f=n(68),p=l("splice"),d=f("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,y=Math.min;r({target:"Array",proto:!0,forced:!p||!d},{splice:function(e,t){var n,r,l,f,p,d,b=c(this),v=a(b.length),g=o(e,v),m=arguments.length;if(0===m?n=r=0:1===m?(n=0,r=v-g):(n=m-2,r=y(h(i(t),0),v-g)),v+n-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(l=u(b,r),f=0;f<r;f++)(p=g+f)in b&&s(l,f,b[p]);if(l.length=r,n<r){for(f=g;f<v-r;f++)d=f+n,(p=f+r)in b?b[d]=b[p]:delete b[d];for(f=v;f>v-r+n;f--)delete b[f-1]}else if(n>r)for(f=v-r;f>g;f--)d=f+n-1,(p=f+r-1)in b?b[d]=b[p]:delete b[d];for(f=0;f<n;f++)b[f+g]=arguments[f+2];return b.length=v-r+n,l}})},function(e,t,n){"use strict";var r,o,i=n(186),a=n(224),c=RegExp.prototype.exec,u=String.prototype.replace,s=c,l=(r=/a/,o=/b*/g,c.call(r,"a"),c.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),f=a.UNSUPPORTED_Y||a.BROKEN_CARET,p=void 0!==/()??/.exec("")[1];(l||p||f)&&(s=function(e){var t,n,r,o,a=this,s=f&&a.sticky,d=i.call(a),h=a.source,y=0,b=e;return s&&(-1===(d=d.replace("y","")).indexOf("g")&&(d+="g"),b=String(e).slice(a.lastIndex),a.lastIndex>0&&(!a.multiline||a.multiline&&"\n"!==e[a.lastIndex-1])&&(h="(?: "+h+")",b=" "+b,y++),n=new RegExp("^(?:"+h+")",d)),p&&(n=new RegExp("^"+h+"$(?!\\s)",d)),l&&(t=a.lastIndex),r=c.call(s?n:a,b),s?r?(r.input=r.input.slice(y),r[0]=r[0].slice(y),r.index=a.lastIndex,a.lastIndex+=r[0].length):a.lastIndex=0:l&&r&&(a.lastIndex=a.global?r.index+r[0].length:t),p&&r&&r.length>1&&u.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r}),e.exports=s},function(e,t,n){"use strict";var r=n(5),o=n(89),i=n(74),a=n(103),c=[].join,u=o!=Object,s=a("join",",");r({target:"Array",proto:!0,forced:u||!s},{join:function(e){return c.call(i(this),void 0===e?",":e)}})},function(e,t,n){"use strict";n.d(t,"b",(function(){return _})),n.d(t,"a",(function(){return _})),n(69),n(23),n(70),n(76);var r,o,i,a,c,u,s,l,f,p,d,h,y,b=n(0),v=n(28),g=n(44);function m(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var j={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustNodePosition:!1,hideAnchors:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1,metaKeyMultipleSelected:!1},_=(o=x((r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),m(this,"stopZoomGraph",o,this),m(this,"stopScrollGraph",i,this),m(this,"stopMoveGraph",a,this),m(this,"adjustEdge",c,this),m(this,"adjustNodePosition",u,this),m(this,"hideAnchors",s,this),m(this,"hoverOutline",l,this),m(this,"nodeTextEdit",f,this),m(this,"edgeTextEdit",p,this),m(this,"nodeTextDraggable",d,this),m(this,"edgeTextDraggable",h,this),m(this,"metaKeyMultipleSelected",y,this),this.extraConf={},this.keys=void 0,this.keys=["stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustNodePosition","hideAnchors","hoverOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","metaKeyMultipleSelected","extraConf"];var n=t.isSilentMode,r=t.textEdit;n?Object(v.a)(this,Object(g.a)(j,this.keys),Object(g.a)(t,["stopZoomGraph","stopScrollGraph","stopMoveGraph","hideAnchors","hoverOutline","extraConf"])):r?Object(v.a)(this,Object(g.a)(t,this.keys)):Object(v.a)(this,Object(g.a)(t,this.keys),{nodeTextEdit:!1,edgeTextEdit:!1})}var t,n,r;return t=e,(n=[{key:"updateEditConfig",value:function(e){Object(v.a)(this,Object(g.a)(e,this.keys))}},{key:"getConfig",value:function(){return Object(g.a)(this,this.keys)}}])&&O(t.prototype,n),r&&O(t,r),e}()).prototype,"stopZoomGraph",[b.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=x(r.prototype,"stopScrollGraph",[b.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),a=x(r.prototype,"stopMoveGraph",[b.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),c=x(r.prototype,"adjustEdge",[b.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),u=x(r.prototype,"adjustNodePosition",[b.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),s=x(r.prototype,"hideAnchors",[b.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),l=x(r.prototype,"hoverOutline",[b.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),f=x(r.prototype,"nodeTextEdit",[b.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),p=x(r.prototype,"edgeTextEdit",[b.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),d=x(r.prototype,"nodeTextDraggable",[b.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),h=x(r.prototype,"edgeTextDraggable",[b.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),y=x(r.prototype,"metaKeyMultipleSelected",[b.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x(r.prototype,"updateEditConfig",[b.i],Object.getOwnPropertyDescriptor(r.prototype,"updateEditConfig"),r.prototype),r)},function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n(23);var r,o,i,a,c,u,s,l,f=n(0);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var v=(o=b((r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.MINI_SCALE_SIZE=.2,this.MAX_SCALE_SIZE=16,h(this,"SCALE_X",o,this),h(this,"SKEW_Y",i,this),h(this,"SKEW_X",a,this),h(this,"SCALE_Y",c,this),h(this,"TRANSLATE_X",u,this),h(this,"TRANSLATE_Y",s,this),h(this,"ZOOM_SIZE",l,this)}var t,n,r;return t=e,(n=[{key:"setZoomMiniSize",value:function(e){this.MINI_SCALE_SIZE=e}},{key:"setZoomMaxSize",value:function(e){this.MAX_SCALE_SIZE=e}},{key:"HtmlPointToCanvasPoint",value:function(e){var t=p(e,2),n=t[0],r=t[1];return[(n-this.TRANSLATE_X)/this.SCALE_X,(r-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(e){var t=p(e,2),n=t[0],r=t[1];return[n*this.SCALE_X+this.TRANSLATE_X,r*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(e,t,n){var r=p(e,2),o=r[0],i=r[1];return[o+t/this.SCALE_X,i+n/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(e,t){return[e/this.SCALE_X,t/this.SCALE_Y]}},{key:"zoom",value:function(){var e=arguments.length>1?arguments[1]:void 0,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this.ZOOM_SIZE:-this.ZOOM_SIZE;return!(t<0&&this.SCALE_X<=this.MINI_SCALE_SIZE||t>0&&this.SCALE_X>=this.MAX_SCALE_SIZE||(this.SCALE_X+=t,this.SCALE_Y+=t,e&&(this.TRANSLATE_X-=t*e[0],this.TRANSLATE_Y-=t*e[1]),0))}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1}},{key:"translate",value:function(e,t){this.TRANSLATE_X+=e,this.TRANSLATE_Y+=t}},{key:"focusOn",value:function(e,t,n,r){var o=p(this.CanvasPointToHtmlPoint([e,t]),2),i=n/2-o[0],a=r/2-o[1];this.TRANSLATE_X+=i,this.TRANSLATE_Y+=a}}])&&y(t.prototype,n),r&&y(t,r),e}()).prototype,"SCALE_X",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),i=b(r.prototype,"SKEW_Y",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),a=b(r.prototype,"SKEW_X",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),c=b(r.prototype,"SCALE_Y",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),u=b(r.prototype,"TRANSLATE_X",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),s=b(r.prototype,"TRANSLATE_Y",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),l=b(r.prototype,"ZOOM_SIZE",[f.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.04}}),b(r.prototype,"zoom",[f.i],Object.getOwnPropertyDescriptor(r.prototype,"zoom"),r.prototype),b(r.prototype,"resetZoom",[f.i],Object.getOwnPropertyDescriptor(r.prototype,"resetZoom"),r.prototype),b(r.prototype,"translate",[f.i],Object.getOwnPropertyDescriptor(r.prototype,"translate"),r.prototype),b(r.prototype,"focusOn",[f.i],Object.getOwnPropertyDescriptor(r.prototype,"focusOn"),r.prototype),r)},function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return j})),n(39),n(21),n(110),n(37),n(108),n(157),n(23),n(22);var r,o,i,a=n(0),c=n(2),u=n(7),s=n(3),l=n(4);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t,n){return(y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=O(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var j=(i=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(a,e);var t,n,r,i=v(a);function a(e,t){var n,r,s,l,f;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e,t,"polyline")).modelType=c.e.POLYLINE_EDGE,n.offset=u.a.polyline.offset,n.draginngPointList=void 0,r=n,s="dbClickPosition",l=o,f=m(n),l&&Object.defineProperty(r,s,{enumerable:l.enumerable,configurable:l.configurable,writable:l.writable,value:l.initializer?l.initializer.call(f):void 0}),n}return t=a,(n=[{key:"getAfterAnchor",value:function(e,t,n){var r,o;return n.forEach((function(n){var i;e===c.f.HORIZONTAL?i=Math.abs(t.y-n.y):e===c.f.VERTICAL&&(i=Math.abs(t.x-n.x)),(!o||o>i)&&(o=i,r=n)})),r}},{key:"getCorssPoint",value:function(e,t,n){var r;return e===c.f.HORIZONTAL?r={x:n.x,y:t.y}:e===c.f.VERTICAL&&(r={x:t.x,y:n.y}),r}},{key:"removeCrossPoints",value:function(e,t,n){var r=n.map((function(e){return e}));if(1===e){var o=r[e],i=r[t],a=r[e-1];if(Object(l.l)(a,o,this.sourceNode)){if(Object(l.k)(o,i,this.sourceNode)){var c=Object(l.g)(o,i,this.sourceNode);c&&(r[e]=c,r.splice(e-1,1),e--,t--)}}else this.sourceNode.anchors.forEach((function(t){(t.x===a.x&&t.x===o.x||t.y===a.y&&t.y===o.y)&&Object(s.a)(t.x,t.y,o.x,o.y)<Object(s.a)(a.x,a.y,o.x,o.y)&&(r[e-1]=t)}))}if(t===n.length-2){var u=r[e],f=r[t],p=r[t+1];if(Object(l.l)(f,p,this.targetNode)){if(Object(l.k)(u,f,this.targetNode)){var d=Object(l.g)(u,f,this.targetNode);d&&(r[t]=d,r.splice(t+1,1))}}else this.targetNode.anchors.forEach((function(e){(e.x===p.x&&e.x===f.x||e.y===p.y&&e.y===f.y)&&Object(s.a)(e.x,e.y,f.x,f.y)<Object(s.a)(p.x,p.y,f.x,f.y)&&(r[t+1]=e)}))}return r}},{key:"getDragingPoints",value:function(e,t,n,r,o){var i=o.map((function(e){return e})),a=this.getAfterAnchor(e,n,r),c=this.getCorssPoint(e,n,a);return"start"===t?(i.unshift(c),i.unshift(a)):(i.push(c),i.push(a)),i}},{key:"updateCrossPoints",value:function(e){var t=e.map((function(e){return e})),n=e[0],r=e[1],o=e[t.length-2],i=e[t.length-1],a=this.sourceNode,u=this.targetNode,f=a.modelType,p=u.modelType,d=Object(l.p)(n,r),h=t[0];switch(f){case c.e.RECT_NODE:0!==a.radius&&(Object(s.i)(n,a)||(h=Object(s.c)(n,d,a)));break;case c.e.CIRCLE_NODE:h=Object(s.d)(n,d,a);break;case c.e.ELLIPSE_NODE:h=Object(s.e)(n,d,a);break;case c.e.DIAMOND_NODE:case c.e.POLYGON_NODE:h=Object(s.f)(n,d,a)}t[0]=h;var y=Object(l.p)(o,i),b=t[t.length-1];switch(p){case c.e.RECT_NODE:0!==u.radius&&(Object(s.i)(i,u)||(b=Object(s.c)(i,y,u)));break;case c.e.CIRCLE_NODE:b=Object(s.d)(i,y,u);break;case c.e.ELLIPSE_NODE:b=Object(s.e)(i,y,u);break;case c.e.DIAMOND_NODE:case c.e.POLYGON_NODE:b=Object(s.f)(i,y,u)}return t[t.length-1]=b,t}},{key:"getData",value:function(){var e=y(O(a.prototype),"getData",this).call(this),t=this.pointsList.map((function(e){return{x:e.x,y:e.y}}));return Object.assign({},e,{pointsList:t})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map((function(e){return"".concat(e.x,",").concat(e.y)})).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var e=Object(l.j)({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=e,this.points=e.map((function(e){return"".concat(e.x,",").concat(e.y)})).join(" ")}},{key:"updateStartPoint",value:function(e){this.startPoint=e,this.updatePoints()}},{key:"updateEndPoint",value:function(e){this.endPoint=e,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draginngPointList=this.pointsList.map((function(e){return e}))}},{key:"dragAppend",value:function(e,t){var n=e.start,r=e.end,o=e.startIndex,i=e.endIndex,a=e.direction,u=this.pointsList;if(a===c.f.HORIZONTAL){u[o]={x:n.x,y:n.y+t.y},u[i]={x:r.x,y:r.y+t.y};var f=this.pointsList.map((function(e){return e}));if(0!==o&&i!==this.pointsList.length-1&&(f=this.removeCrossPoints(o,i,f)),0===o){var p={x:n.x,y:n.y+t.y};if(!Object(s.j)(p,this.sourceNode)){var d=this.sourceNode.anchors;f=this.getDragingPoints(a,"start",p,d,f)}}if(i===this.pointsList.length-1){var h={x:r.x,y:r.y+t.y};if(!Object(s.j)(h,this.targetNode)){var y=this.targetNode.anchors;f=this.getDragingPoints(a,"end",h,y,f)}}f=Object(l.o)(f),this.updatePointsAfterDrage(f),this.draginngPointList=f}else if(a===c.f.VERTICAL){u[o]={x:n.x+t.x,y:n.y},u[i]={x:r.x+t.x,y:r.y};var b=this.pointsList.map((function(e){return e}));if(0!==o&&i!==this.pointsList.length-1&&(b=this.removeCrossPoints(o,i,b)),0===o){var v={x:n.x+t.x,y:n.y};if(!Object(s.j)(v,this.sourceNode)){var g=this.sourceNode.anchors;b=this.getDragingPoints(a,"start",v,g,b)}}if(i===this.pointsList.length-1){var m={x:r.x+t.x,y:r.y};if(!Object(s.j)(m,this.targetNode)){var O=this.targetNode.anchors;b=this.getDragingPoints(a,"end",m,O,b)}}b=Object(l.o)(b),this.updatePointsAfterDrage(b),this.draginngPointList=b}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},u[o]),end:Object.assign({},u[i]),startIndex:o,endIndex:i,direction:a}}},{key:"dragAppendEnd",value:function(){if(this.draginngPointList){var e=Object(l.n)(this.points);this.pointsList=e.map((function(e){return e})),this.draginngPointList=[];var t=e[0];this.startPoint=Object.assign({},t);var n=e[e.length-1];this.endPoint=Object.assign({},n)}}},{key:"updatePointsAfterDrage",value:function(e){var t=this.updateCrossPoints(e);this.points=t.map((function(e){return"".concat(e.x,",").concat(e.y)})).join(" ")}},{key:"textPosition",get:function(){var e,t=null===(e=this.text)||void 0===e?void 0:e.value;if(this.dbClickPosition&&!t){var n=this.dbClickPosition;return{x:n.x,y:n.y}}var r=Object(l.n)(this.points),o=p(Object(l.i)(r),2),i=o[0],a=o[1];return{x:(i.x+a.x)/2,y:(i.y+a.y)/2}}}])&&h(t.prototype,n),r&&h(t,r),a}(n(52).b),o=x((r=i).prototype,"dbClickPosition",[a.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x(r.prototype,"textPosition",[a.k],Object.getOwnPropertyDescriptor(r.prototype,"textPosition"),r.prototype),x(r.prototype,"initPoints",[a.i],Object.getOwnPropertyDescriptor(r.prototype,"initPoints"),r.prototype),x(r.prototype,"updatePoints",[a.i],Object.getOwnPropertyDescriptor(r.prototype,"updatePoints"),r.prototype),x(r.prototype,"updateStartPoint",[a.i],Object.getOwnPropertyDescriptor(r.prototype,"updateStartPoint"),r.prototype),x(r.prototype,"updateEndPoint",[a.i],Object.getOwnPropertyDescriptor(r.prototype,"updateEndPoint"),r.prototype),x(r.prototype,"dragAppendStart",[a.i],Object.getOwnPropertyDescriptor(r.prototype,"dragAppendStart"),r.prototype),x(r.prototype,"dragAppend",[a.i],Object.getOwnPropertyDescriptor(r.prototype,"dragAppend"),r.prototype),x(r.prototype,"dragAppendEnd",[a.i],Object.getOwnPropertyDescriptor(r.prototype,"dragAppendEnd"),r.prototype),x(r.prototype,"updatePointsAfterDrage",[a.i],Object.getOwnPropertyDescriptor(r.prototype,"updatePointsAfterDrage"),r.prototype),r)},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var r=n(28);function o(e){var t=e.container,n=e.grid;if(!t)throw new Error("\u8bf7\u68c0\u67e5 container \u53c2\u6570\u662f\u5426\u6709\u6548");return n&&(e.grid=Object(r.a)({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),Object(r.a)({},i,e)}var i={background:!1,grid:!1,textEdit:!0}},function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return b})),n(23);var r,o,i,a,c=n(0),u=n(28),s=n(7),l=n(3);function f(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),e}function h(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var y=s.a.snapline,b=(o=h((r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.graphModel=void 0,f(this,"isShowHorizontal",o,this),f(this,"isShowVertical",i,this),f(this,"position",a,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=t}return d(e,[{key:"stroke",get:function(){return this.graphModel.theme.snapline.stroke||y.stroke}},{key:"strokeWidth",get:function(){return this.graphModel.theme.snapline.strokeWidth||y.strokeWidth}}]),d(e,[{key:"getCenterSnapLine",value:function(e,t){for(var n=e.x,r=e.y,o=!1,i=!1,a=0;a<t.length;a++){var c=t[a];if(c.id!==e.id&&(n===c.x&&(o=!0),r===c.y&&(i=!0),o&&i))break}return{isShowVertical:o,isShowHorizontal:i,position:{x:n,y:r}}}},{key:"getHorizontalSnapline",value:function(e,t){var n,r,o=!1,i=e.id;if(i){var a=this.graphModel.fakerNode;if(a&&a.id===i)r=Object(l.h)(a);else{var c=this.graphModel.getNodeModel(i);r=Object(l.h)(c)}}for(var s=0;s<t.length;s++){var f=t[s];if(f.id!==e.id){var p=Object(l.h)(f);if(p.minY===r.minY||p.maxY===r.minY){o=!0,n=r.minY;break}if(p.minY===r.maxY||p.maxY===r.maxY){o=!0,n=r.maxY;break}}}return Object(u.a)({isShowHorizontal:o,position:{y:n}})}},{key:"getVerticalSnapline",value:function(e,t){var n,r,o=!1,i=e.id;if(i){var a=this.graphModel.fakerNode;if(a&&a.id===i)r=Object(l.h)(a);else{var c=this.graphModel.getNodeModel(i);r=Object(l.h)(c)}}for(var s=0;s<t.length;s++){var f=t[s];if(f.id!==e.id){var p=Object(l.h)(f);if(p.minX===r.minX||p.maxX===r.minX){o=!0,n=r.minX;break}if(p.minX===r.maxX||p.maxX===r.maxX){o=!0,n=r.maxX;break}}}return Object(u.a)({isShowVertical:o,position:{x:n}})}},{key:"getSnapLinePosition",value:function(e,t){var n=this.getCenterSnapLine(e,t),r=n.isShowHorizontal,o=n.isShowVertical;if(!r){var i=this.getHorizontalSnapline(e,t);i.isShowHorizontal&&(n.isShowHorizontal=i.isShowHorizontal,n.position.y=i.position.y)}if(!o){var a=this.getVerticalSnapline(e,t);a.isShowVertical&&(n.isShowVertical=a.isShowVertical,n.position.x=a.position.x)}return n}},{key:"setSnaplineInfo",value:function(e){var t=e.isShowHorizontal,n=e.isShowVertical,r=e.position;this.position=r,this.isShowHorizontal=t,this.isShowVertical=n}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(e){var t=this.graphModel.nodes,n=this.getSnapLinePosition(e,t);this.setSnaplineInfo(n)}}]),e}()).prototype,"isShowHorizontal",[c.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i=h(r.prototype,"isShowVertical",[c.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=h(r.prototype,"position",[c.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h(r.prototype,"stroke",[c.k],Object.getOwnPropertyDescriptor(r.prototype,"stroke"),r.prototype),h(r.prototype,"strokeWidth",[c.k],Object.getOwnPropertyDescriptor(r.prototype,"strokeWidth"),r.prototype),h(r.prototype,"clearSnapline",[c.i],Object.getOwnPropertyDescriptor(r.prototype,"clearSnapline"),r.prototype),h(r.prototype,"setNodeSnapLine",[c.i],Object.getOwnPropertyDescriptor(r.prototype,"setNodeSnapLine"),r.prototype),r)},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n(21),n(69),n(37),n(70),n(77),n(188),n(22),n(76);var r=n(6),o=n(199),i=n.n(o);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mousetrap=void 0,this.options=void 0,this.target=void 0,t.keyboard||(t.keyboard={enabled:!1}),this.options=t;var n=t.lf;this.target=n.container,this.mousetrap=new i.a(this.target),t.keyboard.enabled&&this.enable(!0)}var t,n,o;return t=e,(n=[{key:"initShortcuts",value:function(){var e=this,t=this.options.keyboard.shortcuts;if(t)if(Object(r.a)(t))t.forEach((function(t){var n=t.keys,r=t.callback,o=t.action;return e.on(n,r,o)}));else{var n=t.keys,o=t.callback,i=t.action;this.on(n,o,i)}}},{key:"on",value:function(e,t,n){this.mousetrap.bind(this.getKeys(e),t,n)}},{key:"off",value:function(e,t){this.mousetrap.unbind(this.getKeys(e),t)}},{key:"enable",value:function(e){(this.disabled||e)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(e){var t=this;return(Array.isArray(e)?e:[e]).map((function(e){return t.formatkey(e)}))}},{key:"formatkey",value:function(e){return e.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}},{key:"disabled",get:function(){return!0!==this.options.keyboard.enabled}}])&&a(t.prototype,n),o&&a(t,o),e}();t.b=c},function(e,t,n){"use strict";n.d(t,"a",(function(){return cn})),n(21),n(142),n(69),n(37),n(210),n(106),n(70),n(107),n(22),n(76);var r=n(1),o=n(64),i=n(118),a=n(240),c=(n(13),n(14),n(2)),u=n(20);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(110);var v=n(15);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _(this,n)}}function _(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var E,S,P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(a,e);var t,n,o,i=j(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).stepDrag=void 0,t.stepScrollX=0,t.stepScrollY=0,t.onDraging=function(e){var n=e.deltaX,r=e.deltaY;t.setState({isDraging:!0});var o=t.props.graphModel,i=o.transformMatrix;o.editConfig.stopMoveGraph||(i.TRANSLATE_X+=n,i.TRANSLATE_Y+=r)},t.onDragEnd=function(){t.setState({isDraging:!1})},t.zoomHandler=function(e){var n=t.props,r=n.graphModel,o=r.editConfig,i=r.transformMatrix,a=r.gridSize,c=n.graphModel,u=e.deltaX,s=e.deltaY;if(o.stopScrollGraph||!0===e.ctrlKey){if(!o.stopZoomGraph){e.preventDefault();var l=c.getPointByClient({x:e.clientX,y:e.clientY}).canvasOverlayPosition,f=l.x,p=l.y;i.zoom(e.deltaY<0,[f,p])}}else{if(e.preventDefault(),t.stepScrollX+=u,t.stepScrollY+=s,Math.abs(t.stepScrollX)>=a){var d=t.stepScrollX%a,h=t.stepScrollX-d;i.TRANSLATE_X-=h*i.SCALE_X,t.stepScrollX=d}if(Math.abs(t.stepScrollY)>=a){var y=t.stepScrollY%a,b=t.stepScrollY-y;i.TRANSLATE_Y-=b*i.SCALE_Y,t.stepScrollY=y}}},t.clickHandler=function(e){if("canvas-overlay"===e.target.getAttribute("name")){var n=t.props,r=n.graphModel,o=n.eventCenter,i=r.textEditElement;r.selectElements.size>0&&r.clearSelectElements(),i&&i.setElementState(c.b.DEFAULT),o.emit(c.d.BLANK_CLICK,{e:e})}},t.handleContextMenu=function(e){if("canvas-overlay"===e.target.getAttribute("name")){e.preventDefault();var n=t.props,r=n.graphModel,o=n.eventCenter,i=r.getPointByClient({x:e.clientX,y:e.clientY});r.setElementState(c.b.SHOW_MENU,i.domOverlayPosition),o.emit(c.d.BLANK_CONTEXTMENU,{e:e,position:i})}},t.mouseDownHandler=function(e){var n=t.props,r=n.eventCenter,o=n.graphModel,i=o.editConfig,a=o.transformMatrix.SCALE_X,u=o.gridSize;i.stopMoveGraph?r.emit(c.d.BLANK_MOUSEDOWN,{e:e}):(t.stepDrag.setStep(u*a),t.stepDrag.handleMouseDown(e)),t.clickHandler(e)};var n=e.graphModel.gridSize,r=e.eventCenter;return t.stepDrag=new u.a({onDraging:t.onDraging,onDragEnd:t.onDragEnd,step:n,eventType:"BLANK",eventCenter:r,model:null}),t.state={isDraging:!1},t}return t=a,(n=[{key:"render",value:function(){var e=this.InjectedProps.transformStyle.transform,t=this.props,n=t.children,o=t.dnd,i=this.state.isDraging;return Object(r.g)("svg",m({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:i?"lf-dragging":"lf-drag-able"},o.eventMap()),Object(r.g)("g",{transform:e},n))}},{key:"InjectedProps",get:function(){return this.props}}])&&O(t.prototype,n),o&&O(t,o),a}(r.a),A=Object(v.observer)((E=P,function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(a,e);var t,n,o,i=h(a);function a(){return f(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"getMatrixString",value:function(){var e=this.props.graphModel.transformMatrix,t=[e.SCALE_X,e.SKEW_Y,e.SKEW_X,e.SCALE_Y,e.TRANSLATE_X,e.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(t,")"),transformOrigin:"left top"}}},{key:"render",value:function(){return Object(r.g)(E,l({},this.props,{transformStyle:this.getMatrixString()}))}}])&&p(t.prototype,n),o&&p(t,o),a}(r.a)));function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R(e);if(t){var o=R(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return C(this,n)}}function C(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(39);var I=Object(v.observer)(S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(a,e);var t,n,o,i=T(a);function a(){var e;D(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).setToolOverlayRef=function(t){var n=e.props.tool.getInstance();n.components.forEach((function(e){return e(n,t)})),n.components=[]},e}return t=a,(n=[{key:"getTools",value:function(){var e=this.props,t=e.tool,n=e.graphModel,o=t.getTools().map((function(e){return Object(r.g)(e,{graphModel:n,logicFlow:t.instance})}));return t.components=o,o}},{key:"render",value:function(){return Object(r.g)("div",{className:"lf-tool-overlay",ref:this.setToolOverlayRef},this.getTools())}}])&&N(t.prototype,n),o&&N(t,o),a}(r.a))||S;function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=X(e);if(t){var o=X(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return G(this,n)}}function G(e,t){return!t||"object"!==L(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(231);var Y,V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(a,e);var t,n,o,i=U(a);function a(){return z(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"getAttributes",value:function(){var e=this.props.background,t=e.image,n=void 0===t?"":t,r=e.color,o=void 0===r?"":r,i=e.repeat,a=void 0===i?"no-repeat":i,c=e.position,u=void 0===c?"center":c,s=e.size,l=void 0===s?"auto auto":s,f=e.opacity,p=void 0===f?1:f;return o?{color:o,opacity:p,image:"none"}:n?{image:"url(".concat(n,")"),repeat:a,position:u,size:l,opacity:p}:{}}},{key:"getShape",value:function(){var e=this.getAttributes(),t=e.image,n=e.color,o=e.repeat,i=e.size,a={backgroundImage:t,backgroundColor:n,backgroundRepeat:o,backgroundPosition:e.position,backgroundSize:i,opacity:e.opacity};return Object(r.g)("div",{style:a,className:"lf-background"})}},{key:"render",value:function(){return this.getShape()}}])&&B(t.prototype,n),o&&B(t,o),a}(r.a),H=n(53);function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$(e);if(t){var o=$(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return J(this,n)}}function J(e,t){return!t||"object"!==W(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ee=Object(v.observer)(Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(a,e);var t,n,o,i=Q(a);function a(){var e;K(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).id=Object(H.a)(),e}return t=a,(n=[{key:"renderDot",value:function(){var e=this.props,t=e.config,n=t.color,o=t.thickness,i=void 0===o?2:o,a=e.size,c=e.visible,u=Math.min(Math.max(2,i),a/2),s=1;return c||(s=0),Object(r.g)("rect",{width:u,height:u,rx:u/2,ry:u/2,fill:n,opacity:s})}},{key:"renderMesh",value:function(){var e=this.props,t=e.config,n=t.color,o=t.thickness,i=void 0===o?1:o,a=e.size,c=e.visible,u=Math.min(Math.max(1,i),a/2),s="M ".concat(a," 0 H0 M0 0 V0 ").concat(a),l=1;return c||(l=0),Object(r.g)("path",{d:s,stroke:n,strokeWidth:u,opacity:l})}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.size,o=e.graphModel.transformMatrix,i=[o.SCALE_X,o.SKEW_Y,o.SKEW_X,o.SCALE_Y,o.TRANSLATE_X,o.TRANSLATE_Y].join(","),a="matrix(".concat(i,")");return Object(r.g)("div",{className:"lf-grid"},Object(r.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(r.g)("defs",null,Object(r.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:a,x:"0",y:"0",width:n,height:n,style:{transition:"all 0.1s ease"}},"dot"===t&&this.renderDot(),"mesh"===t&&this.renderMesh())),Object(r.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&q(t.prototype,n),o&&q(t,o),a}(r.a))||Y;ee.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}};var te,ne=n(43);function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ae(e,t){return(ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=se(e);if(t){var o=se(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ue(this,n)}}function ue(e,t){return!t||"object"!==re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var le,fe=Object(v.observer)(te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ae(e,t)}(a,e);var t,n,o,i=ce(a);function a(){return oe(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props.snaplineModel,t=e.position,n=e.isShowHorizontal,o=e.isShowVertical,i=e.stroke,a=e.strokeWidth,c=t.x,u=void 0===c?0:c,s=t.y,l=void 0===s?0:s,f={x1:-1e5,y1:l,x2:1e5,y2:l,stroke:n?i:"none",strokeWidth:a},p={x1:u,y1:-1e5,x2:u,y2:1e5,stroke:o?i:"none",strokeWidth:a};return Object(r.g)("g",{className:"lf-snapline"},Object(r.g)(ne.a,f),Object(r.g)(ne.a,p))}}])&&ie(t.prototype,n),o&&ie(t,o),a}(r.a))||te,pe=n(4),de=n(49);function he(e){return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ye(){return(ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function be(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ge(e,t){return(ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xe(e);if(t){var o=xe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Oe(this,n)}}function Oe(e,t){return!t||"object"!==he(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xe(e){return(xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var je,_e=Object(v.observer)(le=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ge(e,t)}(a,e);var t,n,o,i=me(a);function a(){return be(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"getNodeOutline",value:function(){for(var e=this.props.graphModel,t=e.nodes,n=e.editConfig.hoverOutline,o=[],i=0;i<t.length;i++){var a=t[i],c=a.isHovered,u=a.isSelected,s=a.x,l=a.y,f=a.width,p=a.height,d=a.outlineColor,h=a.hoverOutlineColor,y=a.outlineStrokeDashArray,b=a.hoverOutlineStrokeDashArray;if(u||n&&c){var v=u?d:h,g=u?y:b;o.push(Object(r.g)(de.a,ye({className:"lf-outline-node"},{x:s,y:l,width:f+10,height:p+10},{radius:0,fill:"none",stroke:v,strokeDasharray:g})))}}return o}},{key:"getEdgeOutline",value:function(){for(var e=this.props.graphModel.edges,t=[],n=0;n<e.length;n++){var r=e[n];r.isSelected&&(r.modelType===c.e.LINE_EDGE?t.push(this.getLineOutline(r)):r.modelType===c.e.POLYLINE_EDGE?t.push(this.getPolylineOutline(r)):r.modelType===c.e.BEZIER_EDGE&&t.push(this.getBezierOutline(r)))}return t}},{key:"getLineOutline",value:function(e){var t=e.startPoint,n=e.endPoint,o=(t.x+n.x)/2,i=(t.y+n.y)/2,a=Math.abs(t.x-n.x)+10,c=Math.abs(t.y-n.y)+10,u=this.props.graphModel.theme.line,s=u.outlineColor,l=u.outlineStrokeDashArray;return Object(r.g)(de.a,ye({className:"lf-outline-edge"},{x:o,y:i,width:a,height:c},{radius:0,fill:"none",stroke:s,strokeDasharray:l}))}},{key:"getPolylineOutline",value:function(e){var t=e.points,n=Object(pe.n)(t),o=Object(pe.b)(n,8),i=o.x,a=o.y,c=o.width,u=o.height,s=this.props.graphModel.theme.polyline,l=s.outlineColor,f=s.outlineStrokeDashArray;return Object(r.g)(de.a,ye({className:"lf-outline"},{x:i,y:a,width:c,height:u},{radius:0,fill:"none",stroke:l,strokeDasharray:f}))}},{key:"getBezierOutline",value:function(e){var t=e.path,n=Object(pe.d)(t),o=Object(pe.b)(n,8),i=o.x,a=o.y,c=o.width,u=o.height,s=this.props.graphModel.theme.bezier,l=s.outlineColor,f=s.outlineStrokeDashArray;return Object(r.g)(de.a,ye({className:"lf-outline"},{x:i,y:a,width:c,height:u},{radius:0,fill:"none",stroke:l,strokeDasharray:f}))}},{key:"render",value:function(){return Object(r.g)("g",{className:"lf-outline"},this.getNodeOutline(),this.getEdgeOutline())}}])&&ve(t.prototype,n),o&&ve(t,o),a}(r.a))||le,we=n(72);function Ee(e){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function De(e,t,n){return t&&ke(e.prototype,t),n&&ke(e,n),e}function Ne(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Me(e,t)}function Me(e,t){return(Me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Re(e);if(t){var o=Re(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ce(this,n)}}function Ce(e,t){return!t||"object"!==Ee(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Re(e){return(Re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ie,Le=function(e){Ne(n,e);var t=Te(n);function n(e){var r;Ae(this,n),(r=t.call(this)).dragHandler=void 0,r.onDraging=function(e){var t=e.deltaX,n=e.deltaY,o=r.props,i=o.graphModel,a=o.bezierModel,c=o.type,u=i.transformMatrix,s=r.state,l=s.endX,f=s.endY,p=Se(u.moveCanvasPointByHtml([l,f],t,n),2),d=p[0],h=p[1];r.setState({endX:d,endY:h}),a.updateAdjustAnchor({x:d,y:h},c)},r.onDragEnd=function(){var e=r.state,t=e.endX,n=e.endY,o=r.props,i=o.bezierModel,a=o.type;i.updateAdjustAnchor({x:t,y:n},a)},r.dragHandler=Object(u.b)({onDraging:r.onDraging,onDragEnd:r.onDragEnd});var o=e.position;return r.state={endX:o.x,endY:o.y},r}return De(n,[{key:"render",value:function(){var e,t,n,o=this.props.position,i=o.x,a=o.y,c=null===(e=this.props)||void 0===e||null===(t=e.graphModel)||void 0===t||null===(n=t.theme)||void 0===n?void 0:n.bezier,u=c.adjustAnchorStroke,s=c.adjustAnchorFill,l=c.adjustAnchorFillOpacity;return Object(r.g)(we.a,{className:"lf-bezier-adjust-anchor",x:i,y:a,r:4,stroke:u,fill:s,fillOpacity:l,onMouseDown:this.dragHandler})}}]),n}(r.a),ze=Object(v.observer)(je=function(e){Ne(n,e);var t=Te(n);function n(){return Ae(this,n),t.apply(this,arguments)}return De(n,[{key:"getBezierAdjust",value:function(e,t){var n=e.path,o=Se(Object(pe.d)(n),4),i=o[0],a=o[1],c=o[2],u=o[3],s=t.theme.bezier.adjustLineColor,l=[];return l.push(Object(r.g)(ne.a,{x1:i.x,y1:i.y,x2:a.x,y2:a.y,stroke:s})),l.push(Object(r.g)(Le,{position:a,bezierModel:e,graphModel:t,type:"sNext"})),l.push(Object(r.g)(ne.a,{x1:u.x,y1:u.y,x2:c.x,y2:c.y,stroke:s})),l.push(Object(r.g)(Le,{position:c,bezierModel:e,graphModel:t,type:"ePre"})),l}},{key:"selectedBezierEdge",value:function(){for(var e=this.props.graphModel,t=e.edges,n=[],r=0;r<t.length;r++){var o=t[r];o.isSelected&&o.modelType===c.e.BEZIER_EDGE&&o.draggable&&n.push(this.getBezierAdjust(o,e))}return n}},{key:"render",value:function(){return Object(r.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),n}(r.a))||je;function Be(e){return(Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fe(){return(Fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xe(e,t){return(Xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=He(e);if(t){var o=He(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ve(this,n)}}function Ve(e,t){return!t||"object"!==Be(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function He(e){return(He=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var We=Object(o.b)("graphModel")(Ie=Object(v.observer)(Ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xe(e,t)}(c,e);var t,n,o,i=Ye(c);function c(){return Ue(this,c),i.apply(this,arguments)}return t=c,(n=[{key:"getComponent",value:function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"canvas-overlay",i=(0,this.props.getView)(e.type);return Object(r.g)(i,{key:e.id,model:e,graphModel:t,overlay:o,eventCenter:n})}},{key:"render",value:function(){var e=this,t=this.InjectedProps,n=t.graphModel,o=t.tool,i=t.options,c=t.eventCenter,u=t.dnd,s=t.snaplineModel,l={};i.width&&(l.width="".concat(i.width,"px")),i.height&&(l.height="".concat(i.height,"px"));var f=n.fakerNode,p=n.editConfig.adjustEdge;return Object(r.g)("div",{className:"lf-graph",style:l},Object(r.g)(A,{graphModel:n,eventCenter:c,dnd:u},Object(r.g)("g",{className:"lf-base"},Object(a.a)(n.sortElements,(function(t){return e.getComponent(t,n,c)}))),f?this.getComponent(f,n,c):"",p?Object(r.g)(ze,{graphModel:n}):"",Object(r.g)(_e,{graphModel:n}),i.isSilentMode||!1===i.snapline?"":Object(r.g)(fe,{snaplineModel:s})),Object(r.g)(I,{graphModel:n,tool:o}),i.background&&Object(r.g)(V,{background:i.background}),i.grid&&Object(r.g)(ee,Fe({},i.grid,{graphModel:n})))}},{key:"InjectedProps",get:function(){return this.props}}])&&Ge(t.prototype,n),o&&Ge(t,o),c}(r.a))||Ie)||Ie,Ke=n(197),qe=n(65);function Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(n),!0).forEach((function(t){Je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var et=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.nodeConfig=void 0,this.lf=void 0,this.options=void 0,this.fakerNode=void 0,this.stopDrag=function(){n.nodeConfig=null,window.document.removeEventListener("mouseup",n.stopDrag)},this.dragEnter=function(e){n.nodeConfig&&!n.fakerNode&&(n.fakerNode=n.lf.createFakerNode(Qe(Qe({},n.nodeConfig),n.clientToLocalPoint({x:e.clientX,y:e.clientY}))))},this.onDragOver=function(e){if(e.preventDefault(),n.fakerNode){var t=n.clientToLocalPoint({x:e.clientX,y:e.clientY}),r=t.x,o=t.y;n.fakerNode.moveTo(r,o);var i=n.fakerNode.getData();n.lf.setNodeSnapLine(i)}return!1},this.onDragLeave=function(){n.fakerNode&&(n.lf.removeNodeSnapLine(),n.lf.graphModel.removeFakerNode(),n.fakerNode=null)},this.onDrop=function(e){if(n.lf.graphModel&&e&&n.nodeConfig){var t=n.lf.addNode(Qe(Qe({},n.nodeConfig),n.clientToLocalPoint({x:e.clientX,y:e.clientY})));e.preventDefault(),e.stopPropagation(),n.nodeConfig=null,n.lf.removeNodeSnapLine(),n.lf.graphModel.removeFakerNode(),n.fakerNode=null;var r=t.getData();n.lf.eventCenter.emit(c.d.NODE_DND_ADD,{data:r})}};var r=t.options,o=t.lf;this.lf=o,this.options=r}var t,n,r;return t=e,(n=[{key:"clientToLocalPoint",value:function(e){var t=e.x,n=e.y,r=Object(Ke.a)(this.lf.options,["grid","size"]),o=this.lf.graphModel.getPointByClient({x:t,y:n}).canvasOverlayPosition,i=o.x,a=o.y;return{x:Object(qe.b)(i,r),y:Object(qe.b)(a,r)}}},{key:"startDrag",value:function(e){this.nodeConfig=e,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&$e(t.prototype,n),r&&$e(t,r),e}(),tt=n(114),nt=n(8),rt=n(9),ot=n(84),it=function(e,t){return Object(ot.a)(e,t)},at=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0},ct=n(239),ut=n(12),st=n(11),lt=function(){return st.a.Date.now()},ft=n(58),pt=/^\s+|\s+$/g,dt=/^[-+]0x[0-9a-f]+$/i,ht=/^0b[01]+$/i,yt=/^0o[0-7]+$/i,bt=parseInt,vt=function(e){if("number"==typeof e)return e;if(Object(ft.a)(e))return NaN;if(Object(ut.a)(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Object(ut.a)(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(pt,"");var n=ht.test(e);return n||yt.test(e)?bt(e.slice(2),n?2:8):dt.test(e)?NaN:+e},gt=Math.max,mt=Math.min,Ot=function(e,t,n){var r,o,i,a,c,u,s=0,l=!1,f=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function d(t){var n=r,i=o;return r=o=void 0,s=t,a=e.apply(i,n)}function h(e){return s=e,c=setTimeout(b,t),l?d(e):a}function y(e){var n=e-u;return void 0===u||n>=t||n<0||f&&e-s>=i}function b(){var e=lt();if(y(e))return v(e);c=setTimeout(b,function(e){var n=t-(e-u);return f?mt(n,i-(e-s)):n}(e))}function v(e){return c=void 0,p&&r?d(e):(r=o=void 0,a)}function g(){var e=lt(),n=y(e);if(r=arguments,o=this,u=e,n){if(void 0===c)return h(u);if(f)return clearTimeout(c),c=setTimeout(b,t),d(u)}return void 0===c&&(c=setTimeout(b,t)),a}return t=vt(t)||0,Object(ut.a)(n)&&(l=!!n.leading,i=(f="maxWait"in n)?gt(vt(n.maxWait)||0,t):i,p="trailing"in n?!!n.trailing:p),g.cancel=function(){void 0!==c&&clearTimeout(c),s=0,r=u=o=c=void 0},g.flush=function(){return void 0===c?a:v(lt())},g},xt=n(198);function jt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var _t,wt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.undos=[],this.redos=[],this.callbacks=[],this.stopWatch=null,this.curData=null,this.maxSize=50,this.waitTime=100,this.eventCenter=void 0,this.eventCenter=t}var t,n,r;return t=e,(n=[{key:"add",value:function(e){it(at(this.undos),e)||(this.undos.push(e),it(this.curData,e)||(this.redos=[]),this.eventCenter.emit(c.d.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var e=this.undos.pop();this.redos.push(e);var t=this.undos.pop();return this.curData=Object(ct.a)(t),t}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var e=this.redos.pop();return this.curData=Object(ct.a)(e),e}}},{key:"watch",value:function(e){var t=this;this.stopWatch&&this.stopWatch(),this.undos.push(e.modelToGraphData()),this.stopWatch=Object(xt.a)(e,Ot((function(){var n=e.modelToGraphData();t.add(n)}),this.waitTime))}}])&&jt(t.prototype,n),r&&jt(t,r),e}();function Et(e){return(Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function St(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Pt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function At(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kt(e,t){return(kt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Dt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Mt(e);if(t){var o=Mt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Nt(this,n)}}function Nt(e,t){return!t||"object"!==Et(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Mt(e){return(Mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(235);var Tt,Ct=Object(v.observer)(_t=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kt(e,t)}(a,e);var t,n,o,i=Dt(a);function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this)).ref=Object(r.f)(),e.__prevText={text:"",id:""},e.keyupHandler=function(t){var n=t.target.innerText,r=e.props.graphModel.textEditElement;13===t.keyCode&&t.altKey&&r.setElementState(0),e.__prevText={text:n,id:r.id}},e.state={style:{left:0,top:0}},e}return t=a,o=[{key:"getDerivedStateFromProps",value:function(e){var t=e.graphModel,n=t.transformMatrix,r=t.textEditElement;if(r){var o;if(null===(o=r.text)||void 0===o||!o.value)if(r.BaseType===c.c.EDGE){var i=(r=r).text,a=r.textPosition,u=a.x,s=a.y;i.x=u,i.y=s,r.setText(i)}else r=r;var l=r.text,f=l.x,p=l.y,d=St(n.CanvasPointToHtmlPoint([f,p]),2);return{style:{left:d[0],top:d[1]}}}}}],(n=[{key:"componentDidMount",value:function(){this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current))}},{key:"componentDidUpdate",value:function(){var e=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),""!==this.__prevText.id){var t=this.__prevText,n=t.text,r=t.id;e.setElementTextById(r,n),this.__prevText.id="",this.__prevText.text=""}}},{key:"placeCaretAtEnd",value:function(e){if(void 0!==window.getSelection&&void 0!==document.createRange){var t=document.createRange();t.selectNodeContents(e),t.collapse(!1);var n=window.getSelection();n.removeAllRanges(),n.addRange(t)}}},{key:"render",value:function(){var e,t=this.props.graphModel.textEditElement,n=this.state.style;return t?Object(r.g)("div",{contentEditable:!0,className:"lf-text-input",style:n,ref:this.ref,key:t.id,onKeyUp:this.keyupHandler},null===(e=t.text)||void 0===e?void 0:e.value):null}}])&&At(t.prototype,n),o&&At(t,o),a}(r.a))||_t,Rt=(n(91),n(92),n(158),function(e){return e.modelType===c.e.LINE_EDGE?function(e){var t=e.startPoint,n=e.endPoint,r=(t.x+n.x)/2,o=(t.y+n.y)/2,i=Math.abs(t.x-n.x)+10,a=Math.abs(t.y-n.y)+10;return{x:r-i/2,y:o-a/2,x1:r+i/2,y1:o+a/2}}(e):e.modelType===c.e.POLYLINE_EDGE?function(e){var t=e.points,n=Object(pe.n)(t),r=Object(pe.b)(n,8),o=r.x,i=r.y,a=r.width,c=r.height;return{x:o-a/2,y:i-c/2,x1:o+a/2,y1:i+c/2}}(e):e.modelType===c.e.BEZIER_EDGE?function(e){var t=e.path,n=Object(pe.d)(t),r=Object(pe.b)(n,8),o=r.x,i=r.y,a=r.width,c=r.height;return{x:o-a/2,y:i-c/2,x1:o+a/2,y1:i+c/2}}(e):void 0});function It(e){return(It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return zt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ft(e,t){return(Ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ut(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xt(e);if(t){var o=Xt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Gt(this,n)}}function Gt(e,t){return!t||"object"!==It(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xt(e){return(Xt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Yt=Object(v.observer)(Tt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ft(e,t)}(a,e);var t,n,o,i=Ut(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).stepDrag=void 0,t.handleMouseDown=function(e){t.stepDrag.handleMouseDown(e)},t.onDragStart=function(){},t.onDraging=function(e){var n=e.deltaX,r=e.deltaY,o=t.props.graphModel;o.moveElements(o.getSelectElements(!0),n,r)},t.onDragEnd=function(){};var n=e.graphModel.gridSize,r=e.eventCenter;return t.stepDrag=new u.a({onDragStart:t.onDragStart,onDraging:t.onDraging,onDragEnd:t.onDragEnd,step:n,eventType:"multiple:select",eventCenter:r}),t}return t=a,(n=[{key:"render",value:function(){var e=this.props.graphModel,t=e.selectElements,n=e.selectElementSize,o=e.transformMatrix;if(n>1){var i=Number.MAX_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER;t.forEach((function(e){var t={x:0,y:0,x1:0,y1:0};e.BaseType===c.c.NODE&&(t=function(e){var t=e.x,n=e.y,r=e.width,o=e.height;return{x:t-r/2,y:n-o/2,x1:t+r/2,y1:n+o/2}}(e)),e.BaseType===c.c.EDGE&&(t=Rt(e)),i=Math.min(i,t.x),a=Math.min(a,t.y),u=Math.max(u,t.x1),s=Math.max(s,t.y1)}));var l=Lt(o.CanvasPointToHtmlPoint([i,a]),2);i=l[0],a=l[1];var f=Lt(o.CanvasPointToHtmlPoint([u,s]),2);u=f[0],s=f[1];var p={left:"".concat(i-10,"px"),top:"".concat(a-10,"px"),width:"".concat(u-i+20,"px"),height:"".concat(s-a+20,"px")};return Object(r.g)("div",{className:"lf-multiple-select",style:p,onMouseDown:this.handleMouseDown})}}}])&&Bt(t.prototype,n),o&&Bt(t,o),a}(r.a))||Tt;function Vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ht=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tools=void 0,this.components=void 0,this.toolMap=new Map,this.instance=void 0,this.instance=t,this.registerTool("textEdit",Ct),this.registerTool("multipleSelect",Yt)}var t,n,r;return t=e,(n=[{key:"registerTool",value:function(e,t){this.toolMap.set(e,t)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&Vt(t.prototype,n),r&&Vt(t,r),e}();function Wt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(108);var Kt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._events={}}var t,n,r;return t=e,(n=[{key:"on",value:function(e,t,n){return this._events[e]||(this._events[e]=[]),this._events[e].push({callback:t,once:!!n}),this}},{key:"once",value:function(e,t){return this.on(e,t,!0)}},{key:"emit",value:function(e,t){var n=this,r=this._events[e]||[],o=this._events["*"]||[],i=function(r){for(var o=r.length,i=0;i<o;i++)if(r[i]){var a=r[i],c=a.callback;a.once&&(r.splice(i,1),0===r.length&&delete n._events[e],o--,i--),c.apply(n,[t])}};i(r),i(o)}},{key:"off",value:function(e,t){if(e)if(t){for(var n=this._events[e]||[],r=n.length,o=0;o<r;o++)n[o].callback===t&&(n.splice(o,1),r--,o--);0===n.length&&delete this._events[e]}else delete this._events[e];else this._events={};return this}},{key:"getEvents",value:function(){return this._events}}])&&Wt(t.prototype,n),r&&Wt(t,r),e}(),qt=n(116),Zt=n(27),Qt=null;function Jt(e,t){return e.x+=t,e.y+=t,e.text&&(e.text.x+=t,e.text.y+=t),e}function $t(e,t){return e.startPoint&&(e.startPoint.x+=t,e.startPoint.y+=t),e.endPoint&&(e.endPoint.x+=t,e.endPoint.y+=t),e.pointsList&&e.pointsList.length>0&&e.pointsList.forEach((function(e){e.x+=t,e.y+=t})),e.text&&(e.text.x+=t,e.text.y+=t),e}var en=n(115);function tn(e){return(tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nn(Object(n),!0).forEach((function(t){on(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function on(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function an(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var cn=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=void 0,this.width=void 0,this.height=void 0,this.graphModel=void 0,this.history=void 0,this.viewMap=new Map,this.tool=void 0,this.keyboard=void 0,this.dnd=void 0,this.options=void 0,this.getSnapshot=void 0,this.eventCenter=void 0,this.snaplineModel=void 0,this.components=[],this.adapterIn=void 0,this.adapterOut=void 0,this.getView=function(e){return n.viewMap.get(e)};var r,o,a=t.container,c=t.width,u=t.height,s=t.dndOptions,l=t.keyboard,f=t.isSilentMode,p=t.snapline;this.options=tt.b(t),this.container=a,this.width=c||a.getBoundingClientRect().width,this.height=u||a.getBoundingClientRect().height,this.tool=new Ht(this),this.eventCenter=new Kt,this.history=new wt(this.eventCenter),this.dnd=new et({options:s,lf:this}),this.keyboard=new qt.b({lf:this,keyboard:l}),this.graphModel=new i.b(rn(rn({},this.options),{},{eventCenter:this.eventCenter,rootEl:this.container,width:this.width,height:this.height})),f||!1===p||(this.snaplineModel=new en.b(this.graphModel),r=this.eventCenter,o=this.snaplineModel,r.on("node:mousemove",(function(e){var t=e.data;o.setNodeSnapLine(t)})),r.on("node:mouseup",(function(){o.clearSnapline()}))),this.defaultRegister(),this.installPlugins(t.disabledPlugins),function(e,t){var n=e.keyboard,r=n.options.keyboard;n.on(["cmd + c","ctrl + c"],(function(){if(r.enabled&&!t.textEditElement){var n=e.options.guards,o=t.getSelectElements(!1);return n&&n.beforeClone&&!n.beforeClone(o)||((Qt=o).nodes.forEach((function(e){return Jt(e,40)})),Qt.edges.forEach((function(e){return $t(e,40)}))),!1}})),n.on(["cmd + v","ctrl + v"],(function(){if(r.enabled&&!t.textEditElement){if(Qt&&(Qt.nodes||Qt.edges)){e.clearSelectElements();var n=e.addElements(Qt);if(!n)return;n.nodes.forEach((function(t){return e.select(t.id,!0)})),n.edges.forEach((function(t){return e.select(t.id,!0)})),Qt.nodes.forEach((function(e){return Jt(e,40)})),Qt.edges.forEach((function(e){return $t(e,40)}))}return!1}})),n.on(["cmd + z","ctrl + z"],(function(){if(r.enabled&&!t.textEditElement)return e.undo(),!1})),n.on(["cmd + y","ctrl + y"],(function(){if(r.enabled&&!t.textEditElement)return e.redo(),!1})),n.on(["backspace"],(function(){if(r.enabled&&!t.textEditElement){var n=t.getSelectElements(!0);return e.clearSelectElements(),n.edges.forEach((function(t){return e.deleteEdge(t.id)})),n.nodes.forEach((function(t){return e.deleteNode(t.id)})),!1}}))}(this,this.graphModel),this.keyboard.initShortcuts()}var t,n,a;return t=e,a=[{key:"use",value:function(e){var t=this.extensions.get(e.name);t&&t.destroy&&t.destroy(),this.extensions.set(e.name,e)}}],(n=[{key:"on",value:function(e,t){this.eventCenter.on(e,t)}},{key:"off",value:function(e,t){this.eventCenter.off(e,t)}},{key:"emit",value:function(e,t){this.eventCenter.emit(e,t)}},{key:"installPlugins",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.extensions.forEach((function(e){-1===n.indexOf(e.name)&&t.__installPlugin(e)}))}},{key:"__installPlugin",value:function(t){if("object"===tn(t)){var n=t.install,r=t.render;return n&&n.call(t,this,e),void(r&&this.components.push(r.bind(t)))}var o=new t({lf:this,LogicFlow:e});o.render&&this.components.push(o.render.bind(o))}},{key:"register",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("string"==typeof e){var i={BaseEdge:rt.b,BaseEdgeModel:nt.BaseEdgeModel,BaseNode:rt.c,BaseNodeModel:nt.BaseNodeModel,RectNode:rt.k,RectNodeModel:nt.RectNodeModel,CircleNode:rt.e,CircleNodeModel:nt.CircleNodeModel,PolygonNode:rt.i,PolygonNodeModel:nt.PolygonNodeModel,TextNode:rt.l,TextNodeModel:nt.TextNodeModel,LineEdge:rt.h,LineEdgeModel:nt.LineEdgeModel,DiamondNode:rt.f,DiamondNodeModel:nt.DiamondNodeModel,PolylineEdge:rt.j,PolylineEdgeModel:nt.PolylineEdgeModel,BezierEdge:rt.d,BezierEdgeModel:nt.BezierEdgeModel,EllipseNode:rt.g,EllipseNodeModel:nt.EllipseNodeModel,h:r.g,type:e};this.viewMap.forEach((function(e){var t=e.extendKey;t&&(i[t]=e)})),this.graphModel.modelMap.forEach((function(e){var t=e.extendKey;t&&(i[t]=e)}));var a=t(i),c=a.view,u=a.model,s=c;n&&!s.isObervered&&(s.isObervered=!0,s=Object(o.c)(s)),this.setView(e,s),this.graphModel.setModel(e,u)}else this._registerElement(e)}},{key:"_registerElement",value:function(e){var t=e.view;!1===e.isObserverView||t.isObervered||(t.isObervered=!0,t=Object(o.c)(t)),this.setView(e.type,t),this.graphModel.setModel(e.type,e.model)}},{key:"defaultRegister",value:function(){this._registerElement({view:rt.k,model:nt.RectNodeModel,type:"rect"}),this._registerElement({type:"circle",view:rt.e,model:nt.CircleNodeModel}),this._registerElement({type:"polygon",view:rt.i,model:nt.PolygonNodeModel}),this._registerElement({type:"line",view:rt.h,model:nt.LineEdgeModel}),this._registerElement({type:"polyline",view:rt.j,model:nt.PolylineEdgeModel}),this._registerElement({type:"bezier",view:rt.d,model:nt.BezierEdgeModel}),this._registerElement({type:"text",view:rt.l,model:nt.TextNodeModel}),this._registerElement({type:"ellipse",view:rt.g,model:nt.EllipseNodeModel}),this._registerElement({type:"diamond",view:rt.f,model:nt.DiamondNodeModel})}},{key:"undo",value:function(){if(this.history.undoAble()){var e=Object(Zt.a)(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(e)}}},{key:"redo",value:function(){if(this.history.redoAble()){var e=Object(Zt.a)(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(e)}}},{key:"zoom",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.graphModel.transformMatrix;return t.zoom(e),"".concat(100*t.SCALE_X,"%")}},{key:"resetZoom",value:function(){this.graphModel.transformMatrix.resetZoom()}},{key:"setZoomMiniSize",value:function(e){this.graphModel.transformMatrix.setZoomMiniSize(e)}},{key:"setZoomMaxSize",value:function(e){this.graphModel.transformMatrix.setZoomMaxSize(e)}},{key:"getTransform",value:function(){var e=this.graphModel.transformMatrix;return{SCALE_X:e.SCALE_X,SCALE_Y:e.SCALE_Y,TRANSLATE_X:e.TRANSLATE_X,TRANSLATE_Y:e.TRANSLATE_Y}}},{key:"translate",value:function(e,t){this.graphModel.transformMatrix.translate(e,t)}},{key:"resetTranslate",value:function(){var e=this.graphModel.transformMatrix,t=e.TRANSLATE_X,n=e.TRANSLATE_Y;this.translate(-t,-n)}},{key:"select",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.graphModel.selectElementById(e,t)}},{key:"focusOn",value:function(e){var t=this.graphModel.transformMatrix,n=e.coordinate,r=e.id;if(!n){var o=this.getNodeModel(r);o&&(n=o.getData());var i=this.getEdgeModelById(r);i&&(n=i.textPosition)}var a=n,c=a.x,u=a.y;t.focusOn(c,u,this.width,this.height)}},{key:"setTheme",value:function(e){this.graphModel.setTheme(e)}},{key:"setDefaultEdgeType",value:function(e){this.options.edgeType=e,this.graphModel.changeEdgeType(e)}},{key:"updateText",value:function(e,t){this.graphModel.setElementTextById(e,t)}},{key:"changeNodeType",value:function(e,t){this.graphModel.changeNodeType(e,t)}},{key:"getNodeEdges",value:function(e){return this.graphModel.getNodeEdges(e)}},{key:"addNode",value:function(e){return this.graphModel.addNode(e)}},{key:"deleteNode",value:function(e){var t=this.graphModel.getNodeModel(e).getData(),n=this.options.guards;(!n||!n.beforeDelete||n.beforeDelete(t))&&this.graphModel.deleteNode(e)}},{key:"editNodeText",value:function(e){this.graphModel.setTextEditable(e)}},{key:"cloneNode",value:function(e){var t=this.graphModel.getNodeModel(e).getData(),n=this.options.guards;if(!n||!n.beforeClone||n.beforeClone(t))return this.graphModel.cloneNode(e)}},{key:"createEdge",value:function(e){this.graphModel.createEdge(e)}},{key:"deleteEdge",value:function(e){var t=this.options.guards,n=this.graphModel.edgesMap[e];if(n){var r=n.model.getData();(!t||!t.beforeDelete||t.beforeDelete(r))&&this.graphModel.removeEdgeById(e)}else console.warn("\u4e0d\u5b58\u5728id\u4e3a".concat(e,"\u7684\u8fb9"))}},{key:"removeEdge",value:function(e){var t=e.sourceNodeId,n=e.targetNodeId;t&&n?this.graphModel.removeEdge(t,n):t?this.graphModel.removeEdgeBySource(t):n&&this.graphModel.removeEdgeByTarget(n)}},{key:"getEdge",value:function(e){var t=this.graphModel,n=t.edges,r=t.edgesMap,o=e.id,i=e.sourceNodeId,a=e.targetNodeId;if(o)return r[o]?[r[o].model]:void console.warn("\u4e0d\u5b58\u5728id\u4e3a".concat(o,"\u7684\u8fb9"));if(i&&a){var c=[];return n.forEach((function(e){e.sourceNodeId===i&&e.targetNodeId===a&&c.push(e)})),c}if(i){var u=[];return n.forEach((function(e){e.sourceNodeId===i&&u.push(e)})),u}if(a){var s=[];return n.forEach((function(e){e.targetNodeId===a&&s.push(e)})),s}return[]}},{key:"getNodeModel",value:function(e){return this.graphModel.getNodeModel(e)}},{key:"getNodeData",value:function(e){return this.graphModel.getNodeModel(e).getData()}},{key:"setNodeData",value:function(e){var t=e.id;this.graphModel.getNodeModel(t).updateData(e)}},{key:"getEdgeData",value:function(e){var t;return null===(t=this.getEdgeModelById(e))||void 0===t?void 0:t.getData()}},{key:"setEdgeData",value:function(e){var t,n=e.id;return null===(t=this.getEdgeModelById(n))||void 0===t?void 0:t.updateData(e)}},{key:"getGraphData",value:function(){var e=this.graphModel.modelToGraphData();return this.adapterOut?this.adapterOut(e):e}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"setProperties",value:function(e,t){var n;null===(n=this.graphModel.getElement(e))||void 0===n||n.setProperties(Object(Zt.a)(t))}},{key:"getProperties",value:function(e){var t;return null===(t=this.graphModel.getElement(e))||void 0===t?void 0:t.getProperties()}},{key:"updateEditConfig",value:function(e){this.graphModel.editConfig.updateEditConfig(e)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfig.getConfig()}},{key:"getPointByClient",value:function(e,t){return this.graphModel.getPointByClient({x:e,y:t})}},{key:"getSelectElements",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.graphModel.getSelectElements(e)}},{key:"updateAttributes",value:function(e,t){this.graphModel.updateAttributes(e,t)}},{key:"addElements",value:function(e){for(var t=this,n=e.nodes,r=e.edges,o={},i={nodes:[],edges:[]},a=0;a<n.length;a++){var c=n[a],u=c.id,s=this.addNode(c);if(!s)return;u&&(o[u]=s.id),i.nodes.push(s)}return r.forEach((function(e){var n=e.sourceNodeId,r=e.targetNodeId;o[n]&&(e.sourceNodeId=o[n]),o[r]&&(e.targetNodeId=o[r]);var a=t.graphModel.createEdge(e);i.edges.push(a)})),i}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"createFakerNode",value:function(e){var t=this.graphModel.modelMap.get(e.type);if(t){var n=new t(e,this.graphModel);return this.graphModel.setFakerNode(n),n}console.warn("\u4e0d\u5b58\u5728\u4e3a".concat(e.type,"\u7c7b\u578b\u7684\u8282\u70b9"))}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(e){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(e)}},{key:"getAreaElement",value:function(e,t){return this.graphModel.getAreaElement(e,t).map((function(e){return e.getData()}))}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"getEdgeModelById",value:function(e){var t;return null===(t=this.graphModel.edgesMap[e])||void 0===t?void 0:t.model}},{key:"setView",value:function(e,t){this.viewMap.set(e,t)}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.adapterIn&&(e=this.adapterIn(e)),this.graphModel.graphDataToModel(Object(Zt.a)(e)),this.options.isSilentMode||!1===this.options.history||this.history.watch(this.graphModel),Object(r.j)(Object(r.g)(o.a,{graphModel:this.graphModel},Object(r.g)(We,{eventCenter:this.eventCenter,getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,components:this.components})),this.container)}}])&&an(t.prototype,n),a&&an(t,a),e}();cn.extensions=new Map},function(e,t,n){"use strict";n.d(t,"a",(function(){return W})),n(39),n(217),n(21),n(69),n(37),n(218),n(108),n(106),n(23),n(70),n(185),n(107),n(22),n(76);var r=n(0),o=n(240),i=n(111),a=n(112),c=n(2),u=(n(187),n(239)),s=n(7);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){var t=Object(u.a)(s.a);return e&&Object.keys(e).forEach((function(n){t[n]=f(f({},t[n]),e[n])})),t},h=n(65);function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v,g,m,O,x,j,_,w,E,S,P,A,k,D,N,M,T,C,R=function(e,t,n){var r=y(e,2),o=r[0],i=r[1],a=y(t,2),c=a[0],u=a[1],s=y(n,2),l=s[0],f=s[1];return o>c&&o<l&&i>u&&i<f},I=n(4),L=n(27),z=n(3);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){U(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?X(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Y(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function H(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var W=(g=H((v=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.BaseType=c.c.GRAPH,this.modelType=c.e.GRAPH,this.rootEl=void 0,this.theme=void 0,this.eventCenter=void 0,this.modelMap=new Map,this.width=void 0,this.height=void 0,this.topElement=void 0,this.selectElement=void 0,this.selectElements=new Map,Y(this,"selectElementSize",g,this),Y(this,"edgeType",m,this),Y(this,"nodes",O,this),Y(this,"activeElement",x,this),Y(this,"activeElementState",j,this),Y(this,"state",_,this),Y(this,"additionStateData",w,this),Y(this,"edges",E,this),Y(this,"isSlient",S,this),Y(this,"plugins",P,this),Y(this,"tools",A,this),Y(this,"background",k,this),Y(this,"transformMatrix",D,this),Y(this,"editConfig",N,this),Y(this,"gridSize",M,this),Y(this,"partial",T,this),Y(this,"fakerNode",C,this);var n=t.container,r=t.background,o=void 0===r?{}:r,a=t.grid,u=(a=void 0===a?{}:a).size,s=void 0===u?1:u,l=t.isSilentMode,f=void 0!==l&&l,p=t.eventCenter;this.background=o,this.isSlient=f,this.gridSize=s,this.rootEl=n,this.editConfig=new i.b(t),this.eventCenter=p,this.theme=d(t.style),this.edgeType=t.edgeType||"polyline",this.width=t.width,this.height=t.height,this.partial=t.partial}var t,n,r;return t=e,(n=[{key:"getAreaElement",value:function(e,t){var n=[],r=[];this.nodes.forEach((function(e){return r.push(e)})),this.edges.forEach((function(e){return r.push(e)}));for(var o=0;o<r.length;o++){var i=r[o];this.isElementInArea(i,e,t)&&n.push(i)}return n}},{key:"getModel",value:function(e){return this.modelMap.get(e)}},{key:"getNodeModel",value:function(e){var t;return null===(t=this.nodesMap[e])||void 0===t?void 0:t.model}},{key:"getPointByClient",value:function(e){var t=e.x,n=e.y,r=this.rootEl.getBoundingClientRect(),o={x:t-r.left,y:n-r.top},i=G(this.transformMatrix.HtmlPointToCanvasPoint([o.x,o.y]),2);return{domOverlayPosition:o,canvasOverlayPosition:{x:i[0],y:i[1]}}}},{key:"isElementInArea",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e.BaseType===c.c.NODE){var o=e=e,i=o.x,a=o.y,u=G(this.transformMatrix.CanvasPointToHtmlPoint([i,a]),2);if(i=u[0],a=u[1],R([i,a],t,n))return!0}if(e.BaseType===c.c.EDGE){var s=e=e,l=s.startPoint,f=s.endPoint,p=this.transformMatrix.CanvasPointToHtmlPoint([l.x,l.y]),d=this.transformMatrix.CanvasPointToHtmlPoint([f.x,f.y]),h=R(p,t,n),y=R(d,t,n);return r?h&&y:h||y}return!1}},{key:"graphDataToModel",value:function(e){var t=this;this.nodes=Object(o.a)(e.nodes,(function(e){var n=t.getModel(e.type);if(!n)throw new Error("\u627e\u4e0d\u5230".concat(e.type,"\u5bf9\u5e94\u7684\u8282\u70b9\u3002"));var r=e.x,o=e.y;return r&&o&&(e.x=Object(h.b)(r,t.gridSize),e.y=Object(h.b)(o,t.gridSize),"[object Object]"===Object.prototype.toString.call(e.text)&&(e.text.x-=Object(h.a)(r,t.gridSize),e.text.y-=Object(h.a)(o,t.gridSize))),new n(e,t)})),this.edges=Object(o.a)(e.edges,(function(e){var n=t.getModel(e.type);if(!n)throw new Error("\u627e\u4e0d\u5230".concat(e.type,"\u5bf9\u5e94\u7684\u8fb9\u3002"));return new n(e,t)}))}},{key:"modelToGraphData",value:function(){var e=this.edges.map((function(e){return e.getData()}));return{nodes:this.nodes.map((function(e){return e.getData()})),edges:e}}},{key:"getEdgeModel",value:function(e){var t;return null===(t=this.edgesMap[e])||void 0===t?void 0:t.model}},{key:"getElement",value:function(e){return this.getNodeModel(e)||this.getEdgeModel(e)}},{key:"getNodeEdges",value:function(e){for(var t=[],n=0;n<this.edges.length;n++){var r=this.edges[n],o=this.edges[n].sourceNodeId===e,i=this.edges[n].targetNodeId===e;(o||i)&&t.push(r)}return t}},{key:"getSelectElements",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.selectElements,n={nodes:[],edges:[]};return t.forEach((function(r){if(r.BaseType===c.c.NODE&&n.nodes.push(r.getData()),r.BaseType===c.c.EDGE){var o=r.getData(),i=t.get(o.sourceNodeId)&&t.get(o.targetNodeId);(e||i)&&n.edges.push(o)}})),n}},{key:"updateAttributes",value:function(e,t){this.getElement(e).updateAttributes(t)}},{key:"setFakerNode",value:function(e){this.fakerNode=e}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(e,t){return this.modelMap.set(e,t)}},{key:"updateEdgeByIndex",value:function(e,t){this.edges[e]=F(F({},this.edges[e]),t)}},{key:"toFront",value:function(e){var t,n,r,o=(null===(t=this.nodesMap[e])||void 0===t?void 0:t.model)||(null===(n=this.edgesMap[e])||void 0===n?void 0:n.model);o&&(null===(r=this.topElement)||void 0===r||r.setZIndex(),this.topElement=o,o.setZIndex(c.a))}},{key:"deleteNode",value:function(e){var t=this.nodesMap[e].model.getData();this.removeEdgeBySource(e),this.removeEdgeByTarget(e),this.nodes.splice(this.nodesMap[e].index,1),this.eventCenter.emit(c.d.NODE_DELETE,{data:t})}},{key:"addNode",value:function(e){var t=Object(L.a)(e);t.id&&this.nodesMap[e.id]&&delete t.id;var n=this.getModel(t.type);if(!n)throw new Error("\u627e\u4e0d\u5230".concat(t.type,"\u5bf9\u5e94\u7684\u8282\u70b9\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u5df2\u6ce8\u518c\u6b64\u7c7b\u578b\u8282\u70b9\u3002"));var r=new n(t,this);this.nodes.push(r);var o=r.getData();return this.eventCenter.emit(c.d.NODE_ADD,{data:o}),r}},{key:"cloneNode",value:function(e){var t=this.getNodeModel(e),n=t.getData();n.x+=30,n.y+=30,delete n.id,n.text&&(n.text.x+=30,n.text.y+=30);var r=this.addNode(n);return r.setSelected(!0),t.setSelected(!1),r.getData()}},{key:"moveNode",value:function(e,t,n){var r=this.nodesMap[e];r?(r.model.move(t,n),this.moveEdge(e,t,n)):console.warn("\u4e0d\u5b58\u5728id\u4e3a".concat(e,"\u7684\u8282\u70b9"))}},{key:"setTextEditable",value:function(e){this.setElementStateById(e,c.b.TEXT_EDIT)}},{key:"createEdge",value:function(e){var t=Object(L.a)(e),n=t.type;n||(n=this.edgeType),t.id&&this.edgesMap[t.id]&&delete t.id;var r=this.getModel(n);if(!r)throw new Error("\u627e\u4e0d\u5230".concat(n,"\u5bf9\u5e94\u7684\u8fde\u7ebf\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u5df2\u6ce8\u518c\u6b64\u7c7b\u578b\u8fde\u7ebf\u3002"));var o=new r(F(F({},t),{},{type:n}),this),i=o.getData();return this.edges.push(o),this.eventCenter.emit(c.d.EDGE_ADD,{data:i}),o}},{key:"moveEdge",value:function(e,t,n){for(var r=0;r<this.edges.length;r++){var o,i=this.edges[r],a=i.textPosition,u=a.x,s=a.y,l=this.edges[r].sourceNodeId===e,f=this.edges[r].targetNodeId===e;if(l&&i.updateStartPoint({x:i.startPoint.x+t,y:i.startPoint.y+n}),f&&i.updateEndPoint({x:i.endPoint.x+t,y:i.endPoint.y+n}),l||f)if(i.modelType===c.e.POLYLINE_EDGE&&null!==(o=i.text)&&void 0!==o&&o.value){var p=i.text,d=Object(I.f)(p,i.points);i.moveText(d.x-p.x,d.y-p.y)}else{var h=i.textPosition,y=h.x,b=h.y;i.moveText(y-u,b-s)}}}},{key:"removeEdge",value:function(e,t){for(var n=0;n<this.edges.length;n++)if(this.edges[n].sourceNodeId===e&&this.edges[n].targetNodeId===t){var r=this.edges[n].getData();this.edges.splice(n,1),n--,this.eventCenter.emit(c.d.EDGE_DELETE,{data:r})}}},{key:"removeEdgeById",value:function(e){var t=this.edgesMap[e].index;if(this.edgesMap[e]){var n=this.edgesMap[e].model.getData();this.edges.splice(t,1),this.eventCenter.emit(c.d.EDGE_DELETE,{data:n})}else console.warn("\u4e0d\u5b58\u5728id\u4e3a".concat(e,"\u7684\u8fb9"))}},{key:"removeEdgeBySource",value:function(e){for(var t=0;t<this.edges.length;t++)if(this.edges[t].sourceNodeId===e){var n=this.edges[t].getData();this.edges.splice(t,1),t--,this.eventCenter.emit(c.d.EDGE_DELETE,{data:n})}}},{key:"removeEdgeByTarget",value:function(e){for(var t=0;t<this.edges.length;t++)if(this.edges[t].targetNodeId===e){var n=this.edges[t].getData();this.edges.splice(t,1),t--,this.eventCenter.emit(c.d.EDGE_DELETE,{data:n})}}},{key:"setElementState",value:function(e,t){this.state=e,this.additionStateData=t}},{key:"setElementStateById",value:function(e,t,n){this.resetElementState(),this.nodes.forEach((function(r){r.id===e?r.setElementState(t,n):r.setElementState(c.b.DEFAULT)})),this.edges.forEach((function(r){r.id===e?r.setElementState(t,n):r.setElementState(c.b.DEFAULT)}))}},{key:"setElementTextById",value:function(e,t){this.nodes.forEach((function(n){n.id===e&&n.updateText(t)})),this.edges.forEach((function(n){n.id===e&&n.updateText(t)}))}},{key:"resetElementState",value:function(){}},{key:"selectNodeById",value:function(e){var t,n,r;arguments.length>1&&void 0!==arguments[1]&&arguments[1]||(null===(r=this.selectElement)||void 0===r||r.setSelected(!1),this.clearSelectElements()),this.selectElement=null===(t=this.nodesMap[e])||void 0===t?void 0:t.model,null===(n=this.selectElement)||void 0===n||n.setSelected(!0),this.selectElements.set(e,this.selectElement),this.selectElementSize=this.selectElements.size}},{key:"selectEdgeById",value:function(e){var t,n,r;arguments.length>1&&void 0!==arguments[1]&&arguments[1]||(null===(r=this.selectElement)||void 0===r||r.setSelected(!1),this.clearSelectElements()),this.selectElement=null===(t=this.edgesMap[e])||void 0===t?void 0:t.model,null===(n=this.selectElement)||void 0===n||n.setSelected(!0),this.selectElements.set(e,this.selectElement),this.selectElementSize=this.selectElements.size}},{key:"selectElementById",value:function(e){var t,n;arguments.length>1&&void 0!==arguments[1]&&arguments[1]||(null===(n=this.selectElement)||void 0===n||n.setSelected(!1),this.clearSelectElements()),this.selectElement=this.getElement(e),null===(t=this.selectElement)||void 0===t||t.setSelected(!0),this.selectElements.set(e,this.selectElement),this.selectElementSize=this.selectElements.size}},{key:"clearSelectElements",value:function(){var e;this.selectElements.forEach((function(e){null==e||e.setSelected(!1)})),this.selectElements.clear(),null===(e=this.topElement)||void 0===e||e.setZIndex(),this.selectElementSize=this.selectElements.size}},{key:"moveElements",value:function(e,t,n){var r=this;e.nodes.forEach((function(e){return r.moveNode(e.id,t,n)}))}},{key:"changeEdgeType",value:function(e){this.edgeType=e}},{key:"changeNodeType",value:function(e,t){var n=this.getNodeModel(e);if(n){var r=n.getData();r.type=t;var o=this.getModel(t);if(!o)throw new Error("\u627e\u4e0d\u5230".concat(t,"\u5bf9\u5e94\u7684\u8282\u70b9\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u5df2\u6ce8\u518c\u6b64\u7c7b\u578b\u8282\u70b9\u3002"));var i=new o(r,this);this.nodes.splice(this.nodesMap[e].index,1,i),this.getNodeEdges(e).forEach((function(t){if(t.sourceNodeId===e){var n=Object(z.g)(i,t.startPoint,i.width,i.height);t.updateStartPoint(n)}if(t.targetNodeId===e){var r=Object(z.g)(i,t.endPoint,i.width,i.height);t.updateEndPoint(r)}}))}else console.warn("\u627e\u4e0d\u5230id\u4e3a".concat(e,"\u7684\u8282\u70b9"))}},{key:"setTheme",value:function(e){this.theme=d(F(F({},this.theme),e))}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"nodesMap",get:function(){return this.nodes.reduce((function(e,t,n){return e[t.id]={index:n,model:t},e}),{})}},{key:"edgesMap",get:function(){return this.edges.reduce((function(e,t,n){return e[t.id]={index:n,model:t},e}),{})}},{key:"sortElements",get:function(){var e=[];e=e.concat(this.nodes.sort((function(e,t){return e.zIndex-t.zIndex}))).concat(this.edges.sort((function(e,t){return e.zIndex-t.zIndex})));for(var t=[],n=-1,r=[-200,-200],o=[this.width+200,this.height+200],i=0;i<e.length;i++){var a=e[i];this.partial&&!this.isElementInArea(a,r,o,!1)||(a.zIndex===c.a&&(n=t.length),t.push(a))}if(-1!==n){var u=t[t.length-1];t[t.length-1]=t[n],t[n]=u}return t}},{key:"textEditElement",get:function(){var e=this.nodes.find((function(e){return e.state===c.b.TEXT_EDIT})),t=this.edges.find((function(e){return e.state===c.b.TEXT_EDIT}));return e||t}}])&&V(t.prototype,n),r&&V(t,r),e}()).prototype,"selectElementSize",[r.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=H(v.prototype,"edgeType",[r.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=H(v.prototype,"nodes",[r.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=H(v.prototype,"activeElement",[r.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=H(v.prototype,"activeElementState",[r.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=H(v.prototype,"state",[r.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=H(v.prototype,"additionStateData",[r.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=H(v.prototype,"edges",[r.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=H(v.prototype,"isSlient",[r.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P=H(v.prototype,"plugins",[r.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=H(v.prototype,"tools",[r.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=H(v.prototype,"background",[r.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=H(v.prototype,"transformMatrix",[r.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new a.a}}),N=H(v.prototype,"editConfig",[r.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=H(v.prototype,"gridSize",[r.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),T=H(v.prototype,"partial",[r.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),C=H(v.prototype,"fakerNode",[r.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H(v.prototype,"nodesMap",[r.k],Object.getOwnPropertyDescriptor(v.prototype,"nodesMap"),v.prototype),H(v.prototype,"edgesMap",[r.k],Object.getOwnPropertyDescriptor(v.prototype,"edgesMap"),v.prototype),H(v.prototype,"sortElements",[r.k],Object.getOwnPropertyDescriptor(v.prototype,"sortElements"),v.prototype),H(v.prototype,"textEditElement",[r.k],Object.getOwnPropertyDescriptor(v.prototype,"textEditElement"),v.prototype),H(v.prototype,"setFakerNode",[r.i],Object.getOwnPropertyDescriptor(v.prototype,"setFakerNode"),v.prototype),H(v.prototype,"removeFakerNode",[r.i],Object.getOwnPropertyDescriptor(v.prototype,"removeFakerNode"),v.prototype),H(v.prototype,"setModel",[r.i],Object.getOwnPropertyDescriptor(v.prototype,"setModel"),v.prototype),H(v.prototype,"updateEdgeByIndex",[r.i],Object.getOwnPropertyDescriptor(v.prototype,"updateEdgeByIndex"),v.prototype),H(v.prototype,"toFront",[r.i],Object.getOwnPropertyDescriptor(v.prototype,"toFront"),v.prototype),H(v.prototype,"deleteNode",[r.i],Object.getOwnPropertyDescriptor(v.prototype,"deleteNode"),v.prototype),H(v.prototype,"addNode",[r.i],Object.getOwnPropertyDescriptor(v.prototype,"addNode"),v.prototype),H(v.prototype,"cloneNode",[r.i],Object.getOwnPropertyDescriptor(v.prototype,"cloneNode"),v.prototype),H(v.prototype,"moveNode",[r.i],Object.getOwnPropertyDescriptor(v.prototype,"moveNode"),v.prototype),H(v.prototype,"setTextEditable",[r.i],Object.getOwnPropertyDescriptor(v.prototype,"setTextEditable"),v.prototype),H(v.prototype,"createEdge",[r.i],Object.getOwnPropertyDescriptor(v.prototype,"createEdge"),v.prototype),H(v.prototype,"moveEdge",[r.i],Object.getOwnPropertyDescriptor(v.prototype,"moveEdge"),v.prototype),H(v.prototype,"removeEdge",[r.i],Object.getOwnPropertyDescriptor(v.prototype,"removeEdge"),v.prototype),H(v.prototype,"removeEdgeById",[r.i],Object.getOwnPropertyDescriptor(v.prototype,"removeEdgeById"),v.prototype),H(v.prototype,"removeEdgeBySource",[r.i],Object.getOwnPropertyDescriptor(v.prototype,"removeEdgeBySource"),v.prototype),H(v.prototype,"removeEdgeByTarget",[r.i],Object.getOwnPropertyDescriptor(v.prototype,"removeEdgeByTarget"),v.prototype),H(v.prototype,"setElementState",[r.i],Object.getOwnPropertyDescriptor(v.prototype,"setElementState"),v.prototype),H(v.prototype,"setElementStateById",[r.i],Object.getOwnPropertyDescriptor(v.prototype,"setElementStateById"),v.prototype),H(v.prototype,"setElementTextById",[r.i],Object.getOwnPropertyDescriptor(v.prototype,"setElementTextById"),v.prototype),H(v.prototype,"resetElementState",[r.i],Object.getOwnPropertyDescriptor(v.prototype,"resetElementState"),v.prototype),H(v.prototype,"selectNodeById",[r.i],Object.getOwnPropertyDescriptor(v.prototype,"selectNodeById"),v.prototype),H(v.prototype,"selectEdgeById",[r.i],Object.getOwnPropertyDescriptor(v.prototype,"selectEdgeById"),v.prototype),H(v.prototype,"selectElementById",[r.i],Object.getOwnPropertyDescriptor(v.prototype,"selectElementById"),v.prototype),H(v.prototype,"clearSelectElements",[r.i],Object.getOwnPropertyDescriptor(v.prototype,"clearSelectElements"),v.prototype),H(v.prototype,"moveElements",[r.i],Object.getOwnPropertyDescriptor(v.prototype,"moveElements"),v.prototype),H(v.prototype,"changeEdgeType",[r.i],Object.getOwnPropertyDescriptor(v.prototype,"changeEdgeType"),v.prototype),H(v.prototype,"changeNodeType",[r.i],Object.getOwnPropertyDescriptor(v.prototype,"changeNodeType"),v.prototype),H(v.prototype,"setTheme",[r.i],Object.getOwnPropertyDescriptor(v.prototype,"setTheme"),v.prototype),H(v.prototype,"clearData",[r.i],Object.getOwnPropertyDescriptor(v.prototype,"clearData"),v.prototype),v);t.b=W},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(131))},function(e,t,n){"use strict";var r=n(38),o=n(12);t.a=function(e){if(!Object(o.a)(e))return!1;var t=Object(r.a)(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,n){"use strict";var r=n(87);t.a=function(e,t,n){"__proto__"==t&&r.a?Object(r.a)(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){"use strict";t.a=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){"use strict";t.a=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},function(e,t,n){"use strict";t.a=function(){return[]}},function(e,t,n){"use strict";var r=n(81),o=n(6);t.a=function(e,t,n){var i=t(e);return Object(o.a)(e)?i:Object(r.a)(i,n(e))}},function(e,t,n){"use strict";var r=function(e){return function(){return e}},o=n(87),i=n(78),a=o.a?function(e,t){return Object(o.a)(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:i.a,c=Date.now,u=function(e){var t=0,n=0;return function(){var r=c(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(a);t.a=u},function(e,t,n){"use strict";var r=function(e,t){return null!=e&&t in Object(e)},o=n(60),i=n(85),a=n(6),c=n(54),u=n(79),s=n(42),l=function(e,t,n){for(var r=-1,l=(t=Object(o.a)(t,e)).length,f=!1;++r<l;){var p=Object(s.a)(t[r]);if(!(f=null!=e&&n(e,p)))break;e=e[p]}return f||++r!=l?f:!!(l=null==e?0:e.length)&&Object(u.a)(l)&&Object(c.a)(p,l)&&(Object(a.a)(e)||Object(i.a)(e))};t.a=function(e,t){return null!=e&&l(e,t,r)}},function(e,t,n){"use strict";var r=n(38),o=n(79),i=n(24),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1;var c=function(e){return Object(i.a)(e)&&Object(o.a)(e.length)&&!!a[Object(r.a)(e)]},u=n(80),s=n(48),l=s.a&&s.a.isTypedArray,f=l?Object(u.a)(l):c;t.a=f},function(e,t,n){"use strict";var r=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},o=n(85),i=n(6),a=n(71),c=n(54),u=n(128),s=Object.prototype.hasOwnProperty;t.a=function(e,t){var n=Object(i.a)(e),l=!n&&Object(o.a)(e),f=!n&&!l&&Object(a.a)(e),p=!n&&!l&&!f&&Object(u.a)(e),d=n||l||f||p,h=d?r(e.length,String):[],y=h.length;for(var b in e)!t&&!s.call(e,b)||d&&("length"==b||f&&("offset"==b||"parent"==b)||p&&("buffer"==b||"byteLength"==b||"byteOffset"==b)||Object(c.a)(b,y))||h.push(b);return h}},function(e,t,n){"use strict";var r=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},o=Math.max;t.a=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,c=o(i.length-t,0),u=Array(c);++a<c;)u[a]=i[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=i[a];return s[t]=n(u),r(e,this,s)}}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(19),o=n(46);e.exports=function(e,t){try{o(r,e,t)}catch(n){r[e]=t}return t}},function(e,t,n){var r=n(19),o=n(132),i=r["__core-js_shared__"]||o("__core-js_shared__",{});e.exports=i},function(e,t,n){var r=n(164),o=n(136),i=r("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},function(e,t){e.exports=!1},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},function(e,t,n){var r=n(75),o=Math.max,i=Math.min;e.exports=function(e,t){var n=r(e);return n<0?o(n+t,0):i(n,t)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,n){var r=n(10),o=/#|\.prototype\./,i=function(e,t){var n=c[a(e)];return n==s||n!=u&&("function"==typeof t?r(t):!!t)},a=i.normalize=function(e){return String(e).replace(o,".").toLowerCase()},c=i.data={},u=i.NATIVE="N",s=i.POLYFILL="P";e.exports=i},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,n){var r=n(33),o=n(170),i=n(17)("species");e.exports=function(e,t){var n;return o(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!o(n.prototype)?r(n)&&null===(n=n[i])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},function(e,t,n){"use strict";var r=n(5),o=n(167).indexOf,i=n(103),a=n(68),c=[].indexOf,u=!!c&&1/[1].indexOf(1,-0)<0,s=i("indexOf"),l=a("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:u||!s||!l},{indexOf:function(e){return u?c.apply(this,arguments)||0:o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(17),o=n(104),i=n(34),a=r("unscopables"),c=Array.prototype;null==c[a]&&i.f(c,a,{configurable:!0,value:o(null)}),e.exports=function(e){c[a][e]=!0}},function(e,t,n){var r=n(166),o=n(138);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t,n){"use strict";var r=n(5),o=n(207),i=n(146),a=n(148),c=n(147),u=n(46),s=n(51),l=n(17),f=n(135),p=n(90),d=n(172),h=d.IteratorPrototype,y=d.BUGGY_SAFARI_ITERATORS,b=l("iterator"),v=function(){return this};e.exports=function(e,t,n,l,d,g,m){o(n,t,l);var O,x,j,_=function(e){if(e===d&&A)return A;if(!y&&e in S)return S[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},w=t+" Iterator",E=!1,S=e.prototype,P=S[b]||S["@@iterator"]||d&&S[d],A=!y&&P||_(d),k="Array"==t&&S.entries||P;if(k&&(O=i(k.call(new e)),h!==Object.prototype&&O.next&&(f||i(O)===h||(a?a(O,h):"function"!=typeof O[b]&&u(O,b,v)),c(O,w,!0,!0),f&&(p[w]=v))),"values"==d&&P&&"values"!==P.name&&(E=!0,A=function(){return P.call(this)}),f&&!m||S[b]===A||u(S,b,A),p[t]=A,d)if(x={values:_("values"),keys:g?A:_("keys"),entries:_("entries")},m)for(j in x)(y||E||!(j in S))&&s(S,j,x[j]);else r({target:t,proto:!0,forced:y||E},x);return x}},function(e,t,n){var r=n(30),o=n(36),i=n(134),a=n(173),c=i("IE_PROTO"),u=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=o(e),r(e,c)?e[c]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?u:null}},function(e,t,n){var r=n(34).f,o=n(30),i=n(17)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t,n){var r=n(25),o=n(208);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,i){return r(n),o(i),t?e.call(n,i):n.__proto__=i,n}}():void 0)},function(e,t,n){var r,o,i=n(19),a=n(209),c=i.process,u=c&&c.versions,s=u&&u.v8;s?o=(r=s.split("."))[0]+r[1]:a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(o=r[1]),e.exports=o&&+o},function(e,t,n){var r={};r[n(17)("toStringTag")]="z",e.exports="[object z]"===String(r)},function(e,t,n){"use strict";var r=n(97),o=n(34),i=n(96);e.exports=function(e,t,n){var a=r(t);a in e?o.f(e,a,i(0,n)):e[a]=n}},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";n(77);var r=n(51),o=n(10),i=n(17),a=n(109),c=n(46),u=i("species"),s=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),l="$0"==="a".replace(/./,"$0"),f=i("replace"),p=!!/./[f]&&""===/./[f]("a","$0"),d=!o((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,f){var h=i(e),y=!o((function(){var t={};return t[h]=function(){return 7},7!=""[e](t)})),b=y&&!o((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[u]=function(){return n},n.flags="",n[h]=/./[h]),n.exec=function(){return t=!0,null},n[h](""),!t}));if(!y||!b||"replace"===e&&(!s||!l||p)||"split"===e&&!d){var v=/./[h],g=n(h,""[e],(function(e,t,n,r,o){return t.exec===a?y&&!o?{done:!0,value:v.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),m=g[0],O=g[1];r(String.prototype,e,m),r(RegExp.prototype,h,2==t?function(e,t){return O.call(e,this,t)}:function(e){return O.call(e,this)})}f&&c(RegExp.prototype[h],"sham",!0)}},function(e,t,n){"use strict";var r=n(183).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},function(e,t,n){var r=n(67),o=n(109);e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var i=n.call(e,t);if("object"!=typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},function(e,t,n){"use strict";var r=n(153),o=n(225),i=n(25),a=n(45),c=n(226),u=n(154),s=n(35),l=n(155),f=n(109),p=n(10),d=[].push,h=Math.min,y=!p((function(){return!RegExp(4294967295,"y")}));r("split",2,(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(a(this)),i=void 0===n?4294967295:n>>>0;if(0===i)return[];if(void 0===e)return[r];if(!o(e))return t.call(r,e,i);for(var c,u,s,l=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),h=0,y=new RegExp(e.source,p+"g");(c=f.call(y,r))&&!((u=y.lastIndex)>h&&(l.push(r.slice(h,c.index)),c.length>1&&c.index<r.length&&d.apply(l,c.slice(1)),s=c[0].length,h=u,l.length>=i));)y.lastIndex===c.index&&y.lastIndex++;return h===r.length?!s&&y.test("")||l.push(""):l.push(r.slice(h)),l.length>i?l.slice(0,i):l}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var o=a(this),i=null==t?void 0:t[e];return void 0!==i?i.call(t,o,n):r.call(String(o),t,n)},function(e,o){var a=n(r,e,this,o,r!==t);if(a.done)return a.value;var f=i(e),p=String(this),d=c(f,RegExp),b=f.unicode,v=(f.ignoreCase?"i":"")+(f.multiline?"m":"")+(f.unicode?"u":"")+(y?"y":"g"),g=new d(y?f:"^(?:"+f.source+")",v),m=void 0===o?4294967295:o>>>0;if(0===m)return[];if(0===p.length)return null===l(g,p)?[p]:[];for(var O=0,x=0,j=[];x<p.length;){g.lastIndex=y?x:0;var _,w=l(g,y?p:p.slice(x));if(null===w||(_=h(s(g.lastIndex+(y?0:x)),p.length))===O)x=u(p,x,b);else{if(j.push(p.slice(O,x)),j.length===m)return j;for(var E=1;E<=w.length-1;E++)if(j.push(w[E]),j.length===m)return j;x=O=_}}return j.push(p.slice(O)),j}]}),!y)},function(e,t,n){var r=n(5),o=n(227);r({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},function(e,t,n){n(5)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,s=[],l=!1,f=-1;function p(){l&&u&&(l=!1,u.length?s=u.concat(s):f=-1,s.length&&d())}function d(){if(!l){var e=c(p);l=!0;for(var t=s.length;t;){for(u=s,s=[];++f<t;)u&&u[f].run();f=-1,t=s.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function y(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new h(e,t)),1!==s.length||l||c(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);t.f=i?function(e){var t=o(this,e);return!!t&&t.enumerable}:r},function(e,t,n){var r=n(29),o=n(10),i=n(162);e.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(19),o=n(33),i=r.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t,n){var r=n(133),o=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return o.call(e)}),e.exports=r.inspectSource},function(e,t,n){var r=n(135),o=n(133);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.8.1",mode:r?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var r=n(166),o=n(138).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t,n){var r=n(30),o=n(74),i=n(167).indexOf,a=n(99);e.exports=function(e,t){var n,c=o(e),u=0,s=[];for(n in c)!r(a,n)&&r(c,n)&&s.push(n);for(;t.length>u;)r(c,n=t[u++])&&(~i(s,n)||s.push(n));return s}},function(e,t,n){var r=n(74),o=n(35),i=n(137),a=function(e){return function(t,n,a){var c,u=r(t),s=o(u.length),l=i(a,s);if(e&&n!=n){for(;s>l;)if((c=u[l++])!=c)return!0}else for(;s>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){"use strict";var r=n(101).forEach,o=n(103),i=n(68),a=o("forEach"),c=i("forEach");e.exports=a&&c?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},function(e,t,n){var r=n(67);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(10);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},function(e,t,n){"use strict";var r,o,i,a=n(146),c=n(46),u=n(30),s=n(17),l=n(135),f=s("iterator"),p=!1;[].keys&&("next"in(i=[].keys())?(o=a(a(i)))!==Object.prototype&&(r=o):p=!0),null==r&&(r={}),l||u(r,f)||c(r,f,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},function(e,t,n){var r=n(10);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,n){var r=n(99),o=n(33),i=n(30),a=n(34).f,c=n(136),u=n(212),s=c("meta"),l=0,f=Object.isExtensible||function(){return!0},p=function(e){a(e,s,{value:{objectID:"O"+ ++l,weakData:{}}})},d=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,s)){if(!f(e))return"F";if(!t)return"E";p(e)}return e[s].objectID},getWeakData:function(e,t){if(!i(e,s)){if(!f(e))return!0;if(!t)return!1;p(e)}return e[s].weakData},onFreeze:function(e){return u&&d.REQUIRED&&f(e)&&!i(e,s)&&p(e),e}};r[s]=!0},function(e,t,n){var r=n(25),o=n(176),i=n(35),a=n(102),c=n(177),u=n(179),s=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,n){var l,f,p,d,h,y,b,v=n&&n.that,g=!(!n||!n.AS_ENTRIES),m=!(!n||!n.IS_ITERATOR),O=!(!n||!n.INTERRUPTED),x=a(t,v,1+g+O),j=function(e){return l&&u(l),new s(!0,e)},_=function(e){return g?(r(e),O?x(e[0],e[1],j):x(e[0],e[1])):O?x(e,j):x(e)};if(m)l=e;else{if("function"!=typeof(f=c(e)))throw TypeError("Target is not iterable");if(o(f)){for(p=0,d=i(e.length);d>p;p++)if((h=_(e[p]))&&h instanceof s)return h;return new s(!1)}l=f.call(e)}for(y=l.next;!(b=y.call(l)).done;){try{h=_(b.value)}catch(e){throw u(l),e}if("object"==typeof h&&h&&h instanceof s)return h}return new s(!1)}},function(e,t,n){var r=n(17),o=n(90),i=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||a[i]===e)}},function(e,t,n){var r=n(178),o=n(90),i=n(17)("iterator");e.exports=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){var r=n(150),o=n(67),i=n(17)("toStringTag"),a="Arguments"==o(function(){return arguments}());e.exports=r?o:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:a?o(t):"Object"==(r=o(t))&&"function"==typeof t.callee?"Arguments":r}},function(e,t,n){var r=n(25);e.exports=function(e){var t=e.return;if(void 0!==t)return r(t.call(e)).value}},function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},function(e,t,n){var r=n(17)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},e(i)}catch(e){}return n}},function(e,t,n){var r=n(33),o=n(148);e.exports=function(e,t,n){var i,a;return o&&"function"==typeof(i=t.constructor)&&i!==n&&r(a=i.prototype)&&a!==n.prototype&&o(e,a),e}},function(e,t,n){var r=n(75),o=n(45),i=function(e){return function(t,n){var i,a,c=String(o(t)),u=r(n),s=c.length;return u<0||u>=s?e?"":void 0:(i=c.charCodeAt(u))<55296||i>56319||u+1===s||(a=c.charCodeAt(u+1))<56320||a>57343?e?c.charAt(u):i:e?c.slice(u,u+2):a-56320+(i-55296<<10)+65536}};e.exports={codeAt:i(!1),charAt:i(!0)}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){"use strict";var r=n(51),o=n(25),i=n(10),a=n(186),c=RegExp.prototype,u=c.toString,s=i((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),l="toString"!=u.name;(s||l)&&r(RegExp.prototype,"toString",(function(){var e=o(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in c)?a.call(e):n)}),{unsafe:!0})},function(e,t,n){"use strict";var r=n(25);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){var r=n(5),o=n(36),i=n(144);r({target:"Object",stat:!0,forced:n(10)((function(){i(1)}))},{keys:function(e){return i(o(e))}})},function(e,t,n){"use strict";var r=n(153),o=n(25),i=n(36),a=n(35),c=n(75),u=n(45),s=n(154),l=n(155),f=Math.max,p=Math.min,d=Math.floor,h=/\$([$&'`]|\d\d?|<[^>]*>)/g,y=/\$([$&'`]|\d\d?)/g;r("replace",2,(function(e,t,n,r){var b=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,v=r.REPLACE_KEEPS_$0,g=b?"$":"$0";return[function(n,r){var o=u(this),i=null==n?void 0:n[e];return void 0!==i?i.call(n,o,r):t.call(String(o),n,r)},function(e,r){if(!b&&v||"string"==typeof r&&-1===r.indexOf(g)){var i=n(t,e,this,r);if(i.done)return i.value}var u=o(e),d=String(this),h="function"==typeof r;h||(r=String(r));var y=u.global;if(y){var O=u.unicode;u.lastIndex=0}for(var x=[];;){var j=l(u,d);if(null===j)break;if(x.push(j),!y)break;""===String(j[0])&&(u.lastIndex=s(d,a(u.lastIndex),O))}for(var _,w="",E=0,S=0;S<x.length;S++){j=x[S];for(var P=String(j[0]),A=f(p(c(j.index),d.length),0),k=[],D=1;D<j.length;D++)k.push(void 0===(_=j[D])?_:String(_));var N=j.groups;if(h){var M=[P].concat(k,A,d);void 0!==N&&M.push(N);var T=String(r.apply(void 0,M))}else T=m(P,d,A,k,N,r);A>=E&&(w+=d.slice(E,A)+T,E=A+P.length)}return w+d.slice(E)}];function m(e,n,r,o,a,c){var u=r+e.length,s=o.length,l=y;return void 0!==a&&(a=i(a),l=h),t.call(c,l,(function(t,i){var c;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,r);case"'":return n.slice(u);case"<":c=a[i.slice(1,-1)];break;default:var l=+i;if(0===l)return t;if(l>s){var f=d(l/10);return 0===f?t:f<=s?void 0===o[f-1]?i.charAt(1):o[f-1]+i.charAt(1):t}c=o[l-1]}return void 0===c?"":c}))}}))},function(e,t,n){"use strict";var r=n(5),o=n(229);r({target:"String",proto:!0,forced:n(230)("anchor")},{anchor:function(e){return o(this,"a","name",e)}})},function(e,t){},function(e,t,n){"use strict";n.r(t);var r=n(53);n.d(t,"createUuid",(function(){return r.a}));var o=n(20);n.d(t,"createDrag",(function(){return o.b})),n.d(t,"StepDrag",(function(){return o.a}))},function(e,t,n){"use strict";n(117)},function(e,t,n){"use strict";n.d(t,"a",(function(){return W})),n.d(t,"b",(function(){return ie})),n.d(t,"c",(function(){return we})),n.d(t,"d",(function(){return Ie})),n.d(t,"e",(function(){return qe})),n.d(t,"f",(function(){return ut})),n.d(t,"g",(function(){return gt})),n(40),n(37),n(157),n(23);var r,o,i,a,c,u,s,l,f,p,d,h,y,b,v,g,m,O,x,j,_,w,E,S,P,A=n(0),k=n(28),D=n(44),N=n(53),M=n(7),T=n(2),C=n(27),R=n(3);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G(e,t,n){return t&&U(e.prototype,t),n&&U(e,n),e}function X(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var Y,V,H=Object(k.a)({x:0,y:0,zIndex:1,text:{value:"",x:0,y:0,draggable:!1,editable:!0}},M.a.rect,M.a.circle),W=(o=X((r=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=Object(N.a)(),this.BaseType=T.c.NODE,this.modelType=T.e.NODE,this.additionStateData=void 0,this.menu=void 0,this.targetRules=[],this.sourceRules=[],this.hasSetTargetRules=!1,this.hasSetSourceRules=!1,F(this,"properties",o,this),F(this,"type",i,this),F(this,"x",a,this),F(this,"y",c,this),F(this,"_width",u,this),F(this,"_height",s,this),F(this,"fill",l,this),F(this,"fillOpacity",f,this),F(this,"strokeWidth",p,this),F(this,"stroke",d,this),F(this,"strokeOpacity",h,this),F(this,"opacity",y,this),F(this,"outlineColor",b,this),F(this,"hoverOutlineColor",v,this),F(this,"outlineStrokeDashArray",g,this),F(this,"hoverOutlineStrokeDashArray",m,this),F(this,"isSelected",O,this),F(this,"isHovered",x,this),F(this,"isHitable",j,this),F(this,"zIndex",_,this),F(this,"anchorsOffset",w,this),F(this,"state",E,this),F(this,"text",S,this),F(this,"draggable",P,this),this.setStyleFromTheme(r,n),this.initNodeData(t),this.setAttributes()}return G(e,[{key:"width",get:function(){return this._width},set:function(e){this._width=e}},{key:"height",get:function(){return this._height},set:function(e){this._height=e}}]),G(e,[{key:"initNodeData",value:function(e){e.properties||(e.properties={}),this.formatText(e),Object(k.a)(this,Object(R.k)(e))}},{key:"formatText",value:function(e){e.text||(e.text={value:"",x:e.x,y:e.y,draggable:!1,editable:!0}),e.text&&"string"==typeof e.text?e.text={value:e.text,x:e.x,y:e.y,draggable:!1,editable:!0}:e.text&&void 0===e.text.editable&&(e.text.editable=!0)}},{key:"setAttributes",value:function(){}},{key:"getData",value:function(){var e=this.text,t=e.x,n=e.y,r=e.value,o=this.properties;Object(A.v)(o)&&(o=Object(A.G)(o));var i={id:this.id,type:this.type,x:this.x,y:this.y,properties:o};return r&&(i.text={x:t,y:n,value:r}),i}},{key:"getProperties",value:function(){return Object(A.G)(this.properties)}},{key:"isAllowConnectedAsSource",value:function(e){var t=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var n,r=!0,o=0;o<t.length;o++){var i=t[o];if(!i.validate.call(this,this,e)){r=!1,n=i.message;break}}return{isAllPass:r,msg:n}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(e){var t=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var n,r=!0,o=0;o<t.length;o++){var i=t[o];if(!i.validate.call(this,e,this)){r=!1,n=i.message;break}}return{isAllPass:r,msg:n}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var e=this.anchorsOffset,t=this.x,n=this.y;return e.map((function(e){return{x:t+e[0],y:n+e[1]}}))}},{key:"move",value:function(e,t){this.x+=e,this.y+=t,this.text&&this.moveText(e,t)}},{key:"moveTo",value:function(e,t){if(this.text){var n=e-this.x,r=t-this.y;this.text&&this.moveText(n,r)}this.x=e,this.y=t}},{key:"moveText",value:function(e,t){var n=this.text,r=n.x,o=n.y,i=n.value,a=n.draggable,c=n.editable;this.text={value:i,editable:c,draggable:a,x:r+e,y:o+t}}},{key:"updateText",value:function(e){this.text.value=e}},{key:"setSelected",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isSelected=e}},{key:"setHovered",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHovered=e}},{key:"setHitable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHitable=e}},{key:"setElementState",value:function(e,t){this.state=e,this.additionStateData=t}},{key:"updateStroke",value:function(e){this.stroke=e}},{key:"updateData",value:function(e){var t=Object(C.a)(Object(D.a)(e,"type","x","y","text","properties")),n=this.text,r=n.x,o=n.y,i=n.draggable,a=n.editable;if(t.text&&"string"==typeof t.text)t.text={x:r,y:o,value:t.text,draggable:i,editable:a};else if("object"===B(t.text)){var c=L(L({},this.text),t.text);t.text=Object(D.a)(c,"x","y","value","draggable","editable")}Object(k.a)(this,t)}},{key:"setProperty",value:function(e,t){this.properties[e]=Object(C.a)(t)}},{key:"setProperties",value:function(e){this.properties=Object.assign(this.properties,e)}},{key:"setStyleFromTheme",value:function(e,t){var n=t.theme;n[e]&&Object(k.a)(this,n[e])}},{key:"setZIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H.zIndex;this.zIndex=e}},{key:"updateAttributes",value:function(e){Object(k.a)(this,e)}},{key:"anchors",get:function(){var e=this.anchorsOffset;return e&&e.length>0?this.getAnchorsByOffset():[]}}]),e}()).prototype,"properties",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),i=X(r.prototype,"type",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),a=X(r.prototype,"x",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return H.x}}),c=X(r.prototype,"y",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return H.y}}),u=X(r.prototype,"_width",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return H.width}}),s=X(r.prototype,"_height",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return H.height}}),l=X(r.prototype,"fill",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return H.fill}}),f=X(r.prototype,"fillOpacity",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return H.fillOpacity}}),p=X(r.prototype,"strokeWidth",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return H.strokeWidth}}),d=X(r.prototype,"stroke",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return H.stroke}}),h=X(r.prototype,"strokeOpacity",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return H.strokeOpacity}}),y=X(r.prototype,"opacity",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return H.opacity}}),b=X(r.prototype,"outlineColor",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return H.outlineColor}}),v=X(r.prototype,"hoverOutlineColor",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return H.hoverOutlineColor}}),g=X(r.prototype,"outlineStrokeDashArray",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return H.outlineStrokeDashArray}}),m=X(r.prototype,"hoverOutlineStrokeDashArray",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return H.hoverOutlineStrokeDashArray}}),O=X(r.prototype,"isSelected",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=X(r.prototype,"isHovered",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),j=X(r.prototype,"isHitable",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_=X(r.prototype,"zIndex",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return H.zIndex}}),w=X(r.prototype,"anchorsOffset",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=X(r.prototype,"state",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),S=X(r.prototype,"text",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return H.text}}),P=X(r.prototype,"draggable",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),X(r.prototype,"move",[A.i],Object.getOwnPropertyDescriptor(r.prototype,"move"),r.prototype),X(r.prototype,"moveTo",[A.i],Object.getOwnPropertyDescriptor(r.prototype,"moveTo"),r.prototype),X(r.prototype,"moveText",[A.i],Object.getOwnPropertyDescriptor(r.prototype,"moveText"),r.prototype),X(r.prototype,"updateText",[A.i],Object.getOwnPropertyDescriptor(r.prototype,"updateText"),r.prototype),X(r.prototype,"setSelected",[A.i],Object.getOwnPropertyDescriptor(r.prototype,"setSelected"),r.prototype),X(r.prototype,"setHovered",[A.i],Object.getOwnPropertyDescriptor(r.prototype,"setHovered"),r.prototype),X(r.prototype,"setHitable",[A.i],Object.getOwnPropertyDescriptor(r.prototype,"setHitable"),r.prototype),X(r.prototype,"setElementState",[A.i],Object.getOwnPropertyDescriptor(r.prototype,"setElementState"),r.prototype),X(r.prototype,"updateStroke",[A.i],Object.getOwnPropertyDescriptor(r.prototype,"updateStroke"),r.prototype),X(r.prototype,"updateData",[A.i],Object.getOwnPropertyDescriptor(r.prototype,"updateData"),r.prototype),X(r.prototype,"setProperty",[A.i],Object.getOwnPropertyDescriptor(r.prototype,"setProperty"),r.prototype),X(r.prototype,"setProperties",[A.i],Object.getOwnPropertyDescriptor(r.prototype,"setProperties"),r.prototype),X(r.prototype,"setStyleFromTheme",[A.i],Object.getOwnPropertyDescriptor(r.prototype,"setStyleFromTheme"),r.prototype),X(r.prototype,"setZIndex",[A.i],Object.getOwnPropertyDescriptor(r.prototype,"setZIndex"),r.prototype),X(r.prototype,"updateAttributes",[A.i],Object.getOwnPropertyDescriptor(r.prototype,"updateAttributes"),r.prototype),r);function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ee(e);if(t){var o=ee(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return J(this,n)}}function J(e,t){return!t||"object"!==K(t)&&"function"!=typeof t?$(e):t}function $(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function te(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var ne,re,oe,ie=(V=te((Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(i,e);var t,n,r,o=Q(i);function i(e,t){var n,r,a,c,u;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,e,t,"circle")).modelType=T.e.CIRCLE_NODE,r=n,a="r",c=V,u=$(n),c&&Object.defineProperty(r,a,{enumerable:c.enumerable,configurable:c.configurable,writable:c.writable,value:c.initializer?c.initializer.call(u):void 0}),n}return t=i,(n=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"anchors",get:function(){var e=this.anchorsOffset,t=this.x,n=this.y,r=this.r;return e&&e.length>0?this.getAnchorsByOffset():[{x:t,y:n-r},{x:t+r,y:n},{x:t,y:n+r},{x:t-r,y:n}]}}])&&q(t.prototype,n),r&&q(t,r),i}(W)).prototype,"r",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M.a.circle.r}}),te(Y.prototype,"width",[A.k],Object.getOwnPropertyDescriptor(Y.prototype,"width"),Y.prototype),te(Y.prototype,"height",[A.k],Object.getOwnPropertyDescriptor(Y.prototype,"height"),Y.prototype),te(Y.prototype,"anchors",[A.k],Object.getOwnPropertyDescriptor(Y.prototype,"anchors"),Y.prototype),Y);function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ue(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pe(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function de(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function he(e,t,n){return(he="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=me(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function ye(e,t){return(ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=me(e);if(t){var o=me(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ve(this,n)}}function ve(e,t){return!t||"object"!==ae(t)&&"function"!=typeof t?ge(e):t}function ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Oe(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}n(21),n(91),n(92),n(158),n(22);var xe,je,_e,we=(re=Oe((ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ye(e,t)}(i,e);var t,n,r,o=be(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,e,t,"diamond")).modelType=T.e.DIAMOND_NODE,pe(n,"rx",re,ge(n)),pe(n,"ry",oe,ge(n)),n}return t=i,(n=[{key:"getData",value:function(){var e=this.rx,t=this.ry;return le(le({},he(me(i.prototype),"getData",this).call(this)),{},{rx:e,ry:t})}},{key:"points",get:function(){var e=this.x,t=this.y,n=this.rx,r=this.ry;return[[e,t-r],[e+n,t],[e,t+r],[e-n,t]]}},{key:"pointsPosition",get:function(){return this.points.map((function(e){return{x:e[0],y:e[1]}}))}},{key:"width",get:function(){var e=Number.MAX_SAFE_INTEGER,t=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(n){var r=ce(n,1)[0];r<e&&(e=r),r>t&&(t=r)})),t-e}},{key:"height",get:function(){var e=Number.MAX_SAFE_INTEGER,t=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(n){var r=ce(n,2)[1];r<e&&(e=r),r>t&&(t=r)})),t-e}},{key:"anchors",get:function(){var e=this.anchorsOffset,t=this.points;return e&&e.length>0?this.getAnchorsByOffset():t.map((function(e){var t=ce(e,2);return{x:t[0],y:t[1]}}))}}])&&de(t.prototype,n),r&&de(t,r),i}(W)).prototype,"rx",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=Oe(ne.prototype,"ry",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oe(ne.prototype,"points",[A.k],Object.getOwnPropertyDescriptor(ne.prototype,"points"),ne.prototype),Oe(ne.prototype,"pointsPosition",[A.k],Object.getOwnPropertyDescriptor(ne.prototype,"pointsPosition"),ne.prototype),Oe(ne.prototype,"width",[A.k],Object.getOwnPropertyDescriptor(ne.prototype,"width"),ne.prototype),Oe(ne.prototype,"height",[A.k],Object.getOwnPropertyDescriptor(ne.prototype,"height"),ne.prototype),Oe(ne.prototype,"anchors",[A.k],Object.getOwnPropertyDescriptor(ne.prototype,"anchors"),ne.prototype),ne);function Ee(e){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Se(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ae(e,t){return(Ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ke(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Me(e);if(t){var o=Me(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return De(this,n)}}function De(e,t){return!t||"object"!==Ee(t)&&"function"!=typeof t?Ne(e):t}function Ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Me(e){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Te(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var Ce,Re,Ie=(je=Te((xe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ae(e,t)}(i,e);var t,n,r,o=ke(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,e,t,"ellipse")).modelType=T.e.ELLIPSE_NODE,Se(n,"rx",je,Ne(n)),Se(n,"ry",_e,Ne(n)),n}return t=i,(n=[{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"anchors",get:function(){var e=this.anchorsOffset,t=this.x,n=this.y,r=this.rx,o=this.ry;return e&&e.length>0?this.getAnchorsByOffset():[{x:t,y:n-o},{x:t+r,y:n},{x:t,y:n+o},{x:t-r,y:n}]}}])&&Pe(t.prototype,n),r&&Pe(t,r),i}(W)).prototype,"rx",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M.a.ellipse.rx}}),_e=Te(xe.prototype,"ry",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M.a.ellipse.ry}}),Te(xe.prototype,"width",[A.k],Object.getOwnPropertyDescriptor(xe.prototype,"width"),xe.prototype),Te(xe.prototype,"height",[A.k],Object.getOwnPropertyDescriptor(xe.prototype,"height"),xe.prototype),Te(xe.prototype,"anchors",[A.k],Object.getOwnPropertyDescriptor(xe.prototype,"anchors"),xe.prototype),xe);function Le(e){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ze(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Be(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ue(e,t){return(Ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ge(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ve(e);if(t){var o=Ve(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xe(this,n)}}function Xe(e,t){return!t||"object"!==Le(t)&&"function"!=typeof t?Ye(e):t}function Ye(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ve(e){return(Ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function He(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var We,Ke,qe=(Re=He((Ce=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ue(e,t)}(i,e);var t,n,r,o=Ge(i);function i(e,t){var n,r,a,c,u;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,e,t,"polygon")).modelType=T.e.POLYGON_NODE,r=n,a="points",c=Re,u=Ye(n),c&&Object.defineProperty(r,a,{enumerable:c.enumerable,configurable:c.configurable,writable:c.writable,value:c.initializer?c.initializer.call(u):void 0}),n}return t=i,(n=[{key:"pointsPosition",get:function(){var e=this.x,t=this.y,n=this.width,r=this.height;return this.points.map((function(o){return{x:o[0]+e-n/2,y:o[1]+t-r/2}}))}},{key:"width",get:function(){var e=Number.MAX_SAFE_INTEGER,t=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(n){var r=ze(n,1)[0];r<e&&(e=r),r>t&&(t=r)})),t-e}},{key:"height",get:function(){var e=Number.MAX_SAFE_INTEGER,t=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(n){var r=ze(n,2)[1];r<e&&(e=r),r>t&&(t=r)})),t-e}},{key:"anchors",get:function(){var e=this.anchorsOffset,t=this.x,n=this.y,r=this.width,o=this.height,i=this.points;return e&&e.length>0?this.getAnchorsByOffset():i.map((function(e){var i=ze(e,2),a=i[0],c=i[1];return{x:t+a-r/2,y:n+c-o/2}}))}}])&&Fe(t.prototype,n),r&&Fe(t,r),i}(W)).prototype,"points",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),He(Ce.prototype,"pointsPosition",[A.k],Object.getOwnPropertyDescriptor(Ce.prototype,"pointsPosition"),Ce.prototype),He(Ce.prototype,"width",[A.k],Object.getOwnPropertyDescriptor(Ce.prototype,"width"),Ce.prototype),He(Ce.prototype,"height",[A.k],Object.getOwnPropertyDescriptor(Ce.prototype,"height"),Ce.prototype),He(Ce.prototype,"anchors",[A.k],Object.getOwnPropertyDescriptor(Ce.prototype,"anchors"),Ce.prototype),Ce);function Ze(e){return(Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Je(e,t){return(Je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=nt(e);if(t){var o=nt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return et(this,n)}}function et(e,t){return!t||"object"!==Ze(t)&&"function"!=typeof t?tt(e):t}function tt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nt(e){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rt(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var ot,it,at,ct,ut=(Ke=rt((We=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Je(e,t)}(i,e);var t,n,r,o=$e(i);function i(e,t){var n,r,a,c,u;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,e,t,"rect")).modelType=T.e.RECT_NODE,r=n,a="radius",c=Ke,u=tt(n),c&&Object.defineProperty(r,a,{enumerable:c.enumerable,configurable:c.configurable,writable:c.writable,value:c.initializer?c.initializer.call(u):void 0}),n}return t=i,(n=[{key:"anchors",get:function(){var e=this.anchorsOffset,t=this.x,n=this.y,r=this.width,o=this.height;return e&&e.length>0?this.getAnchorsByOffset():[{x:t,y:n-o/2},{x:t+r/2,y:n},{x:t,y:n+o/2},{x:t-r/2,y:n}]}}])&&Qe(t.prototype,n),r&&Qe(t,r),i}(W)).prototype,"radius",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M.a.rect.radius}}),rt(We.prototype,"anchors",[A.k],Object.getOwnPropertyDescriptor(We.prototype,"anchors"),We.prototype),We);function st(e){return(st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lt(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pt(e,t){return(pt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=bt(e);if(t){var o=bt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ht(this,n)}}function ht(e,t){return!t||"object"!==st(t)&&"function"!=typeof t?yt(e):t}function yt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bt(e){return(bt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vt(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var gt=(it=vt((ot=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pt(e,t)}(i,e);var t,n,r,o=dt(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,e,t,"text")).modelType=T.e.TEXT_NODE,lt(n,"fontSize",it,yt(n)),lt(n,"fontFamily",at,yt(n)),lt(n,"fontWeight",ct,yt(n)),n}return t=i,(n=[{key:"width",get:function(){return this.fontSize*this.text.value.length}},{key:"height",get:function(){return 1.5*this.fontSize}}])&&ft(t.prototype,n),r&&ft(t,r),i}(W)).prototype,"fontSize",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M.a.text.fontSize}}),at=vt(ot.prototype,"fontFamily",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M.a.text.fontFamily}}),ct=vt(ot.prototype,"fontWeight",[A.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return M.a.text.fontWeight}}),vt(ot.prototype,"width",[A.k],Object.getOwnPropertyDescriptor(ot.prototype,"width"),ot.prototype),vt(ot.prototype,"height",[A.k],Object.getOwnPropertyDescriptor(ot.prototype,"height"),ot.prototype),ot)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a.a})),n.d(t,"b",(function(){return E})),n.d(t,"c",(function(){return S.a})),n.d(t,"d",(function(){return P.a}));var r,o,i,a=n(52),c=(n(39),n(21),n(37),n(23),n(22),n(0)),u=n(2),s=n(4),l=n(7);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return(g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x(this,n)}}function x(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?j(e):t}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var E=(i=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(a,e);var t,n,r,i=O(a);function a(e,t){var n,r,c,s,f;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e,t,"bezier")).modelType=u.e.BEZIER_EDGE,n.offset=l.a.bezier.offset,r=n,c="path",s=o,f=j(n),s&&Object.defineProperty(r,c,{enumerable:s.enumerable,configurable:s.configurable,writable:s.writable,value:s.initializer?s.initializer.call(f):void 0}),n}return t=a,(n=[{key:"getData",value:function(){var e=g(_(a.prototype),"getData",this).call(this),t=this.pointsList.map((function(e){return{x:e.x,y:e.y}}));return y(y({},e),{},{pointsList:t})}},{key:"getControls",value:function(){var e=this.startPoint,t=this.endPoint;return Object(s.c)({start:e,end:t,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(e){var t=p(e,4),n=t[0],r=t[1],o=t[2],i=t[3];return"M ".concat(n.x," ").concat(n.y," \n    C ").concat(r.x," ").concat(r.y,",\n    ").concat(o.x," ").concat(o.y,",\n    ").concat(i.x," ").concat(i.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var e={x:this.startPoint.x,y:this.startPoint.y},t={x:this.endPoint.x,y:this.endPoint.y},n=this.getControls(),r=n.sNext,o=n.ePre;this.pointsList=[e,r,o,t],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(e){this.startPoint=e,this.updatePoints()}},{key:"updateEndPoint",value:function(e){this.endPoint=e,this.updatePoints()}},{key:"updateAdjustAnchor",value:function(e,t){"sNext"===t?this.pointsList[1]=e:"ePre"===t&&(this.pointsList[2]=e),this.path=this.getPath(this.pointsList)}},{key:"textPosition",get:function(){if(this.pointsList&&this.pointsList.length>0){var e=0,t=0;return this.pointsList.forEach((function(n){var r=n.x,o=n.y;e+=r,t+=o})),{x:e/this.pointsList.length,y:t/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&v(t.prototype,n),r&&v(t,r),a}(a.b),o=w((r=i).prototype,"path",[c.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),w(r.prototype,"textPosition",[c.k],Object.getOwnPropertyDescriptor(r.prototype,"textPosition"),r.prototype),w(r.prototype,"initPoints",[c.i],Object.getOwnPropertyDescriptor(r.prototype,"initPoints"),r.prototype),w(r.prototype,"updatePoints",[c.i],Object.getOwnPropertyDescriptor(r.prototype,"updatePoints"),r.prototype),w(r.prototype,"updateStartPoint",[c.i],Object.getOwnPropertyDescriptor(r.prototype,"updateStartPoint"),r.prototype),w(r.prototype,"updateEndPoint",[c.i],Object.getOwnPropertyDescriptor(r.prototype,"updateEndPoint"),r.prototype),w(r.prototype,"updateAdjustAnchor",[c.i],Object.getOwnPropertyDescriptor(r.prototype,"updateAdjustAnchor"),r.prototype),r),S=n(93),P=n(113)},function(e,t,n){"use strict";t.a=function(){return!1}},function(e,n,r){"use strict";(function(e){var o=r(11),i=t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,c=a&&a.exports===i?o.a.Buffer:void 0,u=c?c.allocUnsafe:void 0;n.a=function(e,t){if(t)return e.slice();var n=e.length,r=u?u(n):new e.constructor(n);return e.copy(r),r}}).call(this,r(152)(e))},function(e,t,n){"use strict";var r=n(82);t.a=function(e,t,n){var o=null==e?void 0:Object(r.a)(e,t);return void 0===o?n:o}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b}));var r=n(0);function o(e){throw new Error("[mobx-utils] "+e)}function i(e,t){void 0===t&&(t="Illegal state"),e||o(t)}var a=function e(t){return t&&t!==Object.prototype&&Object.getOwnPropertyNames(t).concat(e(Object.getPrototypeOf(t))||[])},c=function(e){return function(e){var t=a(e);return t.filter((function(e,n){return t.indexOf(e)===n}))}(e).filter((function(e){return"constructor"!==e&&!~e.indexOf("__")}))};function u(e){switch(this.state){case"pending":return e.pending&&e.pending(this.value);case"rejected":return e.rejected&&e.rejected(this.value);case"fulfilled":return e.fulfilled?e.fulfilled(this.value):this.value}}function s(e,t){if(i(arguments.length<=2,"fromPromise expects up to two arguments"),i("function"==typeof e||"object"==typeof e&&e&&"function"==typeof e.then,"Please pass a promise or function to fromPromise"),!0===e.isPromiseBasedObservable)return e;"function"==typeof e&&(e=new Promise(e));var n=e;e.then(Object(r.i)("observableFromPromise-resolve",(function(e){n.value=e,n.state="fulfilled"})),Object(r.i)("observableFromPromise-reject",(function(e){n.value=e,n.state="rejected"}))),n.isPromiseBasedObservable=!0,n.case=u;var o=t&&"fulfilled"===t.state?t.value:void 0;return Object(r.o)(n,{value:o,state:"pending"},{},{deep:!1}),n}!function(e){e.reject=Object(r.i)("fromPromise.reject",(function(t){var n=e(Promise.reject(t));return n.state="rejected",n.value=t,n})),e.resolve=Object(r.i)("fromPromise.resolve",(function(t){void 0===t&&(t=void 0);var n=e(Promise.resolve(t));return n.state="fulfilled",n.value=t,n}))}(s||(s={}));var l=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};!function(){function e(e,t){var n=this;Object(r.E)((function(){n.current=t,n.subscription=e.subscribe(n)}))}e.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},e.prototype.next=function(e){this.current=e},e.prototype.complete=function(){this.dispose()},e.prototype.error=function(e){this.current=e,this.dispose()},l([r.A.ref],e.prototype,"current",void 0),l([r.i.bound],e.prototype,"next",null),l([r.i.bound],e.prototype,"complete",null),l([r.i.bound],e.prototype,"error",null)}();var f=function(){return(f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},p=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},d=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];function h(e){if(!e)return"ROOT";for(var t=[];e.parent;)t.push(e.path),e=e.parent;return t.reverse().join("/")}function y(e){return Object(r.y)(e)||Object(r.w)(e)||Object(r.x)(e)}function b(e,t){var n=new WeakMap;function o(r){var o=n.get(r.object);!function(e,t){switch(e.type){case"add":i(e.newValue,t,e.name);break;case"update":a(e.oldValue),i(e.newValue,t,e.name||""+e.index);break;case"remove":case"delete":a(e.oldValue);break;case"splice":e.removed.map(a),e.added.forEach((function(n,r){return i(n,t,""+(e.index+r))}));for(var r=e.index+e.addedCount;r<e.object.length;r++)if(y(e.object[r])){var o=n.get(e.object[r]);o&&(o.path=""+r)}}}(r,o),t(r,h(o),e)}function i(e,t,a){if(y(e)){var c=n.get(e);if(c){if(c.parent!==t||c.path!==a)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+h(t)+"/"+a+"', but it already exists at '"+h(c.parent)+"/"+c.path+"'")}else{var u={parent:t,path:a,dispose:Object(r.B)(e,o)};n.set(e,u),Object(r.n)(e).forEach((function(e){var t=e[0];return i(e[1],u,t)}))}}}function a(e){if(y(e)){var t=n.get(e);if(!t)return;n.delete(e),t.dispose(),Object(r.J)(e).forEach(a)}}return i(e,void 0,""),function(){a(e)}}!function(){function e(e){var t=this;this.model=e,this.localValues=r.A.map({}),this.localComputedValues=r.A.map({}),this.isPropertyDirty=function(e){return t.localValues.has(e)},i(Object(r.y)(e),"createViewModel expects an observable object"),c(e).forEach((function(n){if(n!==r.a&&"__mobxDidRunLazyInitializers"!==n){if(i(-1===d.indexOf(n),"The propertyname "+n+" is reserved and cannot be used with viewModels"),Object(r.u)(e,n)){var o=Object(r.f)(e,n).derivation;t.localComputedValues.set(n,Object(r.k)(o.bind(t)))}var a=Object.getOwnPropertyDescriptor(e,n),c=a?{enumerable:a.enumerable}:{};Object.defineProperty(t,n,f(f({},c),{configurable:!0,get:function(){return Object(r.u)(e,n)?t.localComputedValues.get(n).get():t.isPropertyDirty(n)?t.localValues.get(n):t.model[n]},set:Object(r.i)((function(e){e!==t.model[n]?t.localValues.set(n,e):t.localValues.delete(n)}))}))}}))}Object.defineProperty(e.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),e.prototype.submit=function(){var e=this;Object(r.z)(this.localValues).forEach((function(t){var n=e.localValues.get(t),o=e.model[t];Object(r.w)(o)?o.replace(n):Object(r.x)(o)?(o.clear(),o.merge(n)):Object(r.t)(n)||(e.model[t]=n)})),this.localValues.clear()},e.prototype.reset=function(){this.localValues.clear()},e.prototype.resetProperty=function(e){this.localValues.delete(e)},p([r.k],e.prototype,"isDirty",null),p([r.k],e.prototype,"changedValues",null),p([r.i.bound],e.prototype,"submit",null),p([r.i.bound],e.prototype,"reset",null),p([r.i.bound],e.prototype,"resetProperty",null)}();var v,g=(v=function(e,t){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}v(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),m=(function(e){function t(t,n,o){var i=void 0===o?{}:o,a=i.name,c=void 0===a?"ogm"+(1e3*Math.random()|0):a,u=i.keyToName,s=void 0===u?function(e){return""+e}:u,l=e.call(this)||this;l._keyToName=s,l._groupBy=n,l._ogmInfoKey="function"==typeof Symbol?Symbol("ogmInfo"+c):"__ogmInfo"+c,l._base=t;for(var f=0;f<t.length;f++)l._addItem(t[f]);return l._disposeBaseObserver=Object(r.B)(l._base,(function(e){if("splice"===e.type)Object(r.H)((function(){for(var t=0,n=e.removed;t<n.length;t++){var r=n[t];l._removeItem(r)}for(var o=0,i=e.added;o<i.length;o++){var a=i[o];l._addItem(a)}}));else{if("update"!==e.type)throw new Error("illegal state");Object(r.H)((function(){l._removeItem(e.oldValue),l._addItem(e.newValue)}))}})),l}g(t,e),t.prototype.clear=function(){throw new Error("not supported")},t.prototype.delete=function(e){throw new Error("not supported")},t.prototype.set=function(e,t){throw new Error("not supported")},t.prototype.dispose=function(){this._disposeBaseObserver();for(var e=0;e<this._base.length;e++){var t=this._base[e];t[this._ogmInfoKey].reaction(),delete t[this._ogmInfoKey]}},t.prototype._getGroupArr=function(t){var n=e.prototype.get.call(this,t);return void 0===n&&(n=Object(r.A)([],{name:"GroupArray["+this._keyToName(t)+"]"}),e.prototype.set.call(this,t,n)),n},t.prototype._removeFromGroupArr=function(t,n){var r=e.prototype.get.call(this,t);1===r.length?e.prototype.delete.call(this,t):(n===r.length-1||(r[n]=r[r.length-1],r[n][this._ogmInfoKey].groupArrIndex=n),r.length--)},t.prototype._addItem=function(e){var t=this,n=this._groupBy(e),o=this._getGroupArr(n),i={groupByValue:n,groupArrIndex:o.length,reaction:Object(r.D)((function(){return t._groupBy(e)}),(function(n,r){console.log("new group by value ",n);var o=e[t._ogmInfoKey];t._removeFromGroupArr(o.groupByValue,o.groupArrIndex);var i=t._getGroupArr(n),a=i.length;i.push(e),o.groupByValue=n,o.groupArrIndex=a}))};Object.defineProperty(e,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:i}),o.push(e)},t.prototype._removeItem=function(e){var t=e[this._ogmInfoKey];this._removeFromGroupArr(t.groupByValue,t.groupArrIndex),t.reaction(),delete e[this._ogmInfoKey]}}(r.b),function(){function e(e,t){this.base=e,this.args=t,this.closestIdx=0,this.isDisposed=!1;for(var n=this.closest=this.root=e,r=0;r<this.args.length-1&&(n=n.get(t[r]));r++)this.closest=n;this.closestIdx=r}return e.prototype.exists=function(){this.assertNotDisposed();var e=this.args.length;return this.closestIdx>=e-1&&this.closest.has(this.args[e-1])},e.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},e.prototype.set=function(e){this.assertNotDisposed();for(var t=this.args.length,n=this.closest,r=this.closestIdx;r<t-1;r++){var o=new Map;n.set(this.args[r],o),n=o}this.closestIdx=t-1,this.closest=n,n.set(this.args[t-1],e)},e.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var e=this.args.length;this.closest.delete(this.args[e-1]);for(var t=this.root,n=[t],r=0;r<e-1;r++)t=t.get(this.args[r]),n.push(t);for(r=n.length-1;r>0;r--)0===n[r].size&&n[r-1].delete(this.args[r-1]);this.isDisposed=!0},e.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},e}());!function(){function e(){this.store=new Map,this.argsLength=-1}e.prototype.entry=function(e){if(-1===this.argsLength)this.argsLength=e.length;else if(this.argsLength!==e.length)throw new Error("DeepMap should be used with functions with a consistent length, expected: "+this.argsLength+", got: "+e.length);return this.last&&(this.last.isDisposed=!0),this.last=new m(this.store,e)}}(),new Set,new Set,Promise.resolve(),"undefined"!=typeof queueMicrotask?queueMicrotask:void 0!==e&&e.nextTick}).call(this,n(159))},function(e,t,n){var r;!function(o,i,a){if(o){for(var c,u={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},s={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},l={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},f={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},p=1;p<20;++p)u[111+p]="f"+p;for(p=0;p<=9;++p)u[p+96]=p.toString();g.prototype.bind=function(e,t,n){return e=e instanceof Array?e:[e],this._bindMultiple.call(this,e,t,n),this},g.prototype.unbind=function(e,t){return this.bind.call(this,e,(function(){}),t)},g.prototype.trigger=function(e,t){return this._directMap[e+":"+t]&&this._directMap[e+":"+t]({},e),this},g.prototype.reset=function(){return this._callbacks={},this._directMap={},this},g.prototype.stopCallback=function(e,t){if((" "+t.className+" ").indexOf(" mousetrap ")>-1)return!1;if(function e(t,n){return null!==t&&t!==i&&(t===n||e(t.parentNode,n))}(t,this.target))return!1;if("composedPath"in e&&"function"==typeof e.composedPath){var n=e.composedPath()[0];n!==e.target&&(t=n)}return"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable},g.prototype.handleKey=function(){var e=this;return e._handleKey.apply(e,arguments)},g.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(u[t]=e[t]);c=null},g.init=function(){var e=g(i);for(var t in e)"_"!==t.charAt(0)&&(g[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},g.init(),o.Mousetrap=g,e.exports&&(e.exports=g),void 0===(r=function(){return g}.call(t,n,t,e))||(e.exports=r)}function d(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function h(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return u[e.which]?u[e.which]:s[e.which]?s[e.which]:String.fromCharCode(e.which).toLowerCase()}function y(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function b(e,t,n){return n||(n=function(){if(!c)for(var e in c={},u)e>95&&e<112||u.hasOwnProperty(e)&&(c[u[e]]=e);return c}()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function v(e,t){var n,r,o,i=[];for(n=function(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus")).split("+")}(e),o=0;o<n.length;++o)r=n[o],f[r]&&(r=f[r]),t&&"keypress"!=t&&l[r]&&(r=l[r],i.push("shift")),y(r)&&i.push(r);return{key:r,modifiers:i,action:t=b(r,i,t)}}function g(e){var t=this;if(e=e||i,!(t instanceof g))return new g(e);t.target=e,t._callbacks={},t._directMap={};var n,r={},o=!1,a=!1,c=!1;function u(e){e=e||{};var t,n=!1;for(t in r)e[t]?n=!0:r[t]=0;n||(c=!1)}function s(e,n,o,i,a,c){var u,s,l,f,p=[],d=o.type;if(!t._callbacks[e])return[];for("keyup"==d&&y(e)&&(n=[e]),u=0;u<t._callbacks[e].length;++u)if(s=t._callbacks[e][u],(i||!s.seq||r[s.seq]==s.level)&&d==s.action&&("keypress"==d&&!o.metaKey&&!o.ctrlKey||(l=n,f=s.modifiers,l.sort().join(",")===f.sort().join(",")))){var h=!i&&s.combo==a,b=i&&s.seq==i&&s.level==c;(h||b)&&t._callbacks[e].splice(u,1),p.push(s)}return p}function l(e,n,r,o){t.stopCallback(n,n.target||n.srcElement,r,o)||!1===e(n,r)&&(function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}(n),function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}(n))}function f(e){"number"!=typeof e.which&&(e.which=e.keyCode);var n=h(e);n&&("keyup"!=e.type||o!==n?t.handleKey(n,function(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}(e),e):o=!1)}function p(e,t,i,a){function s(t){return function(){c=t,++r[e],clearTimeout(n),n=setTimeout(u,1e3)}}function f(t){l(i,t,e),"keyup"!==a&&(o=h(t)),setTimeout(u,10)}r[e]=0;for(var p=0;p<t.length;++p){var d=p+1===t.length?f:s(a||v(t[p+1]).action);b(t[p],d,a,e,p)}}function b(e,n,r,o,i){t._directMap[e+":"+r]=n;var a,c=(e=e.replace(/\s+/g," ")).split(" ");c.length>1?p(e,c,n,r):(a=v(e,r),t._callbacks[a.key]=t._callbacks[a.key]||[],s(a.key,a.modifiers,{type:a.action},o,e,i),t._callbacks[a.key][o?"unshift":"push"]({callback:n,modifiers:a.modifiers,action:a.action,seq:o,level:i,combo:e}))}t._handleKey=function(e,t,n){var r,o=s(e,t,n),i={},f=0,p=!1;for(r=0;r<o.length;++r)o[r].seq&&(f=Math.max(f,o[r].level));for(r=0;r<o.length;++r)if(o[r].seq){if(o[r].level!=f)continue;p=!0,i[o[r].seq]=1,l(o[r].callback,n,o[r].combo,o[r].seq)}else p||l(o[r].callback,n,o[r].combo);var d="keypress"==n.type&&a;n.type!=c||y(e)||d||u(i),a=p&&"keydown"==n.type},t._bindMultiple=function(e,t,n){for(var r=0;r<e.length;++r)b(e[r],t,n)},d(e,"keypress",f),d(e,"keydown",f),d(e,"keyup",f)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},function(e,t,n){var r=n(19),o=n(163),i=r.WeakMap;e.exports="function"==typeof i&&/native code/.test(o(i))},function(e,t,n){var r=n(30),o=n(202),i=n(95),a=n(34);e.exports=function(e,t){for(var n=o(t),c=a.f,u=i.f,s=0;s<n.length;s++){var l=n[s];r(e,l)||c(e,l,u(t,l))}}},function(e,t,n){var r=n(100),o=n(165),i=n(168),a=n(25);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(a(e)),n=i.f;return n?t.concat(n(e)):t}},function(e,t,n){var r=n(19);e.exports=r},function(e,t,n){var r=n(171);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){var r=n(29),o=n(34),i=n(25),a=n(144);e.exports=r?Object.defineProperties:function(e,t){i(e);for(var n,r=a(t),c=r.length,u=0;c>u;)o.f(e,n=r[u++],t[n]);return e}},function(e,t,n){var r=n(100);e.exports=r("document","documentElement")},function(e,t,n){"use strict";var r=n(172).IteratorPrototype,o=n(104),i=n(96),a=n(147),c=n(90),u=function(){return this};e.exports=function(e,t,n){var s=t+" Iterator";return e.prototype=o(r,{next:i(1,n)}),a(e,s,!1,!0),c[s]=u,e}},function(e,t,n){var r=n(33);e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t,n){var r=n(100);e.exports=r("navigator","userAgent")||""},function(e,t,n){var r=n(29),o=n(34).f,i=Function.prototype,a=i.toString,c=/^\s*function ([^ (]*)/;r&&!("name"in i)&&o(i,"name",{configurable:!0,get:function(){try{return a.call(this).match(c)[1]}catch(e){return""}}})},function(e,t,n){"use strict";var r=n(5),o=n(19),i=n(139),a=n(51),c=n(174),u=n(175),s=n(180),l=n(33),f=n(10),p=n(181),d=n(147),h=n(182);e.exports=function(e,t,n){var y=-1!==e.indexOf("Map"),b=-1!==e.indexOf("Weak"),v=y?"set":"add",g=o[e],m=g&&g.prototype,O=g,x={},j=function(e){var t=m[e];a(m,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(b&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return b&&!l(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(b&&!l(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(i(e,"function"!=typeof g||!(b||m.forEach&&!f((function(){(new g).entries().next()})))))O=n.getConstructor(t,e,y,v),c.REQUIRED=!0;else if(i(e,!0)){var _=new O,w=_[v](b?{}:-0,1)!=_,E=f((function(){_.has(1)})),S=p((function(e){new g(e)})),P=!b&&f((function(){for(var e=new g,t=5;t--;)e[v](t,t);return!e.has(-0)}));S||((O=t((function(t,n){s(t,O,e);var r=h(new g,t,O);return null!=n&&u(n,r[v],{that:r,AS_ENTRIES:y}),r}))).prototype=m,m.constructor=O),(E||P)&&(j("delete"),j("has"),y&&j("get")),(P||w)&&j(v),b&&m.clear&&delete m.clear}return x[e]=O,r({global:!0,forced:O!=g},x),d(O,e),b||n.setStrong(O,e,y),O}},function(e,t,n){var r=n(10);e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(e,t,n){"use strict";var r=n(34).f,o=n(104),i=n(214),a=n(102),c=n(180),u=n(175),s=n(145),l=n(215),f=n(29),p=n(174).fastKey,d=n(98),h=d.set,y=d.getterFor;e.exports={getConstructor:function(e,t,n,s){var l=e((function(e,r){c(e,l,t),h(e,{type:t,index:o(null),first:void 0,last:void 0,size:0}),f||(e.size=0),null!=r&&u(r,e[s],{that:e,AS_ENTRIES:n})})),d=y(t),b=function(e,t,n){var r,o,i=d(e),a=v(e,t);return a?a.value=n:(i.last=a={index:o=p(t,!0),key:t,value:n,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=a),r&&(r.next=a),f?i.size++:e.size++,"F"!==o&&(i.index[o]=a)),e},v=function(e,t){var n,r=d(e),o=p(t);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==t)return n};return i(l.prototype,{clear:function(){for(var e=d(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,f?e.size=0:this.size=0},delete:function(e){var t=d(this),n=v(this,e);if(n){var r=n.next,o=n.previous;delete t.index[n.index],n.removed=!0,o&&(o.next=r),r&&(r.previous=o),t.first==n&&(t.first=r),t.last==n&&(t.last=o),f?t.size--:this.size--}return!!n},forEach:function(e){for(var t,n=d(this),r=a(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!v(this,e)}}),i(l.prototype,n?{get:function(e){var t=v(this,e);return t&&t.value},set:function(e,t){return b(this,0===e?0:e,t)}}:{add:function(e){return b(this,e=0===e?0:e,e)}}),f&&r(l.prototype,"size",{get:function(){return d(this).size}}),l},setStrong:function(e,t,n){var r=t+" Iterator",o=y(t),i=y(r);s(e,t,(function(e,t){h(this,{type:r,target:e,state:o(e),kind:t,last:void 0})}),(function(){for(var e=i(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),l(t)}}},function(e,t,n){var r=n(51);e.exports=function(e,t,n){for(var o in t)r(e,o,t[o],n);return e}},function(e,t,n){"use strict";var r=n(100),o=n(34),i=n(17),a=n(29),c=i("species");e.exports=function(e){var t=r(e),n=o.f;a&&t&&!t[c]&&n(t,c,{configurable:!0,get:function(){return this}})}},function(e,t,n){"use strict";var r=n(150),o=n(178);e.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},function(e,t,n){"use strict";var r=n(5),o=n(101).find,i=n(143),a=n(68),c=!0,u=a("find");"find"in[]&&Array(1).find((function(){c=!1})),r({target:"Array",proto:!0,forced:c||!u},{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("find")},function(e,t,n){"use strict";var r=n(5),o=n(219).left,i=n(103),a=n(68),c=n(149),u=n(220),s=i("reduce"),l=a("reduce",{1:0});r({target:"Array",proto:!0,forced:!s||!l||!u&&c>79&&c<83},{reduce:function(e){return o(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(140),o=n(36),i=n(89),a=n(35),c=function(e){return function(t,n,c,u){r(n);var s=o(t),l=i(s),f=a(s.length),p=e?f-1:0,d=e?-1:1;if(c<2)for(;;){if(p in l){u=l[p],p+=d;break}if(p+=d,e?p<0:f<=p)throw TypeError("Reduce of empty array with no initial value")}for(;e?p>=0:f>p;p+=d)p in l&&(u=n(u,l[p],p,s));return u}};e.exports={left:c(!1),right:c(!0)}},function(e,t,n){var r=n(67),o=n(19);e.exports="process"==r(o.process)},function(e,t,n){"use strict";var r=n(5),o=n(101).filter,i=n(105),a=n(68),c=i("filter"),u=a("filter");r({target:"Array",proto:!0,forced:!c||!u},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(45),o="["+n(223)+"]",i=RegExp("^"+o+o+"*"),a=RegExp(o+o+"*$"),c=function(e){return function(t){var n=String(r(t));return 1&e&&(n=n.replace(i,"")),2&e&&(n=n.replace(a,"")),n}};e.exports={start:c(1),end:c(2),trim:c(3)}},function(e,t){e.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},function(e,t,n){"use strict";var r=n(10);function o(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=r((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},function(e,t,n){var r=n(33),o=n(67),i=n(17)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},function(e,t,n){var r=n(25),o=n(140),i=n(17)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[i])?t:o(n)}},function(e,t,n){"use strict";var r=n(29),o=n(10),i=n(144),a=n(168),c=n(160),u=n(36),s=n(89),l=Object.assign,f=Object.defineProperty;e.exports=!l||o((function(){if(r&&1!==l({b:1},l(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=l({},e)[n]||"abcdefghijklmnopqrst"!=i(l({},t)).join("")}))?function(e,t){for(var n=u(e),o=arguments.length,l=1,f=a.f,p=c.f;o>l;)for(var d,h=s(arguments[l++]),y=f?i(h).concat(f(h)):i(h),b=y.length,v=0;b>v;)d=y[v++],r&&!p.call(h,d)||(n[d]=h[d]);return n}:l},function(e,t,n){var r=n(5),o=Math.hypot,i=Math.abs,a=Math.sqrt;r({target:"Math",stat:!0,forced:!!o&&o(1/0,NaN)!==1/0},{hypot:function(e,t){for(var n,r,o=0,c=0,u=arguments.length,s=0;c<u;)s<(n=i(arguments[c++]))?(o=o*(r=s/n)*r+1,s=n):o+=n>0?(r=n/s)*r:n;return s===1/0?1/0:s*a(o)}})},function(e,t,n){var r=n(45),o=/"/g;e.exports=function(e,t,n,i){var a=String(r(e)),c="<"+t;return""!==n&&(c+=" "+n+'="'+String(i).replace(o,"&quot;")+'"'),c+">"+a+"</"+t+">"}},function(e,t,n){var r=n(10);e.exports=function(e){return r((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},function(e,t,n){n(5)({target:"String",proto:!0},{repeat:n(232)})},function(e,t,n){"use strict";var r=n(75),o=n(45);e.exports="".repeat||function(e){var t=String(o(this)),n="",i=r(e);if(i<0||i==1/0)throw RangeError("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(t+=t))1&i&&(n+=t);return n}},function(e,t,n){"use strict";var r=n(36),o=n(137),i=n(35);e.exports=function(e){for(var t=r(this),n=i(t.length),a=arguments.length,c=o(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,s=void 0===u?n:o(u,n);s>c;)t[c++]=e;return t}},function(e,t,n){"use strict";var r=n(153),o=n(25),i=n(35),a=n(45),c=n(154),u=n(155);r("match",1,(function(e,t,n){return[function(t){var n=a(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var a=o(e),s=String(this);if(!a.global)return u(a,s);var l=a.unicode;a.lastIndex=0;for(var f,p=[],d=0;null!==(f=u(a,s));){var h=String(f[0]);p[d]=h,""===h&&(a.lastIndex=c(s,i(a.lastIndex),l)),d++}return 0===d?null:p}]}))},function(e,t,n){var r=n(5),o=n(236);r({target:"Array",stat:!0,forced:!n(181)((function(e){Array.from(e)}))},{from:o})},function(e,t,n){"use strict";var r=n(102),o=n(36),i=n(237),a=n(176),c=n(35),u=n(151),s=n(177);e.exports=function(e){var t,n,l,f,p,d,h=o(e),y="function"==typeof this?this:Array,b=arguments.length,v=b>1?arguments[1]:void 0,g=void 0!==v,m=s(h),O=0;if(g&&(v=r(v,b>2?arguments[2]:void 0,2)),null==m||y==Array&&a(m))for(n=new y(t=c(h.length));t>O;O++)d=g?v(h[O],O):h[O],u(n,O,d);else for(p=(f=m.call(h)).next,n=new y;!(l=p.call(f)).done;O++)d=g?i(f,v,[l.value,O],!0):l.value,u(n,O,d);return n.length=O,n}},function(e,t,n){var r=n(25),o=n(179);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){throw o(e),t}}},,function(e,t,n){"use strict";var r=n(63),o=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},i=n(57),a=n(41),c=n(32),u=function(e,t){return e&&Object(a.a)(t,Object(c.a)(t),e)},s=n(129),l=n(12),f=n(56),p=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},d=Object.prototype.hasOwnProperty,h=function(e){if(!Object(l.a)(e))return p(e);var t=Object(f.a)(e),n=[];for(var r in e)("constructor"!=r||!t&&d.call(e,r))&&n.push(r);return n},y=n(31),b=function(e){return Object(y.a)(e)?Object(s.a)(e,!0):h(e)},v=function(e,t){return e&&Object(a.a)(t,b(t),e)},g=n(196),m=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},O=n(86),x=function(e,t){return Object(a.a)(e,Object(O.a)(e),t)},j=n(81),_=n(122),w=Object(_.a)(Object.getPrototypeOf,Object),E=n(124),S=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Object(j.a)(t,Object(O.a)(e)),e=w(e);return t}:E.a,P=function(e,t){return Object(a.a)(e,S(e),t)},A=n(94),k=n(125),D=function(e){return Object(k.a)(e,b,S)},N=n(47),M=Object.prototype.hasOwnProperty,T=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&M.call(e,"index")&&(n.index=e.index,n.input=e.input),n},C=n(88),R=function(e){var t=new e.constructor(e.byteLength);return new C.a(t).set(new C.a(e)),t},I=function(e,t){var n=t?R(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},L=/\w*$/,z=function(e){var t=new e.constructor(e.source,L.exec(e));return t.lastIndex=e.lastIndex,t},B=n(16),F=B.a?B.a.prototype:void 0,U=F?F.valueOf:void 0,G=function(e){return U?Object(U.call(e)):{}},X=function(e,t){var n=t?R(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},Y=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return R(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return I(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return X(e,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return z(e);case"[object Set]":return new r;case"[object Symbol]":return G(e)}},V=Object.create,H=function(){function e(){}return function(t){if(!Object(l.a)(t))return{};if(V)return V(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),W=function(e){return"function"!=typeof e.constructor||Object(f.a)(e)?{}:H(w(e))},K=n(6),q=n(71),Z=n(24),Q=function(e){return Object(Z.a)(e)&&"[object Map]"==Object(N.a)(e)},J=n(80),$=n(48),ee=$.a&&$.a.isMap,te=ee?Object(J.a)(ee):Q,ne=function(e){return Object(Z.a)(e)&&"[object Set]"==Object(N.a)(e)},re=$.a&&$.a.isSet,oe=re?Object(J.a)(re):ne,ie={};ie["[object Arguments]"]=ie["[object Array]"]=ie["[object ArrayBuffer]"]=ie["[object DataView]"]=ie["[object Boolean]"]=ie["[object Date]"]=ie["[object Float32Array]"]=ie["[object Float64Array]"]=ie["[object Int8Array]"]=ie["[object Int16Array]"]=ie["[object Int32Array]"]=ie["[object Map]"]=ie["[object Number]"]=ie["[object Object]"]=ie["[object RegExp]"]=ie["[object Set]"]=ie["[object String]"]=ie["[object Symbol]"]=ie["[object Uint8Array]"]=ie["[object Uint8ClampedArray]"]=ie["[object Uint16Array]"]=ie["[object Uint32Array]"]=!0,ie["[object Error]"]=ie["[object Function]"]=ie["[object WeakMap]"]=!1;var ae=function e(t,n,a,s,f,p){var d,h=1&n,y=2&n,O=4&n;if(a&&(d=f?a(t,s,f,p):a(t)),void 0!==d)return d;if(!Object(l.a)(t))return t;var j=Object(K.a)(t);if(j){if(d=T(t),!h)return m(t,d)}else{var _=Object(N.a)(t),w="[object Function]"==_||"[object GeneratorFunction]"==_;if(Object(q.a)(t))return Object(g.a)(t,h);if("[object Object]"==_||"[object Arguments]"==_||w&&!f){if(d=y||w?{}:W(t),!h)return y?P(t,v(d,t)):x(t,u(d,t))}else{if(!ie[_])return f?t:{};d=Y(t,_,h)}}p||(p=new r.a);var E=p.get(t);if(E)return E;p.set(t,d),oe(t)?t.forEach((function(r){d.add(e(r,n,a,r,t,p))})):te(t)&&t.forEach((function(r,o){d.set(o,e(r,n,a,o,t,p))}));var S=O?y?D:A.a:y?b:c.a,k=j?void 0:S(t);return o(k||t,(function(r,o){k&&(r=t[o=r]),Object(i.a)(d,o,e(r,n,a,o,t,p))})),d};t.a=function(e){return ae(e,5)}},function(e,t,n){"use strict";var r=n(123),o=n(63),i=n(84),a=function(e,t,n,r){var a=n.length,c=a,u=!r;if(null==e)return!c;for(e=Object(e);a--;){var s=n[a];if(u&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<c;){var l=(s=n[a])[0],f=e[l],p=s[1];if(u&&s[2]){if(void 0===f&&!(l in e))return!1}else{var d=new o.a;if(r)var h=r(f,p,l,e,t,d);if(!(void 0===h?Object(i.a)(p,f,3,r,d):h))return!1}}return!0},c=n(12),u=function(e){return e==e&&!Object(c.a)(e)},s=n(32),l=function(e){for(var t=Object(s.a)(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,u(o)]}return t},f=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}},p=function(e){var t=l(e);return 1==t.length&&t[0][2]?f(t[0][0],t[0][1]):function(n){return n===e||a(n,e,t)}},d=n(197),h=n(127),y=n(83),b=n(42),v=function(e,t){return Object(y.a)(e)&&u(t)?f(Object(b.a)(e),t):function(n){var r=Object(d.a)(n,e);return void 0===r&&r===t?Object(h.a)(n,e):Object(i.a)(t,r,3)}},g=n(78),m=n(6),O=function(e){return function(t){return null==t?void 0:t[e]}},x=n(82),j=function(e){return function(t){return Object(x.a)(t,e)}},_=function(e){return Object(y.a)(e)?O(Object(b.a)(e)):j(e)},w=function(e){return"function"==typeof e?e:null==e?g.a:"object"==typeof e?Object(m.a)(e)?v(e[0],e[1]):p(e):_(e)},E=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),c=a.length;c--;){var u=a[e?c:++o];if(!1===n(i[u],u,i))break}return t}}(),S=function(e,t){return e&&E(e,t,s.a)},P=n(31),A=function(e,t){return function(n,r){if(null==n)return n;if(!Object(P.a)(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=Object(n);(t?i--:++i<o)&&!1!==r(a[i],i,a););return n}}(S),k=function(e,t){var n=-1,r=Object(P.a)(e)?Array(e.length):[];return A(e,(function(e,o,i){r[++n]=t(e,o,i)})),r};t.a=function(e,t){return(Object(m.a)(e)?r.a:k)(e,w(t,3))}}])},83:function(e,t,n){}},[[295,1,2]]]);
//# sourceMappingURL=main.a544d422.chunk.js.map